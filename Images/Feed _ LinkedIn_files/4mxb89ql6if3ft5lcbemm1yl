/*! For license information please see chunk.535.d21f29ac156c3da89986.js.LICENSE.txt */
(globalThis.webpackChunk_ember_auto_import_=globalThis.webpackChunk_ember_auto_import_||[]).push([[535],{51495:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{CI:()=>i,DEBUG:()=>r})
const r=!1,i=!1},99186:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{Abi:()=>ie,AbiV2:()=>ae})
var r={}
function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.r(r),t.d(r,{ABI_FUNNEL_TRACKING_EVENTS:()=>T,EMAIL_DOMAIN_RESOLVE:()=>h,EMAIL_VALIDATION_ERRORS:()=>v,EVENT_NAME:()=>u,IMPORT_CONTACTS:()=>m,IMPORT_ERRORS:()=>b,INPUT_EMAIL:()=>f,NETWORK_ERROR:()=>c,OAUTH:()=>g,POLL_IMPORT_STATUS:()=>y,STATES:()=>p,STATE_MACHINE_ERRORS:()=>_,STATE_TRANSITION_EVENT_NAME:()=>l,TOO_MANY_REQUESTS:()=>d}),i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number")
return this._maxListeners=e,this},i.prototype.emit=function(e){let n,t,r,i,c,d
if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(n=arguments[1],n instanceof Error)throw n
throw TypeError('Uncaught, unspecified "error" event.')}if(t=this._events[e],s(t))return!1
if(a(t))switch(arguments.length){case 1:t.call(this)
break
case 2:t.call(this,arguments[1])
break
case 3:t.call(this,arguments[1],arguments[2])
break
default:for(r=arguments.length,i=new Array(r-1),c=1;c<r;c++)i[c-1]=arguments[c]
t.apply(this,i)}else if(o(t)){for(r=arguments.length,i=new Array(r-1),c=1;c<r;c++)i[c-1]=arguments[c]
for(d=t.slice(),r=d.length,c=0;c<r;c++)d[c].apply(this,i)}return!0},i.prototype.addListener=function(e,n){var t
if(!a(n))throw TypeError("listener must be a function")
return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(n.listener)?n.listener:n),this._events[e]?o(this._events[e])?this._events[e].push(n):this._events[e]=[this._events[e],n]:this._events[e]=n,o(this._events[e])&&!this._events[e].warned&&(t=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&t>0&&this._events[e].length>t&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,n){if(!a(n))throw TypeError("listener must be a function")
let t=!1
function r(){this.removeListener(e,r),t||(t=!0,n.apply(this,arguments))}return r.listener=n,this.on(e,r),this},i.prototype.removeListener=function(e,n){let t,r,i,s
if(!a(n))throw TypeError("listener must be a function")
if(!this._events||!this._events[e])return this
if(t=this._events[e],i=t.length,r=-1,t===n||a(t.listener)&&t.listener===n)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,n)
else if(o(t)){for(s=i;s-- >0;)if(t[s]===n||t[s].listener&&t[s].listener===n){r=s
break}if(r<0)return this
1===t.length?(t.length=0,delete this._events[e]):t.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,n)}return this},i.prototype.removeAllListeners=function(e){let n,t
if(!this._events)return this
if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this
if(0===arguments.length){for(n in this._events)"removeListener"!==n&&this.removeAllListeners(n)
return this.removeAllListeners("removeListener"),this._events={},this}if(t=this._events[e],a(t))this.removeListener(e,t)
else for(;t.length;)this.removeListener(e,t[t.length-1])
return delete this._events[e],this},i.prototype.listeners=function(e){let n
return n=this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[],n},i.listenerCount=function(e,n){let t
return t=e._events&&e._events[n]?a(e._events[n])?1:e._events[n].length:0,t}
const c="network-error",d="Too Many Requests",u="custom-state-event",l="state-transition-event",p={INPUT_EMAIL:"input-email",EMAIL_DOMAIN_RESOLVE:"email-domain-resolve",IMPORT_CONTACTS:"import-contacts",POLL_IMPORT_STATUS:"poll-import-status",OAUTH:"oauth"},f={EVENTS:{EMAIL_INPUT_CHANGE:"emailInputChange",FETCH_FORM_SUBMIT:"fetchFormSubmit"},EVENT_TYPE:{INVALID_EMAIL:"invalid-email"}},h={EVENTS:{EMAIL_INPUT_CHANGE:"emailInputChange"},EVENT_TYPE:{PROVIDER_CHANGED:"provider-changed",RESOLUTION_BEGUN:"resolution-begun",RESOLUTION_COMPLETE:"resolution-complete",PASSWORD_REQUIRED:"password-required",UNSUPPORTED_DOMAIN:"unsupported-domain",NETWORK_ERROR:"network-error"}},m={EVENTS:{STATE_RESET:"stateReset"},EVENT_TYPE:{OPEN_POPUP:"open-popup"}},y={EVENTS:{GET_IMPORT_STATUS:"getImportStatus",STATE_RESET:"stateReset"},EVENT_TYPE:{IMPORT_STARTED:"import-started",IMPORT_SUCCESS:"import-success",IMPORT_IN_PROGRESS:"import-in-progress",IMPORT_ERROR_OTHER:"import-error-other",IMPORT_ERROR_BAD_LOGIN:"import-error-bad-login",ZERO_CONTACTS_TO_IMPORT:"zero-contacts-to-import",INVALID_CREDENTIALS:"invalid-credentials",EXCEEDED_MAX_RETRIES:"exceeded-max-retries"}},g={EVENTS:{STATE_RESET:"stateReset"},EVENT_TYPE:{CALLBACK:"oauth-callback",OAUTH_SUCCESS:"oauth-success",UPDATE_POPUP:"update-popup",LOGIN_LIMIT_EXCEEDED:"login-limit-exceeded"}},v={INVALID_EMAIL:"invalid-email",UNSUPPORTED_DOMAIN:"unsupported-domain",OAUTH_WITHOUT_PROVIDER:"oauth-without-provider",INVALID_DOMAIN_RESOLUTION_CALLBACK:"invalid-domain-resolution-callback",NETWORK:"network",OTHER:"other"},b={EMPTY_CONFIG:"empty-config",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"invalid-password",INVALID_ABOOK_TRANSACTION_ID:"invalid-abook-transaction-id",INVALID_TICKET_ID_CALLBACK:"invalid-ticket-id-callback",INVALID_POLL_STATUS_CALLBACK:"invalid-poll-status-callback",INVALID_TRACKING_CALLBACK:"invalid-tracking-callback",INVALID_CREDENTIALS:"invalid-credentials",INVALID_JSECURE:"invalid-jsecure",ZERO_CONTACTS_TO_IMPORT:"zero-contacts-to-import",EXCEEDED_MAX_REQUEST_RETRIES:"exceeded-max-request-retries",EXCEEDED_MAX_STATUS_CHECK_RETRIES:"exceeded-max-status-check-retries",IMPORT_ERROR_OTHER:"import-error-other",NETWORK:"network",OTHER:"other",INVALID_IMPORT_TICKET_ID:"invalid-import-ticket-id",OAUTH_VALIDATION_TIMED_OUT:"oauth-validation-timed-out",OAUTH_POPUP_NOT_OPEN:"oauth-popup-not-open"},T={SUBMIT:"AbookImportSubmitEvent",TASK_STATUS:"AbookImportTaskStatusEvent",OAUTH_REDIRECT:"AbookImportOAuthRedirectEvent",OAUTH_CALLBACK:"AbookImportOAuthCallbackEvent"},_={ALREADY_STARTED:"State machine has already begun"}
class E extends i{constructor(e,n,t){if(super(),this.promise=t||Promise,!Array.isArray(e))throw new Error("The state machine constructor only accepts an array of states as the first argument")
if(!n)throw new Error("Define a start state for the state machine")
if(this.states={},e.forEach((e=>{this.addState(e)})),this.startState=this.states[n],!this.startState)throw new Error("Start state is not defined")
this.currentState=this.startState}start(){if(this.currentState.getName()!==this.startState.getName())throw new Error(_.ALREADY_STARTED)
this.step()}addState(e){this.states[e.getName()]=e,e.on(u,(n=>{const t=n.type||u
this.emit(t,{currentState:e.getName(),eventData:n})})),e.on(l,(e=>{this._transitionTo(e)}))}_transitionTo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(!(e.state in this.states))throw new Error(`Cannot transition from ${this.currentState} to ${e.state}`)
this.currentState=this.states[e.state],delete e.state,this.step(e.eventName,e)}step(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"entry",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const t=this.currentState.go(e,n.data)
if(t){if("function"==typeof t.then)return new this.promise((e=>{e(t)})).then((e=>this._transitionTo(e)))
this._transitionTo(t)}}getCurrentState(){return this.currentState.getName()}}class S extends i{constructor(e,n){super(),this.name=e,this.validNextStates=n,this.defaultStateEvents=["entry"],this.events=[]}onEntry(){}getName(){return this.name}getNextStates(){return this.validNextStates}getEvents(){return this.defaultStateEvents+this.events}go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"entry",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(this.getEvents().indexOf(e)>-1)return this[`on${e.charAt(0).toUpperCase()}${e.slice(1)}`](n)
throw new Error(`I can not serve that event. Expecting [${this.getEvents()}]\n                but got ${e} from ${this.name}`)}}class C extends S{constructor(){super(p.INPUT_EMAIL,[p.EMAIL_DOMAIN_RESOLVE,p.IMPORT_CONTACTS]),this.events=[f.EVENTS.EMAIL_INPUT_CHANGE,f.EVENTS.FETCH_FORM_SUBMIT],this.resolvedEmail=null,this.isNonOAuth=!1,this.provider=null}onEntry(e){Object.prototype.hasOwnProperty.call(e,"emailAddress")&&(this.resolvedEmail=e.emailAddress),Object.prototype.hasOwnProperty.call(e,"isNonOAuth")&&(this.isNonOAuth=e.isNonOAuth),Object.prototype.hasOwnProperty.call(e,"provider")&&(this.provider=e.provider)}onEmailInputChange(e){let n="object"==typeof e?e.emailAddress:e
if("object"==typeof e&&!e.isEmailDomainResolve)return this.emit(u,{type:h.EVENT_TYPE.RESOLUTION_COMPLETE}),this.isNonOAuth=Object.prototype.hasOwnProperty.call(e,"isNonOauth")?e.isNonOAuth:this.isNonOAuth,{state:p.INPUT_EMAIL,data:{emailAddress:n,isEmailDomainResolve:e.isEmailDomainResolve,provider:e.provider,isNonOAuth:e.isNonOAuth}}
const t=/^([a-zA-Z0-9_\-=.'+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9-]+\.)+))([a-zA-Z]{2,10}|[0-9]{1,3})(\]?)$/
if(n.length){if(n=n.trim(),t.test(n))return{state:p.EMAIL_DOMAIN_RESOLVE,data:{emailAddress:n,isEmailDomainResolve:e.isEmailDomainResolve,provider:e.provider,isNonOAuth:e.isNonOAuth}}
this.emit(u,{type:f.EVENT_TYPE.INVALID_EMAIL})}}onFetchFormSubmit(e){const n={},{abookImportTransactionId:t,password:r}=e
if(this.isNonOAuth&&r.length>0?n.password=r:this.isNonOAuth&&this.emit(u,{type:h.EVENT_TYPE.PASSWORD_REQUIRED}),t&&(n.abookImportTransactionId=t),this.resolvedEmail)return n.emailAddress=this.resolvedEmail,n.isNonOAuth=this.isNonOAuth,n.provider=this.provider,{state:p.IMPORT_CONTACTS,data:n}
this.emit(u,{type:f.EVENT_TYPE.INVALID_EMAIL})}}const A=Object.freeze({"com.linkedin.voyager.dash.deco.contacts.EmailProvider":"com.linkedin.voyager.dash.deco.contacts.EmailProvider-1","com.linkedin.voyager.dash.deco.contacts.EmailImportTaskStatus":"com.linkedin.voyager.dash.deco.contacts.EmailImportTaskStatus-1"}),k="X-RestLi-Method",I="X-RestLi-Protocol-Version",R="Csrf-Token",w="Content-Type",x="x-restli-id",M="application/json",O="2.0.0",N={GET:"GET",CREATE:"POST",ACTION:"POST"}
function P(){return"undefined"!=typeof window&&window&&"node"!==window.appEnvironment}function U(){const e=P()&&document.cookie.match(/JSESSIONID=?"?([^";]+)?"?/)
return e&&e[1]||""}function D(e,n,t,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}
const a=N[n],o=JSON.stringify(t)||""
return new r(((t,r)=>{const s=new XMLHttpRequest
s.open(a,e),s.setRequestHeader(w,M),s.setRequestHeader(R,U()),s.setRequestHeader(I,O),n&&a!==n&&s.setRequestHeader(k,n),Object.keys(i).forEach((e=>{s.setRequestHeader(e,i[e])})),s.onload=function(){let e=this
if(!e){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a]
e=i[0].target}4===e.readyState&&(200===e.status?t(JSON.parse(e.response||e.responseText)):201===e.status?t(e.getResponseHeader(x)):r(new Error(e.statusText)))},s.onerror=function(e){r(new Error(e))},s.send(o)}))}function L(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0
const r=A[t]
if(!e)throw new Error("uri must be passed.")
if(!r)throw new Error("Invalid recipeId! Recipe not defined in dash-recipes.")
const i=Object.keys(n).map((e=>`${e}=${n[e]}`)).join("&")
return`${e}?decorationId=${r}&${i}`}class F extends S{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
super(p.EMAIL_DOMAIN_RESOLVE,[p.INPUT_EMAIL]),this.promise=e||Promise,this.events=[h.EVENTS.EMAIL_INPUT_CHANGE]
const{dashEnabled:t,pageKey:r}=n
if(t&&!r)throw new Error("PageKey is required for dash email domain resolver")
this.dashEnabled=t,this.pageKey=r}_buildDomainUrl(e){return this.dashEnabled?L("/voyager/api/voyagerContactsDashEmailProvider",{q:"findEmailProviders",emailAddress:e},"com.linkedin.voyager.dash.deco.contacts.EmailProvider"):`/voyager/api/voyagerGrowthEmailDomainResolutions/${e}`}onEntry(e){const n=this._buildDomainUrl(e.emailAddress)
this.emit(u,{type:h.EVENT_TYPE.RESOLUTION_BEGUN})
const t={}
return this.dashEnabled&&(t["X-Li-Page-Instance"]=this.pageKey),D(n,"GET",{},this.promise,t).then((n=>{let t=n
return this.dashEnabled&&(t=n&&n.elements?n.elements[0]:{}),this._handleResponse(e,t)})).catch((()=>{this.emit(u,{type:c})}))}_handleResponse(e,n){return this.emit(u,{type:h.EVENT_TYPE.RESOLUTION_COMPLETE}),"UNSUPPORTED"===n.emailProviderType?(this.emit(u,{type:h.EVENT_TYPE.UNSUPPORTED_DOMAIN}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,provider:n.emailProviderType,isNonOAuth:n.passwordInputRequired}}):n.passwordInputRequired?(this.emit(u,{type:h.EVENT_TYPE.PASSWORD_REQUIRED}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,provider:n.emailProviderType,isNonOAuth:n.passwordInputRequired}}):{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,provider:n.emailProviderType,isNonOAuth:n.passwordInputRequired}}}onEmailInputChange(e){const n=f.EVENTS.EMAIL_INPUT_CHANGE
return this.emit(u,{type:h.EVENT_TYPE.PROVIDER_CHANGED}),{state:p.INPUT_EMAIL,eventName:n,data:{emailAddress:e}}}}class B extends S{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
super(p.IMPORT_CONTACTS,[p.POLL_IMPORT_STATUS]),this.promise=e||Promise,this.events=[g.EVENTS.STATE_RESET]
const{dashEnabled:t,pageKey:r}=n
if(t&&!r)throw new Error("PageKey is required for import contacts")
this.dashEnabled=t,this.pageKey=r,this.importUrl=this.dashEnabled?"/voyager/api/voyagerContactsDashEmailImportTask":"/voyager/api/voyagerGrowthEmailImportTask"}get customHeaders(){return this.dashEnabled?{"X-Li-Page-Instance":this.pageKey}:{}}onStateReset(e){return this.importUrl=this.importUrl,{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}}}onEntry(e){e.isNonOAuth||this.emit(u,{type:m.EVENT_TYPE.OPEN_POPUP})
const n=this.dashEnabled?{email:e.emailAddress,password:e.password,transactionId:e.abookImportTransactionId}:{emailAddress:e.emailAddress,password:e.password,abookImportTransactionId:e.abookImportTransactionId}
return D(this.importUrl,"CREATE",n,this.promise,this.customHeaders).then((n=>({state:p.POLL_IMPORT_STATUS,data:{ticketId:n,emailAddress:e.emailAddress,provider:e.provider,isNonOAuth:e.isNonOAuth}}))).catch((n=>(n.message===d?this.emit(u,{type:y.EVENT_TYPE.EXCEEDED_MAX_RETRIES}):this.emit(u,{type:c}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})))}}class j extends S{constructor(){super(p.OAUTH,[p.IMPORT_CONTACTS,p.INPUT_EMAIL]),this.oAuthUrl="/genie/startauth?sec=true&cb=onAuthenticationComplete&as=",this.events=[g.EVENTS.STATE_RESET]}_adjustDomain(){let e=document.domain,n=e
const t=/(lmodules)|(linkedin)/i,r=/\./g
if(r.test(e))for(let i=0,a=e.match(r).length;i<a&&(e=e.substring(e.indexOf(".")+1),t.test(e));i+=1)n=e
document.domain!==n&&(document.domain=n)}_updatePopup(e){this._adjustDomain(),this.emit(u,{type:g.EVENT_TYPE.UPDATE_POPUP,provider:this.provider,url:`https://www.${document.domain}${e}`})}onEntry(e){this.isNonOAuth=e.isNonOAuth,this.provider=e.provider,window.onAuthenticationComplete=this.onAuthenticationComplete.bind(this),e.isNonOAuth||(e.authSpecGaapScriptV2Urn?this._updatePopup(`${this.oAuthUrl}${e.authSpecGaapScriptV2Urn}`):this._updatePopup(`${this.oAuthUrl}${e.authSpec}`))}onStateReset(e){return{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}}}onAuthenticationComplete(e,n){if(this.emit(u,{type:g.EVENT_TYPE.CALLBACK,error:n}),n)return this.emit(u,{type:c}),{state:p.INPUT_EMAIL}
this.emit(u,{type:g.EVENT_TYPE.OAUTH_SUCCESS}),this.emit(l,{state:p.IMPORT_CONTACTS,data:{emailAddress:e,isNonOAuth:this.isNonOAuth,provider:this.provider}})}}class q extends S{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
super(p.POLL_IMPORT_STATUS,[p.INPUT_EMAIL,p.OAUTH]),this.promise=e.promise||Promise
const{dashEnabled:n,pageKey:t}=e
if(n&&!t)throw new Error("PageKey is required for poll import status")
this.dashEnabled=n,this.pageKey=t,this.events=[y.EVENTS.GET_IMPORT_STATUS,y.EVENTS.STATE_RESET],this.currentStatus=!1,this.pollingCount=0,this.noOfRetries=e.noOfRetries||30,this.pollingInterval=e.pollingInterval||0===e.pollingInterval?e.pollingInterval:500}onEntry(e){return new this.promise((n=>{const t=this
this._pollStatus(e).then((function r(i){i?n(i):setTimeout((()=>{t._pollStatus(e).then(r)}),t.pollingInterval)}))}))}_buildPollImportStatusUrl(e){return this.dashEnabled?L(`/voyager/api/voyagerContactsDashEmailImportTaskStatus/${e}`,{},"com.linkedin.voyager.dash.deco.contacts.EmailImportTaskStatus"):"/voyager/api/voyagerGrowthEmailImportTask?action=getImportStatus"}get customHeaders(){return this.dashEnabled?{"X-Li-Page-Instance":this.pageKey}:{}}_pollStatus(e){if(this.pollingCount<this.noOfRetries){let n="GET"
const t={}
return this.dashEnabled||(t.importTaskHandle={handle:e.ticketId},n="ACTION"),this.pollingCount=this.pollingCount+1,D(this._buildPollImportStatusUrl(e.ticketId),n,t,this.promise,this.customHeaders).then((n=>{const t=this.dashEnabled?n.state:n.value.status,{authSpec:r,authSpecGaapScriptV2Urn:i}=this.dashEnabled?n:n.value
switch(t){case"IN_PROGRESS":return new this.promise((e=>{1===this.pollingCount?this.emit(u,{type:y.EVENT_TYPE.IMPORT_STARTED}):this.emit(u,{type:y.EVENT_TYPE.IMPORT_IN_PROGRESS}),e()}))
case"SUCCESS":return new this.promise((n=>{this.emit(u,{type:y.EVENT_TYPE.IMPORT_SUCCESS,ticketId:e.ticketId}),n({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,ticketId:e.ticketId,success:!0}})}))
case"ERROR_BAD_LOGIN":return new this.promise((n=>{this.emit(u,{type:y.EVENT_TYPE.IMPORT_ERROR_BAD_LOGIN}),e.isNonOAuth?(this.emit(u,{type:y.EVENT_TYPE.INVALID_CREDENTIALS}),n({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})):n(r?{state:p.OAUTH,data:{emailAddress:e.emailAddress,isNonOAuth:e.isNonOAuth,provider:e.provider,authSpec:r}}:{state:p.OAUTH,data:{emailAddress:e.emailAddress,isNonOAuth:e.isNonOAuth,provider:e.provider,authSpecGaapScriptV2Urn:i}})}))
case"ERROR_ZERO_CONTACTS":return new this.promise((n=>{this.emit(u,{type:y.EVENT_TYPE.ZERO_CONTACTS_TO_IMPORT}),n({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})}))
case"ERROR_OTHERS":case"ERROR_OTHER":return new this.promise((n=>{this.emit(u,{type:y.EVENT_TYPE.IMPORT_ERROR_OTHER}),n({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})}))
default:return new this.promise((n=>{this.emit(u,{type:c}),n({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})}))}})).catch((()=>(this.emit(u,{type:c}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})))}this.emit(u,{type:y.EVENT_TYPE.EXCEEDED_MAX_RETRIES})}onGetImportStatus(){return this.currentStatus}onStateReset(e){return this.currentStatus=this.currentStatus,{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}}}}function V(e){return new Promise(((n,t)=>{if(e.resolveDomainCallback&&"function"==typeof e.resolveDomainCallback||t(v.INVALID_DOMAIN_RESOLUTION_CALLBACK),e.emailAddress&&"string"==typeof e.emailAddress){const r=e.emailAddress.trim();/^([a-zA-Z0-9_\-=.'+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9-]+\.)+))([a-zA-Z]{2,10}|[0-9]{1,3})(\]?)$/.test(r)?e.resolveDomainCallback.call(this,{emailAddress:r}).then((e=>{const i={isOauth:e.isOauth,emailAddress:r}
e.isOauth&&(e.providerName?"UNSUPPORTED"===e.providerName?t(v.UNSUPPORTED_DOMAIN):i.providerName=e.providerName:t(v.OAUTH_WITHOUT_PROVIDER)),n(i)})).catch((()=>{t(v.OTHER)})):t(v.INVALID_EMAIL)}else t(v.INVALID_EMAIL)}))}function H(e){let n,t
return new Promise(((r,i)=>{e||i(b.EMPTY_CONFIG),e.pollStatusCallback&&"function"==typeof e.pollStatusCallback||i(b.INVALID_POLL_STATUS_CALLBACK),e.fireTrackingEventCallback&&"function"==typeof e.fireTrackingEventCallback||i(b.INVALID_TRACKING_CALLBACK),e.abookImportTransactionId&&"string"==typeof e.abookImportTransactionId||i(b.INVALID_ABOOK_TRANSACTION_ID),e.importTicketId&&"string"==typeof e.importTicketId||i(b.INVALID_IMPORT_TICKET_ID),t=e.retryCount||0
try{e.pollStatusCallback.call(this,{importTicketId:e.importTicketId}).then((a=>{const o=a.status||"ERROR_OTHER"
switch(e.fireTrackingEventCallback&&e.fireTrackingEventCallback(T.TASK_STATUS,{status:o,abookImportTransactionId:e.abookImportTransactionId}),a.status){case"SUCCESS":r({importTicketId:e.importTicketId,abookImportTransactionId:e.abookImportTransactionId})
break
case"IN_PROGRESS":n=setTimeout((()=>{if(clearTimeout(n),t<30)return t+=1,H.call(this,{importTicketId:e.importTicketId,pollStatusCallback:e.pollStatusCallback,fireTrackingEventCallback:e.fireTrackingEventCallback,abookImportTransactionId:e.abookImportTransactionId,isOauthImport:e.isOauthImport||!1,retryCount:t}).then((e=>r(e))).catch((e=>i(e)))
i(b.EXCEEDED_MAX_STATUS_CHECK_RETRIES)}),500)
break
case"ERROR_BAD_LOGIN":e.isOauthImport?r(a):i(b.INVALID_CREDENTIALS)
break
case"ERROR_ZERO_CONTACTS":i(b.ZERO_CONTACTS_TO_IMPORT)
break
default:i(b.IMPORT_ERROR_OTHER)}})).catch((()=>{e.fireTrackingEventCallback(T.TASK_STATUS,{status:"NETWORK_ERROR",abookImportTransactionId:e.abookImportTransactionId}),i(b.IMPORT_ERROR_OTHER)}))}catch(n){e.fireTrackingEventCallback(T.TASK_STATUS,{status:"NETWORK_ERROR",abookImportTransactionId:e.abookImportTransactionId}),i(b.IMPORT_ERROR_OTHER)}}))}function G(e){return new Promise(((n,t)=>{e||t(b.EMPTY_CONFIG),e.emailAddress&&"string"==typeof e.emailAddress||t(b.INVALID_EMAIL),e.password&&"string"==typeof e.password||t(b.INVALID_PASSWORD),e.abookImportTransactionId&&"string"==typeof e.abookImportTransactionId||t(b.INVALID_ABOOK_TRANSACTION_ID),e.getImportTicketIdCallback&&"function"==typeof e.getImportTicketIdCallback||t(b.INVALID_TICKET_ID_CALLBACK),e.pollStatusCallback&&"function"==typeof e.pollStatusCallback||t(b.INVALID_POLL_STATUS_CALLBACK),e.fireTrackingEventCallback&&"function"==typeof e.fireTrackingEventCallback||t(b.INVALID_TRACKING_CALLBACK),e.fireTrackingEventCallback(T.SUBMIT,{abookImportTransactionId:e.abookImportTransactionId}),e.getImportTicketIdCallback.call(this,{emailAddress:e.emailAddress,password:e.password,abookImportTransactionId:e.abookImportTransactionId}).then((r=>{if(r.importTicketId)return H({importTicketId:r.importTicketId,pollStatusCallback:e.pollStatusCallback,fireTrackingEventCallback:e.fireTrackingEventCallback,abookImportTransactionId:e.abookImportTransactionId}).then((e=>n(e))).catch((e=>t(e)))
t(b.INVALID_IMPORT_TICKET_ID)})).catch((e=>{Array.isArray(e.errors)&&e.errors.some((e=>429===e.status))?t(b.EXCEEDED_MAX_REQUEST_RETRIES):t(e||b.OTHER)}))}))}const K={hotmail:{width:905,height:580},aol:{width:520,height:315},"live.com":{width:905,height:580},"msn.com":{width:905,height:580},default:{width:790,height:650},minimum:{width:150,height:100}},W=P()
let z,Q,$,Y,X
function J(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.default,t=arguments.length>2?arguments[2]:void 0
if(W||"function"!=typeof Q){if(!z)return}else Q({url:e,size:n})
const{oAuthWindow:r}=z,{width:i,height:a}=n
r&&r.resizeTo?(r.location=t.sanitizeUrl(e),r.resizeTo(i,a),Y.fireTrackingEventCallback(T.OAUTH_REDIRECT,{abookImportTransactionId:Y.abookImportTransactionId})):z=null}function Z(){if(!z)return
const{oAuthWindow:e}=z
e&&(e.focus(),setTimeout((()=>{e&&e.close()}),5)),z=null}function ee(e){return new Promise(((n,t)=>{e.getImportTicketIdCallback.call(this,{emailAddress:e.emailAddress,abookImportTransactionId:e.abookImportTransactionId}).then((n=>{if(n.importTicketId)return H({importTicketId:n.importTicketId,pollStatusCallback:e.pollStatusCallback,fireTrackingEventCallback:e.fireTrackingEventCallback,abookImportTransactionId:e.abookImportTransactionId,isOauthImport:e.isOauthImport})
t(b.IMPORT_ERROR_OTHER)})).then((e=>{n(e)})).catch((e=>{Array.isArray(e.errors)&&e.errors.some((e=>429===e.status))?t(b.EXCEEDED_MAX_REQUEST_RETRIES):t(e)}))}))}function ne(){if(!W)return void(z={})
const{width:e,height:n}=K.minimum,t=window.open("","oauth-popup",`width=${e},height=${n},toolbar=0,location=0,status=0,scrollbars=no`)
z={oAuthWindow:t},X=!1,t&&(t.focus(),function(){let e=0
return new Promise((function n(t,r){z&&z.oAuthWindow&&!z.oAuthWindow.closed?e<120?(e+=1,setTimeout(n,1e3,t,r)):(Z(),r()):(z=null,X?t():r())}))}().catch((()=>{"function"==typeof $&&$(b.OAUTH_VALIDATION_TIMED_OUT)})))}function te(e,n){let t="linkedin.com"
W&&(function(){let e=document.domain,n=e
const t=/(lmodules)|(linkedin)/i,r=/\./g
if(r.test(e))for(let i=0,a=e.match(r).length;i<a&&(e=e.substring(e.indexOf(".")+1),t.test(e));i+=1)n=e
document.domain!==n&&(document.domain=n)}(),t=document.domain)
const r=`https://www.${t}/genie/startauth?sec=true&cb=onAuthenticationComplete&as=${e}`
return"YAHOO_JAPAN"===n?`https://fbi.address.yahoo.co.jp/explain?done=${encodeURIComponent(r)}`:r}function re(e){return new Promise(((n,t)=>{e||t(b.EMPTY_CONFIG),e.emailAddress&&e.emailAddress.length||t(b.INVALID_EMAIL),e.abookImportTransactionId&&e.abookImportTransactionId.length||t(b.INVALID_ABOOK_TRANSACTION_ID),e.provider&&e.provider.length||t(b.INVALID_EMAIL),e.getImportTicketIdCallback&&"function"==typeof e.getImportTicketIdCallback||t(b.INVALID_TICKET_ID_CALLBACK),e.pollStatusCallback&&"function"==typeof e.pollStatusCallback||t(b.INVALID_POLL_STATUS_CALLBACK),e.fireTrackingEventCallback&&"function"==typeof e.fireTrackingEventCallback||t(b.INVALID_TRACKING_CALLBACK),e.jSecure&&"object"==typeof e.jSecure||t(b.INVALID_JSECURE),e.isOauthImport=!0,z||ne(),z||t(b.OAUTH_POPUP_NOT_OPEN),Q=n,$=t,e.fireTrackingEventCallback(T.SUBMIT,{abookImportTransactionId:e.abookImportTransactionId}),ee(e).then((r=>{const{importTicketId:i,authSpec:a,authSpecGaapScriptV2Urn:o}=r
if(i)Z(),n(r)
else if(a){const n=te(a,e.provider),t=K[e.provider]
Y=e,J(n,t,e.jSecure)}else if(o){const n=te(o,e.provider),t=K[e.provider]
Y=e,J(n,t,e.jSecure)}else t(b.OTHER)})).catch((e=>{Z(),t(e)}))}))}W&&(window.onAuthenticationComplete=function(e,n){e?(Y.emailAddress=e,ee(Y).then((e=>{const{importTicketId:n}=e
n&&"function"==typeof Q?Q(e):"function"==typeof $&&$(b.IMPORT_ERROR_OTHER)})).catch((()=>{"function"==typeof $&&$(b.IMPORT_ERROR_OTHER)})).then((()=>Z()))):"function"==typeof $&&$({error:n}),Y.fireTrackingEventCallback(T.OAUTH_CALLBACK,{abookImportTransactionId:Y.abookImportTransactionId}),X=!0,Z()})
class ie extends E{constructor(e){super([new C,new F(e),new B(e),new j,new q({promise:e})],p.INPUT_EMAIL,e),this.CONSTANTS=r,this.validateEmailAndResolveDomain=V,this.importContactsFromNonOauthDomain=G,this.importContactsFromOauthDomain=re,this.openOauthPopup=ne,this.closeOauthPopup=Z}}class ae extends E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{promise:n,pageKey:t}=e
if(!t)throw new Error("PageKey is required")
super([new C,new F(n,{dashEnabled:!0,pageKey:t}),new B(n,{dashEnabled:!0,pageKey:t}),new j,new q({promise:n,dashEnabled:!0,pageKey:t})],p.INPUT_EMAIL,n),this.CONSTANTS=r,this.validateEmailAndResolveDomain=V,this.importContactsFromNonOauthDomain=G,this.importContactsFromOauthDomain=re,this.openOauthPopup=ne,this.closeOauthPopup=Z}}},44837:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{AbuseFeaturesCollectionCoordinator:()=>c,CommonFeaturesAccessor:()=>s})
var r,i,a=["languages","substr","language","width","Windows Phone","win","Windows","android","Android","cros","Linux","iphone","ipad","Mac","iOS","Other","mac","linux","pike","ipod","opera","opr","chrome","safari","trident","Internet Explorer","20030107","toSource","isCanvasSupported","WebGLRenderingContext","Microsoft Internet Explorer","appName","swfobject","addFlashDivNode","setAttribute","swfContainerId","___fp_swf_loaded","false","experimental-webgl","webrtc","webRtcKey","tsSeed","location","locationKey","javascripts","product","productSubKey","hardwareConcurrencyKey","numOfCores","vendor","languageKey","incognito","pixelDepth","screenOrientation","availableScreenResolution","sessionStorageKey","indexedDb","addBehaviorKey","signals","touchSupport","touchSupportKey","networkInfo","automation","mimetyps","Options not provided","components","excludes","key","alias","getData","shouldEnforceDataLimit","dataLimit","number","stringify","data","errors","acq_time","latency","allFeatures","querySelector","firstChild","nodeValue","parentNode","parse","str2ab","encode","btoa","apply","importPk","atob","crypto","subtle","importKey","RSA-OAEP","SHA-256","wrap","spki","wrapKey","raw","wrapErrorResult","error","encryptWithKey","string","ec1","getRandomValues","generateKey","encrypt","decrypt","catch","resolve","Error: ec2","MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqyVTa3Pi5twlDxHc34nl3MlTHOweIenIid6hDqVlh5/wcHzIxvB9nZjObW3HWfwqejGM+n2ZGbo9x8R7ByS3/V4qRgAs1z4aB6F5+HcXsx8uVrQfwigK0+u7d3g1s7H8qUaguMPHxNnyj5EisTJBh2jf9ODp8TpWnhAQHCCSZcDM4JIoIlsVdGmv+dGlzZzmf1if26U4KJqFdrqS83r3nGWcEpXWiQB+mx/EX4brbrhOFCvfPovvsLEjMTm0UC68Bvki3UsB/vkkMPW9cxNiiJJdnDkOEEdQPuFmPug+sqhACl3IIHLVBFM7vO0ca14rcCNSbSDaaKOY6BQoW1A30wIDAQAB","MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtw/ArJ9dD6hi+jrX6ZpRqwk2Mm5v3EElQGhzSngYHAm7gvdcAEj6sbU4HhrXs3+TZamDV+RHwL+rDT+TtD8ZJBaVbA+wRDdIezECZT+WNZw2SMkjAsX0OynAT/wowGfE72zMhYc4byGfQmtAQrUL2iJ19KIJj0aZ4m41kvnBHMZbwO52+ceyQhqAzB7bn6U//QHJySHgjaOsgkpPnuxZUz6ly+FrKveQp+bNIfh8R5GO2ABRoeBL4c3jip/UjmmnfYE3xdzubni1a6WQ6YTTb6ZEJSgQTp/Rc+o/btcKkTIqDcXvGbO0iAxev8EXV7GtkRguqgfwaURAaps9Nes5NwIDAQAB","encryptWithKeyFromDifferentSources","publicKey","publicKeyVersion","encryptWithKeyIds","uuidv4","replace","DNA","apfcDf","flash/compiled/FontList.swf","https://ponf.linkedin.com/pixel/tracking.png","/platform-telemetry/li/apfcDf","n/a","err","excluded","enabled","intializeGlobalIntegration","addEventListener","load","initialize","readyState","apfcDfPK","placePonfBeacon","pageInstance","getFeatures","reqid","fullFeatureCollection","apfcDfPKV","https://www.linkedin.com","https://www.linkedin-ei.com","POST","setRequestHeader","Content-Type","application/json","send","telemetryCollectPath","reentry","triggerApfc","triggerDnaApfcEvent","isProd","host",".linkedin.com","startsWith","pemberly","getUrlFromNoscriptBeacon","noscript","text/html","src","class","display:none;","searchParams","get","getElementById","charAt","substring","div_bc","img","undefined","reentryGlobalIntegration","x64Add","x64Multiply","x64Rotl","x64LeftShift","x64Xor","x64Fmix","length","charCodeAt","00000000","toString","slice","each","prototype","forEach","hasOwnProperty","map","push","getIPs","RTCPeerConnection","webkitRTCPeerConnection","msRTCPeerConnection","exec","split","a=candidate:","indexOf","c=IN","keys","onicecandidate","candidate","onicegatheringstatechange","complete","iceGatheringState","createDataChannel","then","setLocalDescription","automationKey","undetected, fake browser","Chrome","Firefox","document","documentElement","getAttribute","webdriver","_Selenium_IDE_Recorder","callPhantom","_phantom","Selenium","name","enumerateDevicesKey","isEnumerateDevicesSupported","NOT_AVAILABLE","mediaDevices","enumerateDevices","gid","kind","label","audioKey","audio","excludeIOS11","OfflineAudioContext","webkitOfflineAudioContext","createOscillator","type","triangle","frequency","setValueAtTime","currentTime","threshold","knee","ratio","reduction","attack","release","function","connect","start","audioTimeout","timeout","oncomplete","getChannelData","reduce","disconnect","UserAgent","userAgent","browserLanguage","colorDepthKey","colorDepth","deviceMemoryKey","pixelDepthKey","screen","pixelRatioKey","devicePixelRatio","screenResolutionKey","getScreenResolution","screenOrientationKey","EXCLUDED","Enabled","Orientation","msOrientation","mozOrientation","orientation","height","availableScreenResolutionKey","getAvailableScreenResolution","availWidth","availHeight","timezoneOffset","getTimezoneOffset","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","localStorageKey","hasLocalStorage","indexedDbKey","hasIndexedDB","body","addBehavior","openDatabaseKey","openDatabase","cpuClassKey","getNavigatorCpuClass","oscpuKey","oscpu","appNameKey","appVersionKey","appCodeNameKey","appCodeName","seedKey","now","platformKey","productKey","productSub","vendorKey","vendorSubKey","vendorSub","doNotTrackKey","getDoNotTrack","incognitoKey","getBrowserNameAndVersion","RequestFileSystem","TEMPORARY","storage","estimate","quota","Safari","safariIncognito","localStorage","setItem","test","removeItem","open","onerror","EDGE","indexedDB","MSPointerEvent","IE ","match","join","Opera","appVersion","splice","canvasKey","getCanvasFp","webglKey","isWebGlSupported","javascriptsKey","scripts","hostname","href","origin","port","protocol","signalsKey","getSignals","getHasLiedLanguages","getHasLiedResolution","getHasLiedOs","flashFontsKey","hasSwfObjectLoaded","hasMinFlashInstalled","fonts","swfPath","loadSwfAndDetectFonts","missing options.fonts.swfPath","flash not installed","swf object not loaded","jsFontsKey","monospace","sans-serif","serif","Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Bookman Old Style","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Geneva","Georgia","Helvetica Neue","Impact","Lucida Bright","Lucida Console","Lucida Handwriting","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS PGothic","MS Reference Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Script","Segoe UI","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Trebuchet MS","Wingdings","Wingdings 2","Wingdings 3","extendedJsFonts","concat","userDefinedFonts","filter","getElementsByTagName","createElement","div","span","absolute","style","left","-9999px","fontSize","72px","fontStyle","normal","fontWeight","letterSpacing","auto","textTransform","none","textDecoration","textShadow","whiteSpace","wordBreak","wordSpacing","textContent","mmmmmmmmmmlli","fontFamily","offsetWidth","appendChild","offsetHeight","removeChild","fontsHash","x64hash128","hashOnly","lists","mimetypesComponent","mimeTypes","suffixes","description","pluginsComponent","isIE","getIEPlugins","getRegularPlugins","plugins","pluginsShouldBeSorted","getOwnPropertyDescriptor","ActiveXObject","AcroPDF.PDF","Adodb.Stream","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Shell.UIHelper","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","ERROR","sortPluginsFor","batteryKey","getBattery","level","charging","chargingTime","dischargingTime","networkInfoKey","downlinkMax","effectiveType","saveData","getTouchSupport","getHardwareConcurrency","hasSessionStorage","sessionStorage","hardwareConcurrency","cpuClass","getNavigatorPlatform","platform","doNotTrack","msDoNotTrack","maxTouchPoints","msMaxTouchPoints","createEvent","TouchEvent","ontouchstart","canvas","display","getContext","rect","isPointInPath","evenodd","yes","textBaseline","alphabetic","fillStyle","fillRect","dontUseFakeFontInCanvas","11pt Arial","11pt no-real-font-123","Cwm fjordbank glyphs vext quiz, ðŸ˜ƒ","rgba(102, 204, 0, 0.2)","18pt Arial","multiply","rgb(255,0,255)","arc","closePath","rgb(0,255,255)","beginPath","rgb(255,255,0)","fill","toDataURL","canvasHash","getWebglFp","clearColor","enable","DEPTH_TEST","LEQUAL","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","getWebglCanvas","createBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","itemSize","numItems","createProgram","createShader","VERTEX_SHADER","attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}","FRAGMENT_SHADER","shaderSource","compileShader","attachShader","linkProgram","useProgram","vertexPosAttrib","getAttribLocation","attrVertex","offsetUniform","getUniformLocation","uniformOffset","vertexPosArray","vertexAttribPointer","FLOAT","drawArrays","TRIANGLE_STRIP","webglHash","webgl","vendorAndRenderer","getSupportedExtensions","getParameter","ALIASED_LINE_WIDTH_RANGE","webgl aliased point size range","ALIASED_POINT_SIZE_RANGE","webgl alpha bits","ALPHA_BITS","webgl antialiasing","getContextAttributes","antialias","webgl blue bits","BLUE_BITS","webgl depth bits","DEPTH_BITS","webgl green bits","webgl max anisotropy","getExtension","MOZ_EXT_texture_filter_anisotropic","MAX_TEXTURE_MAX_ANISOTROPY_EXT","webgl max combined texture image units","MAX_COMBINED_TEXTURE_IMAGE_UNITS","webgl max cube map texture size","MAX_CUBE_MAP_TEXTURE_SIZE","webgl max fragment uniform vectors","webgl max render buffer size","MAX_RENDERBUFFER_SIZE","webgl max texture image units","MAX_TEXTURE_IMAGE_UNITS","webgl max texture size","MAX_TEXTURE_SIZE","webgl max vertex attribs","webgl max vertex uniform vectors","webgl max viewport dims","MAX_VIEWPORT_DIMS","RED_BITS","webgl renderer","SHADING_LANGUAGE_VERSION","webgl stencil bits","STENCIL_BITS","webgl vendor","VENDOR","VERSION","WEBGL_debug_renderer_info","webgl unmasked vendor","UNMASKED_VENDOR_WEBGL","UNMASKED_RENDERER_WEBGL","getShaderPrecisionFormat","FRAGMENT","HIGH","LOW","precision","rangeMin","rangeMax","_SHADER","precision ","webgl ","toLowerCase"," shader ","getWebglVendorAndRenderer","getAdBlock","innerHTML","className","adsbox","getElementsByClassName"]
r=a,i=171,function(e){for(;--e;)r.push(r.shift())}(++i)
var o=function(e,n){return a[e-=0]}
!function(){class e{static[o("0x0")](e,n){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],n=[n[0]>>>16,65535&n[0],n[1]>>>16,65535&n[1]]
const t=[0,0,0,0]
return t[3]+=e[3]+n[3],t[2]+=t[3]>>>16,t[3]&=65535,t[2]+=e[2]+n[2],t[1]+=t[2]>>>16,t[2]&=65535,t[1]+=e[1]+n[1],t[0]+=t[1]>>>16,t[1]&=65535,t[0]+=e[0]+n[0],t[0]&=65535,[t[0]<<16|t[1],t[2]<<16|t[3]]}static[o("0x1")](e,n){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],n=[n[0]>>>16,65535&n[0],n[1]>>>16,65535&n[1]]
const t=[0,0,0,0]
return t[3]+=e[3]*n[3],t[2]+=t[3]>>>16,t[3]&=65535,t[2]+=e[2]*n[3],t[1]+=t[2]>>>16,t[2]&=65535,t[2]+=e[3]*n[2],t[1]+=t[2]>>>16,t[2]&=65535,t[1]+=e[1]*n[3],t[0]+=t[1]>>>16,t[1]&=65535,t[1]+=e[2]*n[2],t[0]+=t[1]>>>16,t[1]&=65535,t[1]+=e[3]*n[1],t[0]+=t[1]>>>16,t[1]&=65535,t[0]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0],t[0]&=65535,[t[0]<<16|t[1],t[2]<<16|t[3]]}static[o("0x2")](e,n){return 32==(n%=64)?[e[1],e[0]]:n<32?[e[0]<<n|e[1]>>>32-n,e[1]<<n|e[0]>>>32-n]:(n-=32,[e[1]<<n|e[0]>>>32-n,e[0]<<n|e[1]>>>32-n])}static[o("0x3")](e,n){return 0==(n%=64)?e:n<32?[e[0]<<n|e[1]>>>32-n,e[1]<<n]:[e[1]<<n-32,0]}static[o("0x4")](e,n){return[e[0]^n[0],e[1]^n[1]]}static[o("0x5")](n){return n=e[o("0x4")](n,[0,n[0]>>>1]),n=e[o("0x1")](n,[4283543511,3981806797]),n=e[o("0x4")](n,[0,n[0]>>>1]),n=e[o("0x1")](n,[3301882366,444984403]),e[o("0x4")](n,[0,n[0]>>>1])}static x64hash128(n,t){t=t||0
const r=(n=n||"")[o("0x6")]%16,i=n.length-r
let a=[0,t],s=[0,t],c=[0,0],d=[0,0]
const u=[2277735313,289559509],l=[1291169091,658871167]
let p
for(p=0;p<i;p+=16)c=[255&n[o("0x7")](p+4)|(255&n[o("0x7")](p+5))<<8|(255&n[o("0x7")](p+6))<<16|(255&n[o("0x7")](p+7))<<24,255&n[o("0x7")](p)|(255&n[o("0x7")](p+1))<<8|(255&n[o("0x7")](p+2))<<16|(255&n[o("0x7")](p+3))<<24],d=[255&n[o("0x7")](p+12)|(255&n[o("0x7")](p+13))<<8|(255&n[o("0x7")](p+14))<<16|(255&n.charCodeAt(p+15))<<24,255&n.charCodeAt(p+8)|(255&n.charCodeAt(p+9))<<8|(255&n[o("0x7")](p+10))<<16|(255&n[o("0x7")](p+11))<<24],c=e[o("0x1")](c,u),c=e.x64Rotl(c,31),c=e[o("0x1")](c,l),a=e[o("0x4")](a,c),a=e[o("0x2")](a,27),a=e[o("0x0")](a,s),a=e[o("0x0")](e[o("0x1")](a,[0,5]),[0,1390208809]),d=e[o("0x1")](d,l),d=e.x64Rotl(d,33),d=e[o("0x1")](d,u),s=e[o("0x4")](s,d),s=e.x64Rotl(s,31),s=e[o("0x0")](s,a),s=e[o("0x0")](e[o("0x1")](s,[0,5]),[0,944331445])
switch(c=[0,0],d=[0,0],r){case 15:d=e[o("0x4")](d,e[o("0x3")]([0,n[o("0x7")](p+14)],48))
case 14:d=e[o("0x4")](d,e.x64LeftShift([0,n[o("0x7")](p+13)],40))
case 13:d=e[o("0x4")](d,e[o("0x3")]([0,n.charCodeAt(p+12)],32))
case 12:d=e[o("0x4")](d,e[o("0x3")]([0,n[o("0x7")](p+11)],24))
case 11:d=e[o("0x4")](d,e.x64LeftShift([0,n[o("0x7")](p+10)],16))
case 10:d=e[o("0x4")](d,e[o("0x3")]([0,n.charCodeAt(p+9)],8))
case 9:d=e[o("0x4")](d,[0,n.charCodeAt(p+8)]),d=e[o("0x1")](d,l),d=e[o("0x2")](d,33),d=e[o("0x1")](d,u),s=e[o("0x4")](s,d)
case 8:c=e[o("0x4")](c,e[o("0x3")]([0,n[o("0x7")](p+7)],56))
case 7:c=e[o("0x4")](c,e[o("0x3")]([0,n[o("0x7")](p+6)],48))
case 6:c=e[o("0x4")](c,e[o("0x3")]([0,n[o("0x7")](p+5)],40))
case 5:c=e[o("0x4")](c,e[o("0x3")]([0,n[o("0x7")](p+4)],32))
case 4:c=e.x64Xor(c,e.x64LeftShift([0,n[o("0x7")](p+3)],24))
case 3:c=e[o("0x4")](c,e[o("0x3")]([0,n[o("0x7")](p+2)],16))
case 2:c=e[o("0x4")](c,e[o("0x3")]([0,n[o("0x7")](p+1)],8))
case 1:c=e[o("0x4")](c,[0,n[o("0x7")](p)]),c=e[o("0x1")](c,u),c=e[o("0x2")](c,31),c=e[o("0x1")](c,l),a=e[o("0x4")](a,c)}return a=e[o("0x4")](a,[0,n[o("0x6")]]),s=e[o("0x4")](s,[0,n[o("0x6")]]),a=e[o("0x0")](a,s),s=e[o("0x0")](s,a),a=e[o("0x5")](a),s=e[o("0x5")](s),a=e[o("0x0")](a,s),s=e[o("0x0")](s,a),(o("0x8")+(a[0]>>>0)[o("0x9")](16))[o("0xa")](-8)+("00000000"+(a[1]>>>0).toString(16))[o("0xa")](-8)+(o("0x8")+(s[0]>>>0)[o("0x9")](16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16))[o("0xa")](-8)}}class n{static[o("0xb")](e,n){if(Array[o("0xc")][o("0xd")]&&e.forEach===Array[o("0xc")][o("0xd")])e[o("0xd")](n)
else if(e[o("0x6")]===+e.length)for(let t=0,r=e.length;t<r;t++)n(e[t],t,e)
else for(let t in e)e[o("0xe")](t)&&n(e[t],t,e)}static map(e,t){let r=[]
return null==e?r:Array[o("0xc")][o("0xf")]&&e[o("0xf")]===Array[o("0xc")][o("0xf")]?e[o("0xf")](t):(n[o("0xb")](e,(function(e,n,i){r[o("0x10")](t(e,n,i))})),r)}static[o("0x11")](e,n){let t={},r=new(window[o("0x12")]||window[o("0x13")]||window.mozRTCPeerConnection||window[o("0x14")])({iceServers:[{urls:"stun:stun.l.google.com:19302"}]},{optional:[{RtpDataChannels:!0}]})
const i=function(e){if(null!==e)try{const n=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/[o("0x15")](e)[1]
t[n]=!0}catch(e){}}
let a=!1
const s=function(){if(!0===a)return
a=!0
const e=r.localDescription
null!==e&&e.sdp[o("0x16")]("\n").forEach((function(e){0!==e.indexOf(o("0x17"))&&0!==e[o("0x18")](o("0x19"))||i(e)})),n(Object[o("0x1a")](t))}
r[o("0x1b")]=function(e){e[o("0x1c")]&&i(e[o("0x1c")].candidate)},r[o("0x1d")]=function(e){o("0x1e")===r[o("0x1f")]&&s()},r[o("0x20")]("bl")
try{r.createOffer()[o("0x21")]((function(e){r[o("0x22")](e)}))}catch(e){r.createOffer((function(e){r[o("0x22")](e,(function(){}),(function(){}))}),(function(){}))}setTimeout((function(){s()}),800)}static[o("0x23")](e,t){if(n.getHasLiedBrowser())return void e(o("0x24"))
const r=n.getBrowserNameAndVersion()[o("0x16")](" ")[0]
o("0x25")!==r||!0!==navigator.webdriver?o("0x26")===r&&window[o("0x27")][o("0x28")][o("0x29")](o("0x2a"))||o("0x2b")in window||"__webdriver_script_fn"in document?e("Selenium"):window[o("0x2c")]||window[o("0x2d")]?e("PhantomJS"):e(t.NOT_AVAILABLE):e(o("0x2e"))}static webRtcKey(e,t){try{n.getIPs(t,(n=>{e({ips:n})}))}catch(n){e({exception:{name:n[o("0x2f")],message:n.message}})}}static[o("0x30")](e,t){if(!n[o("0x31")]())return e(t[o("0x32")])
navigator[o("0x33")][o("0x34")]()[o("0x21")]((function(n){e(n.map((function(e){let n={}
return n.id=e.deviceId,n[o("0x35")]=e.groupId,n[o("0x36")]=e[o("0x36")],n[o("0x37")]=e[o("0x37")],n})))})).catch((function(n){e(n)}))}static isEnumerateDevicesSupported(){return navigator[o("0x33")]&&navigator.mediaDevices[o("0x34")]}static[o("0x38")](e,t){let r=t[o("0x39")]
if(r[o("0x3a")]&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return e(t.EXCLUDED)
const i=window[o("0x3b")]||window[o("0x3c")]
if(null==i)return e(t[o("0x32")])
let a=new i(1,44100,44100),s=a[o("0x3d")]()
s[o("0x3e")]=o("0x3f"),s[o("0x40")][o("0x41")](1e4,a[o("0x42")])
let c=a.createDynamicsCompressor()
n[o("0xb")]([[o("0x43"),-50],[o("0x44"),40],[o("0x45"),12],[o("0x46"),-20],[o("0x47"),0],[o("0x48"),.25]],(function(e){void 0!==c[e[0]]&&o("0x49")==typeof c[e[0]][o("0x41")]&&c[e[0]].setValueAtTime(e[1],a[o("0x42")])})),s.connect(c),c[o("0x4a")](a.destination),s[o("0x4b")](0),a.startRendering()
let d=setTimeout((function(){return a.oncomplete=function(){},a=null,e(o("0x4c"))}),r[o("0x4d")])
a[o("0x4e")]=function(n){let t
try{clearTimeout(d),t=n.renderedBuffer[o("0x4f")](0)[o("0xa")](4500,5e3)[o("0x50")]((function(e,n){return e+Math.abs(n)}),0)[o("0x9")](),s[o("0x51")](),c[o("0x51")]()}catch(n){return void e(n)}e(t)}}static[o("0x52")](e){e(navigator[o("0x53")])}static[o("0x2a")](e,n){e(void 0===navigator[o("0x2a")]||null===navigator[o("0x2a")]?n[o("0x32")]:navigator[o("0x2a")])}static languageKey(e,n){e(navigator.language||navigator.userLanguage||navigator[o("0x54")]||navigator.systemLanguage||n[o("0x32")])}static[o("0x55")](e,n){e(window.screen[o("0x56")]||n[o("0x32")])}static[o("0x57")](e,n){let t=navigator.deviceMemory||n[o("0x32")]
t!==n.NOT_AVAILABLE&&(t+=" GB"),e(t)}static[o("0x58")](e,n){e(window[o("0x59")].pixelDepth||n.NOT_AVAILABLE)}static[o("0x5a")](e,n){e(window[o("0x5b")]||n[o("0x32")])}static[o("0x5c")](e,t){e(n[o("0x5d")](t))}static[o("0x5e")](e,n){if(!n[o("0x59")].detectScreenOrientation)return void e(n[o("0x5f")])
let t={}
t[o("0x60")]=void 0!==screen.orientation,t[o("0x61")]=screen[o("0x62")]||screen[o("0x63")]||(screen[o("0x64")]||{})[o("0x3e")],e(t)}static[o("0x5d")](){return{w:window[o("0x59")].width,h:window[o("0x59")][o("0x65")]}}static[o("0x66")](e,t){e(n[o("0x67")](t))}static getAvailableScreenResolution(e){return window[o("0x59")][o("0x68")]&&window[o("0x59")][o("0x69")]?{w:window[o("0x59")][o("0x68")],h:window[o("0x59")].availHeight}:e.NOT_AVAILABLE}static[o("0x6a")](e){e((new Date)[o("0x6b")]()/60)}static[o("0x6c")](e,n){window[o("0x6d")]&&window[o("0x6d")][o("0x6e")]?e((new(window[o("0x6d")][o("0x6e")]))[o("0x6f")]()[o("0x70")]):e(n[o("0x32")])}static sessionStorageKey(e,t){e(n.hasSessionStorage(t))}static[o("0x71")](e,t){e(n[o("0x72")](t))}static[o("0x73")](e,t){e(n[o("0x74")](t))}static addBehaviorKey(e){e(!(!document[o("0x75")]||!document[o("0x75")][o("0x76")]))}static[o("0x77")](e){e(!!window[o("0x78")])}static[o("0x79")](e,t){e(n[o("0x7a")](t))}static[o("0x7b")](e,n){e(navigator[o("0x7c")]||n[o("0x32")])}static[o("0x7d")](e,n){e(navigator.appName||n.NOT_AVAILABLE)}static[o("0x7e")](e,n){e(navigator.appVersion||n.NOT_AVAILABLE)}static[o("0x7f")](e,n){e(navigator[o("0x80")]||n[o("0x32")])}static[o("0x81")](e,n){e(Date[o("0x82")]())}static[o("0x83")](e,t){e(n.getNavigatorPlatform(t))}static[o("0x84")](e,n){e(navigator.product||n[o("0x32")])}static productSubKey(e,n){e(navigator[o("0x85")]||n.NOT_AVAILABLE)}static[o("0x86")](e,n){e(navigator.vendor||n[o("0x32")])}static[o("0x87")](e,n){e(navigator[o("0x88")]||n[o("0x32")])}static[o("0x89")](e,t){e(n[o("0x8a")](t))}static[o("0x8b")](e,t){const r=n[o("0x8c")]()[o("0x16")](" "),i=r[0],a=r[1]
let s=t.NOT_AVAILABLE
if(o("0x25")===i)if(parseInt(a)<=74){const n=window[o("0x8d")]||window.webkitRequestFileSystem
n?n(window[o("0x8e")],100,(function(n){e(!1)}),(function(n){e(!0)})):e(s)}else o("0x8f")in navigator&&o("0x90")in navigator[o("0x8f")]?navigator[o("0x8f")][o("0x90")]()[o("0x21")]((function(n){const t=n[o("0x91")]
s=t<125829120,e(s)})):e(s)
else if(o("0x92")===i){if(s=!1,window[o("0x93")])s=!0
else{try{window[o("0x78")](null,null,null,null)}catch(e){s=!0}try{window[o("0x94")][o("0x95")](o("0x96"),1)}catch(e){s=!0}}void 0===s&&(s=!1,window.localStorage[o("0x97")](o("0x96"))),e(s)}else if(o("0x26")===i){let n=indexedDB[o("0x98")]("test")
n[o("0x99")]=function(){e(!0)},n.onsuccess=function(){e(!1)}}else e("IE"===i||o("0x9a")===i?!window[o("0x9b")]&&(window.PointerEvent||window[o("0x9c")]):s)}static[o("0x8c")](){let e,n=navigator[o("0x53")],t=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[]
return/trident/i[o("0x96")](t[1])?(e=/\brv[ :]+(\d+)/g[o("0x15")](n)||[],o("0x9d")+(e[1]||"")):o("0x25")===t[1]&&(e=n[o("0x9e")](/\b(OPR|Edge)\/(\d+)/),null!=e)?e.slice(1)[o("0x9f")](" ").replace("OPR",o("0xa0")):(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator[o("0xa1")],"-?"],e=n[o("0x9e")](/version\/(\d+)/i),null!=e&&t[o("0xa2")](1,1,e[1]),t[o("0x9f")](" "))}static[o("0xa3")](e,t){n.isCanvasSupported()?e(n[o("0xa4")](t)):e(t.NOT_AVAILABLE)}static[o("0xa5")](e,t){n[o("0xa6")]()?e(n.getWebglFp(t)):e(t.NOT_AVAILABLE)}static[o("0xa7")](e,n){if(void 0===document.scripts||null===document[o("0xa8")])return e(n[o("0x32")])
e([])}static locationKey(e,n){e({hash:location.hash||n.NOT_AVAILABLE,host:location.host||n[o("0x32")],hostname:location[o("0xa9")]||n[o("0x32")],href:location[o("0xaa")]||n[o("0x32")],origin:location[o("0xab")]||n.NOT_AVAILABLE,pathname:location.pathname||n[o("0x32")],port:location[o("0xac")]||n.NOT_AVAILABLE,protocol:location[o("0xad")]||n[o("0x32")]})}static[o("0xae")](e){e(n[o("0xaf")]())}static getSignals(){const e={adBlockInstalled:function(){return n.getAdBlock()},liedLanguages:function(){return n[o("0xb0")]()},liedResolution:function(){return n[o("0xb1")]()},liedOS:function(){return n[o("0xb2")]()},liedBrowser:function(){return n.getHasLiedBrowser()}},t={}
for(const n in e)if(e[o("0xe")](n)){const r=e[n]
t[n]=r(n)}return t}static[o("0xb3")](e,t){return n[o("0xb4")]()?n[o("0xb5")]()?t[o("0xb6")][o("0xb7")]?void n[o("0xb8")]((function(n){e(n)}),t):e(o("0xb9")):e(o("0xba")):e(o("0xbb"))}static[o("0xbc")](n,t){const r=[o("0xbd"),o("0xbe"),o("0xbf")]
let i=[o("0xc0"),o("0xc1"),o("0xc2"),o("0xc3"),o("0xc4"),o("0xc5"),o("0xc6"),o("0xc7"),o("0xc8"),"Book Antiqua",o("0xc9"),"Calibri","Cambria",o("0xca"),o("0xcb"),o("0xcc"),o("0xcd"),o("0xce"),o("0xcf"),o("0xd0"),"Courier","Courier New",o("0xd1"),o("0xd2"),"Helvetica",o("0xd3"),o("0xd4"),o("0xd5"),"Lucida Calligraphy",o("0xd6"),"Lucida Fax","LUCIDA GRANDE",o("0xd7"),"Lucida Sans",o("0xd8"),o("0xd9"),o("0xda"),o("0xdb"),o("0xdc"),o("0xdd"),"MS Outlook",o("0xde"),o("0xdf"),"MS Sans Serif",o("0xe0"),o("0xe1"),o("0xe2"),o("0xe3"),o("0xe4"),"Segoe Print",o("0xe5"),o("0xe6"),"Segoe UI Light",o("0xe7"),o("0xe8"),o("0xe9"),o("0xea"),o("0xeb"),"Times New Roman PS",o("0xec"),"Verdana",o("0xed"),o("0xee"),o("0xef")]
void 0!==t[o("0xb6")]&&void 0!==t[o("0xb6")][o("0xf0")]&&(i=i[o("0xf1")](t[o("0xb6")][o("0xf0")])),void 0!==t[o("0xb6")]&&void 0!==t[o("0xb6")][o("0xf2")]&&(i=i.concat(t[o("0xb6")][o("0xf2")])),i=i[o("0xf3")]((function(e,n){return i[o("0x18")](e)===n}))
const a=document[o("0xf4")](o("0x75"))[0],s=document[o("0xf5")](o("0xf6")),c=document[o("0xf5")](o("0xf6")),d={},u={},l=function(){const e=document[o("0xf5")](o("0xf7"))
return e.style.position=o("0xf8"),e[o("0xf9")][o("0xfa")]=o("0xfb"),e[o("0xf9")][o("0xfc")]=o("0xfd"),e[o("0xf9")][o("0xfe")]=o("0xff"),e[o("0xf9")][o("0x100")]=o("0xff"),e[o("0xf9")][o("0x101")]=o("0xff"),e[o("0xf9")].lineBreak=o("0x102"),e[o("0xf9")].lineHeight=o("0xff"),e[o("0xf9")][o("0x103")]=o("0x104"),e[o("0xf9")].textAlign="left",e.style[o("0x105")]=o("0x104"),e.style[o("0x106")]=o("0x104"),e[o("0xf9")][o("0x107")]=o("0xff"),e[o("0xf9")][o("0x108")]=o("0xff"),e.style[o("0x109")]=o("0xff"),e[o("0x10a")]=o("0x10b"),e},p=function(e,n){const t=l()
return t[o("0xf9")][o("0x10c")]="'"+e+"',"+n,t},f=function(e){let n=!1
for(let t=0;t<r[o("0x6")];t++)if(n=e[t][o("0x10d")]!==d[r[t]]||e[t].offsetHeight!==u[r[t]],n)return n
return n},h=function(){const e=[]
for(let n=0,t=r[o("0x6")];n<t;n++){const t=l()
t[o("0xf9")][o("0x10c")]=r[n],s.appendChild(t),e[o("0x10")](t)}return e}()
a[o("0x10e")](s)
for(let e=0,n=r[o("0x6")];e<n;e++)d[r[e]]=h[e].offsetWidth,u[r[e]]=h[e][o("0x10f")]
const m=function(){const e={}
for(let n=0,t=i[o("0x6")];n<t;n++){const t=[]
for(let e=0,a=r[o("0x6")];e<a;e++){const a=p(i[n],r[e])
c.appendChild(a),t[o("0x10")](a)}e[i[n]]=t}return e}()
a.appendChild(c)
const y=[]
for(let e=0,n=i.length;e<n;e++)f(m[i[e]])&&y[o("0x10")](i[e])
a.removeChild(c),a[o("0x110")](s)
const g={}
g[o("0x111")]=e[o("0x112")](y[o("0x9f")](),23),t[o("0xb6")][o("0x113")]||(g[o("0x114")]=y),n(g)}static[o("0x115")](e,n){if(void 0===navigator[o("0x116")]||null===navigator[o("0x116")])return void e(n[o("0x32")])
const t=navigator[o("0x116")],r=[]
for(let e=0;e<t[o("0x6")];e++){const n={}
n[o("0x3e")]=t[e].type,n[o("0x117")]=t[e][o("0x117")],n[o("0x118")]=t[e].description,r[o("0x10")](n)}e(r)}static[o("0x119")](e,t){n[o("0x11a")]()?t.plugins.excludeIE?e(t[o("0x5f")]):e(n[o("0x11b")](t)):e(n[o("0x11c")](t))}static getRegularPlugins(e){if(void 0===navigator[o("0x11d")]||null===navigator.plugins)return e.NOT_AVAILABLE
let t=[]
for(let e=0,n=navigator[o("0x11d")].length;e<n;e++)navigator[o("0x11d")][e]&&t[o("0x10")](navigator[o("0x11d")][e])
return t[o("0x6")]>0&&n[o("0x11e")](e)&&(t=t.sort((function(e,n){return e.name>n[o("0x2f")]?1:e[o("0x2f")]<n.name?-1:0}))),n.map(t,(function(e){const t=n[o("0xf")](e,(function(e){return[e.type,e[o("0x117")]]}))
return[e[o("0x2f")],e[o("0x118")],t]}))}static getIEPlugins(e){let t=[]
if(Object[o("0x11f")]&&Object.getOwnPropertyDescriptor(window,o("0x120"))||o("0x120")in window){const r=[o("0x121"),o("0x122"),"AgControl.AgControl",o("0x123"),o("0x124"),"Msxml2.DOMDocument",o("0x125"),o("0x126"),o("0x127"),"QuickTimeCheckObject.QuickTimeCheck.1",o("0x128"),o("0x129"),o("0x12a"),"Scripting.Dictionary","SWCtl.SWCtl",o("0x12b"),"ShockwaveFlash.ShockwaveFlash",o("0x12c"),o("0x12d"),o("0x12e"),o("0x12f"),"rmocx.RealPlayer G2 Control.1"]
t=n[o("0xf")](r,(function(n){try{return new(window[o("0x120")])(n),n}catch(n){return e[o("0x130")]}}))}else t[o("0x10")](e[o("0x32")])
return navigator.plugins&&(t=t[o("0xf1")](n[o("0x11c")](e))),t}static[o("0x11e")](e){let n=!1
for(let t=0,r=e[o("0x11d")][o("0x131")][o("0x6")];t<r;t++){const r=e.plugins[o("0x131")][t]
if(navigator[o("0x53")].match(r)){n=!0
break}}return n}static[o("0x132")](e,n){void 0!==navigator[o("0x133")]?navigator[o("0x133")]()[o("0x21")]((function(n){const t={}
t.level=n[o("0x134")],t[o("0x135")]=n[o("0x135")],t[o("0x136")]=n[o("0x136")],t[o("0x137")]=n[o("0x137")],e(t)})):e(n[o("0x32")])}static[o("0x138")](e,n){const t=navigator.connection
e(void 0!==t?{downlink:t.downlink,downlinkMax:t[o("0x139")],type:t[o("0x3e")],effectiveType:t[o("0x13a")],rtt:t.rtt,saveData:t[o("0x13b")]}:n[o("0x32")])}static touchSupportKey(e){e(n[o("0x13c")]())}static hardwareConcurrencyKey(e,t){e(n[o("0x13d")](t))}static[o("0x13e")](e){try{return!!window[o("0x13f")]}catch(n){return e.ERROR}}static[o("0x72")](e){try{return!!window[o("0x94")]}catch(n){return e[o("0x130")]}}static[o("0x74")](e){try{return!!window[o("0x9b")]}catch(n){return e[o("0x130")]}}static[o("0x13d")](e){return navigator.hardwareConcurrency?navigator[o("0x140")]:e[o("0x32")]}static[o("0x7a")](e){return navigator[o("0x141")]||e.NOT_AVAILABLE}static[o("0x142")](e){return navigator[o("0x143")]?navigator.platform:e.NOT_AVAILABLE}static[o("0x8a")](e){return navigator[o("0x144")]?navigator.doNotTrack:navigator[o("0x145")]?navigator[o("0x145")]:window[o("0x144")]?window[o("0x144")]:e[o("0x32")]}static[o("0x13c")](){let e,n=0
void 0!==navigator[o("0x146")]?n=navigator[o("0x146")]:void 0!==navigator[o("0x147")]&&(n=navigator[o("0x147")])
try{document[o("0x148")](o("0x149")),e=!0}catch(n){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:o("0x14a")in window}}static[o("0xa4")](n){const t={},r=document[o("0xf5")](o("0x14b"))
r.width=2e3,r[o("0x65")]=200,r[o("0xf9")][o("0x14c")]="inline"
const i=r[o("0x14d")]("2d")
return i[o("0x14e")](0,0,10,10),i[o("0x14e")](2,2,6,6),t.canvasWinding=!1===i[o("0x14f")](5,5,o("0x150"))?o("0x151"):"no",i[o("0x152")]=o("0x153"),i[o("0x154")]="#f60",i[o("0x155")](125,1,62,20),i[o("0x154")]="#069",n[o("0x156")]?i.font=o("0x157"):i.font=o("0x158"),i.fillText(o("0x159"),2,15),i[o("0x154")]=o("0x15a"),i.font=o("0x15b"),i.fillText(o("0x159"),4,45),i.globalCompositeOperation=o("0x15c"),i.fillStyle=o("0x15d"),i.beginPath(),i[o("0x15e")](50,50,50,0,2*Math.PI,!0),i[o("0x15f")](),i.fill(),i[o("0x154")]=o("0x160"),i[o("0x161")](),i.arc(100,50,50,0,2*Math.PI,!0),i.closePath(),i.fill(),i[o("0x154")]=o("0x162"),i[o("0x161")](),i[o("0x15e")](75,100,50,0,2*Math.PI,!0),i[o("0x15f")](),i[o("0x163")](),i[o("0x154")]=o("0x15d"),i[o("0x15e")](75,75,75,0,2*Math.PI,!0),i[o("0x15e")](75,75,25,0,2*Math.PI,!0),i[o("0x163")]("evenodd"),r[o("0x164")]&&(t[o("0x165")]=e[o("0x112")](r[o("0x164")](),23)),t}static[o("0x166")](t){let r
const i=function(e){return r[o("0x167")](0,0,0,1),r[o("0x168")](r[o("0x169")]),r.depthFunc(r[o("0x16a")]),r[o("0x16b")](r[o("0x16c")]|r[o("0x16d")]),"["+e[0]+", "+e[1]+"]"}
if(r=n[o("0x16e")](),!r)return null
const a={},s=r[o("0x16f")]()
r.bindBuffer(r[o("0x170")],s)
const c=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0])
r[o("0x171")](r[o("0x170")],c,r[o("0x172")]),s[o("0x173")]=3,s[o("0x174")]=3
const d=r[o("0x175")](),u=r[o("0x176")](r[o("0x177")])
r.shaderSource(u,o("0x178")),r.compileShader(u)
const l=r[o("0x176")](r[o("0x179")])
r[o("0x17a")](l,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),r[o("0x17b")](l),r[o("0x17c")](d,u),r[o("0x17c")](d,l),r[o("0x17d")](d),r[o("0x17e")](d),d[o("0x17f")]=r[o("0x180")](d,o("0x181")),d[o("0x182")]=r[o("0x183")](d,o("0x184")),r.enableVertexAttribArray(d[o("0x185")]),r[o("0x186")](d[o("0x17f")],s[o("0x173")],r[o("0x187")],!1,0,0),r.uniform2f(d[o("0x182")],1,1),r[o("0x188")](r[o("0x189")],0,s[o("0x174")])
try{a[o("0x18a")]=e[o("0x112")](r[o("0x14b")].toDataURL(),23)}catch(e){}if(t[o("0x18b")][o("0x113")])return a
a[o("0x18c")]=n.getWebglVendorAndRenderer(),a.extensions=r[o("0x18d")]()||[],a["webgl aliased line width range"]=i(r[o("0x18e")](r[o("0x18f")])),a[o("0x190")]=i(r[o("0x18e")](r[o("0x191")])),a[o("0x192")]=r[o("0x18e")](r[o("0x193")]),a[o("0x194")]=r[o("0x195")]()[o("0x196")]?o("0x151"):"no",a[o("0x197")]=r[o("0x18e")](r[o("0x198")]),a[o("0x199")]=r[o("0x18e")](r[o("0x19a")]),a[o("0x19b")]=r.getParameter(r.GREEN_BITS),a[o("0x19c")]=function(e){const n=e[o("0x19d")]("EXT_texture_filter_anisotropic")||e[o("0x19d")]("WEBKIT_EXT_texture_filter_anisotropic")||e[o("0x19d")](o("0x19e"))
if(n){let t=e[o("0x18e")](n[o("0x19f")])
return 0===t&&(t=2),t}return null}(r),a[o("0x1a0")]=r[o("0x18e")](r[o("0x1a1")]),a[o("0x1a2")]=r[o("0x18e")](r[o("0x1a3")]),a[o("0x1a4")]=r[o("0x18e")](r.MAX_FRAGMENT_UNIFORM_VECTORS),a[o("0x1a5")]=r[o("0x18e")](r[o("0x1a6")]),a[o("0x1a7")]=r.getParameter(r[o("0x1a8")]),a[o("0x1a9")]=r[o("0x18e")](r[o("0x1aa")]),a["webgl max varying vectors"]=r[o("0x18e")](r.MAX_VARYING_VECTORS),a[o("0x1ab")]=r.getParameter(r.MAX_VERTEX_ATTRIBS),a["webgl max vertex texture image units"]=r[o("0x18e")](r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),a[o("0x1ac")]=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),a[o("0x1ad")]=i(r.getParameter(r[o("0x1ae")])),a["webgl red bits"]=r[o("0x18e")](r[o("0x1af")]),a[o("0x1b0")]=r[o("0x18e")](r.RENDERER),a["webgl shading language version"]=r[o("0x18e")](r[o("0x1b1")]),a[o("0x1b2")]=r[o("0x18e")](r[o("0x1b3")]),a[o("0x1b4")]=r[o("0x18e")](r[o("0x1b5")]),a["webgl version"]=r[o("0x18e")](r[o("0x1b6")])
try{const e=r[o("0x19d")](o("0x1b7"))
e&&(a[o("0x1b8")]=r.getParameter(e[o("0x1b9")]),a["webgl unmasked renderer"]=r.getParameter(e[o("0x1ba")]))}catch(e){}return r[o("0x1bb")]?(n.each([o("0x187"),"INT"],(function(e){n[o("0xb")](["VERTEX",o("0x1bc")],(function(t){n[o("0xb")]([o("0x1bd"),"MEDIUM",o("0x1be")],(function(i){n[o("0xb")]([o("0x1bf"),o("0x1c0"),o("0x1c1")],(function(n){const s=r.getShaderPrecisionFormat(r[t+o("0x1c2")],r[i+"_"+e])[n]
o("0x1bf")!==n&&(n=o("0x1c3")+n)
const c=[o("0x1c4"),t[o("0x1c5")](),o("0x1c6"),i[o("0x1c5")]()," ",e[o("0x1c5")]()," ",n][o("0x9f")]("")
a[c]=s}))}))}))})),a):a}static[o("0x1c7")](){try{const e=n.getWebglCanvas(),t=e[o("0x19d")](o("0x1b7"))
return e[o("0x18e")](t[o("0x1b9")])+"~"+e[o("0x18e")](t[o("0x1ba")])}catch(e){return null}}static[o("0x1c8")](){const e=document[o("0xf5")](o("0xf6"))
e[o("0x1c9")]="&nbsp;",e[o("0x1ca")]=o("0x1cb")
let n=!1
try{document[o("0x75")][o("0x10e")](e),n=0===document[o("0x1cc")](o("0x1cb"))[0][o("0x10f")],document[o("0x75")][o("0x110")](e)}catch(e){n=!1}return n}static getHasLiedLanguages(){if(void 0!==navigator.languages)try{if(navigator[o("0x1cd")][0][o("0x1ce")](0,2)!==navigator[o("0x1cf")][o("0x1ce")](0,2))return!0}catch(e){return!0}return!1}static getHasLiedResolution(){return window[o("0x59")][o("0x1d0")]<window[o("0x59")][o("0x68")]||window.screen[o("0x65")]<window.screen[o("0x69")]}static[o("0xb2")](){const e=navigator.userAgent[o("0x1c5")]()
let n=navigator[o("0x7c")]
const t=navigator[o("0x143")].toLowerCase()
let r
if(r=e[o("0x18")]("windows phone")>=0?o("0x1d1"):e[o("0x18")](o("0x1d2"))>=0?o("0x1d3"):e[o("0x18")](o("0x1d4"))>=0?o("0x1d5"):e[o("0x18")]("linux")>=0||e.indexOf(o("0x1d6"))>=0?o("0x1d7"):e[o("0x18")](o("0x1d8"))>=0||e[o("0x18")](o("0x1d9"))>=0?"iOS":e.indexOf("mac")>=0?o("0x1da"):"Other",(o("0x14a")in window||navigator[o("0x146")]>0||navigator[o("0x147")]>0)&&"Windows Phone"!==r&&o("0x1d5")!==r&&o("0x1db")!==r&&o("0x1dc")!==r)return!0
if(void 0!==n){if(n=n.toLowerCase(),n.indexOf(o("0x1d2"))>=0&&o("0x1d3")!==r&&o("0x1d1")!==r)return!0
if(n.indexOf("linux")>=0&&o("0x1d7")!==r&&o("0x1d5")!==r)return!0
if(n[o("0x18")](o("0x1dd"))>=0&&o("0x1da")!==r&&o("0x1db")!==r)return!0
if((-1===n[o("0x18")](o("0x1d2"))&&-1===n[o("0x18")](o("0x1de"))&&-1===n[o("0x18")](o("0x1dd")))!=(o("0x1dc")===r))return!0}return t[o("0x18")](o("0x1d2"))>=0&&"Windows"!==r&&o("0x1d1")!==r||(t[o("0x18")](o("0x1de"))>=0||t.indexOf(o("0x1d4"))>=0||t[o("0x18")](o("0x1df"))>=0)&&o("0x1d7")!==r&&o("0x1d5")!==r||(t.indexOf(o("0x1dd"))>=0||t[o("0x18")](o("0x1d9"))>=0||t[o("0x18")](o("0x1e0"))>=0||t[o("0x18")]("iphone")>=0)&&o("0x1da")!==r&&o("0x1db")!==r||(t[o("0x18")]("win")<0&&t.indexOf(o("0x1de"))<0&&t[o("0x18")]("mac")<0&&t[o("0x18")]("iphone")<0&&t[o("0x18")](o("0x1d9"))<0)!=(o("0x1dc")===r)||void 0===navigator[o("0x11d")]&&o("0x1d3")!==r&&o("0x1d1")!==r}static getHasLiedBrowser(){const e=navigator[o("0x53")][o("0x1c5")](),n=navigator[o("0x85")]
let t
if(t=e[o("0x18")]("firefox")>=0?"Firefox":e[o("0x18")](o("0x1e1"))>=0||e[o("0x18")](o("0x1e2"))>=0?o("0xa0"):e.indexOf(o("0x1e3"))>=0?"Chrome":e[o("0x18")](o("0x1e4"))>=0?"Safari":e[o("0x18")](o("0x1e5"))>=0?o("0x1e6"):o("0x1dc"),(o("0x25")===t||o("0x92")===t||o("0xa0")===t)&&o("0x1e7")!==n)return!0
const r=eval[o("0x9")]()[o("0x6")]
if(37===r&&o("0x92")!==t&&"Firefox"!==t&&o("0x1dc")!==t)return!0
if(39===r&&o("0x1e6")!==t&&o("0x1dc")!==t)return!0
if(33===r&&o("0x25")!==t&&o("0xa0")!==t&&o("0x1dc")!==t)return!0
let i
try{throw"a"}catch(e){try{e[o("0x1e8")](),i=!0}catch(e){i=!1}}return i&&o("0x26")!==t&&o("0x1dc")!==t}static[o("0x1e9")](){const e=document[o("0xf5")](o("0x14b"))
return!(!e[o("0x14d")]||!e.getContext("2d"))}static[o("0xa6")](){if(!n[o("0x1e9")]())return!1
const e=n.getWebglCanvas()
return!!window[o("0x1ea")]&&!!e}static[o("0x11a")](){return o("0x1eb")===navigator[o("0x1ec")]||!("Netscape"!==navigator[o("0x1ec")]||!/Trident/[o("0x96")](navigator[o("0x53")]))}static hasSwfObjectLoaded(){return void 0!==window[o("0x1ed")]}static[o("0xb5")](){return window.swfobject.hasFlashPlayerVersion("9.0.0")}static[o("0x1ee")](e){const n=document[o("0xf5")](o("0xf6"))
n[o("0x1ef")]("id",e[o("0xb6")][o("0x1f0")]),document.body[o("0x10e")](n)}static[o("0xb8")](e,t){window.___fp_swf_loaded=function(n){e(n)}
const r=t[o("0xb6")][o("0x1f0")]
n[o("0x1ee")]()
const i={onReady:o("0x1f1")}
window.swfobject.embedSWF(t[o("0xb6")][o("0xb7")],r,"1","1","9.0.0",!1,i,{allowScriptAccess:"always",menu:o("0x1f2")},{})}static[o("0x16e")](){const e=document[o("0xf5")]("canvas")
let n=null
try{n=e[o("0x14d")]("webgl")||e[o("0x14d")](o("0x1f3"))}catch(e){}return n||(n=null),n}constructor(){this.components=[{key:o("0x1f4"),getData:n[o("0x1f5")],shouldEnforceDataLimit:!0,dataLimit:1e3},{key:o("0x34"),getData:n[o("0x30")],shouldEnforceDataLimit:!0,dataLimit:22e3},{key:"appName",getData:n[o("0x7d")],shouldEnforceDataLimit:!0,dataLimit:45},{key:o("0x1f6"),getData:n.seedKey,shouldEnforceDataLimit:!0,dataLimit:20},{key:"appVersion",getData:n[o("0x7e")],shouldEnforceDataLimit:!0,dataLimit:150},{key:o("0x80"),getData:n[o("0x7f")],shouldEnforceDataLimit:!0,dataLimit:15},{key:o("0x1f7"),getData:n[o("0x1f8")],shouldEnforceDataLimit:!0,dataLimit:300},{key:o("0x1f9"),getData:n[o("0xa7")],shouldEnforceDataLimit:!0,dataLimit:2200},{key:o("0x143"),getData:n.platformKey,shouldEnforceDataLimit:!0,dataLimit:15},{key:o("0x1fa"),getData:n.productKey,shouldEnforceDataLimit:!0,dataLimit:12},{key:o("0x85"),getData:n[o("0x1fb")],shouldEnforceDataLimit:!0,dataLimit:15},{key:o("0x141"),getData:n.cpuClassKey,shouldEnforceDataLimit:!0,dataLimit:15},{key:o("0x7c"),getData:n[o("0x7b")],shouldEnforceDataLimit:!0,dataLimit:60},{key:o("0x140"),getData:n[o("0x1fc")],alias:o("0x1fd"),shouldEnforceDataLimit:!0,dataLimit:10},{key:"deviceMemory",getData:n[o("0x57")],shouldEnforceDataLimit:!0,dataLimit:25},{key:o("0x1fe"),getData:n[o("0x86")],shouldEnforceDataLimit:!0,dataLimit:50},{key:o("0x88"),getData:n[o("0x87")],shouldEnforceDataLimit:!0,dataLimit:10},{key:"language",getData:n[o("0x1ff")],shouldEnforceDataLimit:!0,dataLimit:12},{key:o("0x6a"),getData:n[o("0x6a")],shouldEnforceDataLimit:!0,dataLimit:5},{key:"timezone",getData:n[o("0x6c")],shouldEnforceDataLimit:!0,dataLimit:30},{key:o("0x53"),getData:n.UserAgent,shouldEnforceDataLimit:!0,dataLimit:1500},{key:"webdriver",getData:n[o("0x2a")],shouldEnforceDataLimit:!0,dataLimit:7},{key:o("0x144"),getData:n[o("0x89")],shouldEnforceDataLimit:!0,dataLimit:10},{key:o("0x200"),getData:n[o("0x8b")],shouldEnforceDataLimit:!0,dataLimit:7},{key:"colorDepth",getData:n.colorDepthKey,shouldEnforceDataLimit:!0,dataLimit:5},{key:o("0x201"),getData:n[o("0x58")],shouldEnforceDataLimit:!0,dataLimit:5},{key:"pixelRatio",getData:n[o("0x5a")],shouldEnforceDataLimit:!0,dataLimit:10},{key:"screenResolution",getData:n.screenResolutionKey,shouldEnforceDataLimit:!0,dataLimit:25},{key:o("0x202"),getData:n[o("0x5e")],shouldEnforceDataLimit:!0,dataLimit:70},{key:o("0x203"),getData:n[o("0x66")],shouldEnforceDataLimit:!0,dataLimit:30},{key:o("0x13f"),getData:n[o("0x204")],shouldEnforceDataLimit:!0,dataLimit:7},{key:o("0x94"),getData:n.localStorageKey,shouldEnforceDataLimit:!0,dataLimit:7},{key:o("0x205"),getData:n[o("0x73")],shouldEnforceDataLimit:!0,dataLimit:7},{key:o("0x76"),getData:n[o("0x206")],shouldEnforceDataLimit:!0,dataLimit:7},{key:"openDatabase",getData:n[o("0x77")],shouldEnforceDataLimit:!0,dataLimit:7},{key:o("0x14b"),getData:n[o("0xa3")],shouldEnforceDataLimit:!0,dataLimit:90},{key:"webgl",getData:n[o("0xa5")],shouldEnforceDataLimit:!0,dataLimit:6e3},{key:o("0x207"),getData:n.signalsKey,shouldEnforceDataLimit:!0,dataLimit:150},{key:o("0x208"),getData:n[o("0x209")],shouldEnforceDataLimit:!0,dataLimit:90},{key:o("0x20a"),getData:n[o("0x138")],shouldEnforceDataLimit:!0,dataLimit:150},{key:"battery",getData:n.batteryKey,shouldEnforceDataLimit:!0,dataLimit:100},{key:"audio",getData:n[o("0x38")],shouldEnforceDataLimit:!0,dataLimit:30},{key:o("0x20b"),getData:n[o("0x23")],shouldEnforceDataLimit:!0,dataLimit:36},{key:o("0x11d"),getData:n[o("0x119")],shouldEnforceDataLimit:!0,dataLimit:17e3},{key:o("0x20c"),getData:n[o("0x115")],shouldEnforceDataLimit:!0,dataLimit:27e3},{key:o("0xb6"),getData:n.jsFontsKey,shouldEnforceDataLimit:!0,dataLimit:1500},{key:"fontsFlash",getData:n[o("0xb3")],shouldEnforceDataLimit:!0,dataLimit:100}]}getFeatures(e,n){if(o("0x49")!=typeof e)return
if(!n)return e({error:o("0x20d")})
let t={data:{latency:{acq_time:{}},errors:{}}},r=Date.now(),i={},a=0,s=0
this[o("0x20e")][o("0xd")]((function(c){if(n[o("0x20f")][c[o("0x210")]])return
let d=c[o("0x210")]
void 0!==c[o("0x211")]&&null!==c[o("0x211")]&&c.alias[o("0x6")]>0&&(d=c[o("0x211")]),i[d]=Date[o("0x82")](),a++
try{c[o("0x212")]((function(n){if(!1!==c[o("0x213")]){let e=c[o("0xe")](o("0x214"))&&o("0x215")==typeof c.dataLimit?c[o("0x214")]:1e3
const r=JSON[o("0x216")](n)[o("0x6")]
r>e&&(t[o("0x217")][o("0x218")][d]="Exceeded current data limit:"+e+" Data length for:"+d+" was found to be:"+r,n={})}t.data[d]=n,t[o("0x217")].latency[o("0x219")][d]=Date[o("0x82")]()-i[d],s++,s>=a&&(t[o("0x217")][o("0x21a")].acq_time[o("0x21b")]=Date[o("0x82")]()-r,e(t.data,!0))}),n)}catch(e){t[o("0x217")][o("0x218")][d]=String(e)}})),t.data[o("0x21a")][o("0x219")][o("0x21b")]=Date.now()-r,e(t[o("0x217")],!1)}}function t(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments[2]
const r=t?t[o("0x21c")]("#"+e):document.getElementById(e)
if(r){const t=r[o("0x21d")][o("0x21e")]
if(n&&r[o("0x21f")][o("0x110")](r),t)try{return JSON[o("0x220")](t)}catch(e){return}}}class r{static[o("0x221")](e){const n=new ArrayBuffer(e.length),t=new Uint8Array(n)
for(let n=0,r=e[o("0x6")];n<r;n++)t[n]=e.charCodeAt(n)
return n}static[o("0x222")](e){return window[o("0x223")](String.fromCharCode[o("0x224")](null,e))}static[o("0x225")](e,n,t){const i=window[o("0x226")](n),a=r[o("0x221")](i)
return window[o("0x227")][o("0x228")][o("0x229")](e,a,{name:o("0x22a"),hash:o("0x22b")},!0,t)}static[o("0x22c")](e,n){return r.importPk(o("0x22d"),n,["wrapKey"]).then((n=>window[o("0x227")].subtle[o("0x22e")](o("0x22f"),e,n,{name:o("0x22a")})))[o("0x21")]((e=>r[o("0x222")](new Uint8Array(e))))}static[o("0x230")](e){const n={a:null,b:null,c:null}
return n[o("0x231")]=e,n}static[o("0x232")](e,n,t){const i={a:null,b:null,c:null}
try{let a=Date.now()
if(o("0x233")!=typeof n||o("0x215")!=typeof t)throw new Error(o("0x234"))
const s=window[o("0x227")][o("0x235")](new Uint8Array(16))
i.a=r[o("0x222")](s)
const c=(new TextEncoder)[o("0x222")](e),d="AES-CBC"
return window[o("0x227")][o("0x228")][o("0x236")]({name:d,length:256},!0,[o("0x237"),o("0x238")]).then((e=>window.crypto[o("0x228")][o("0x237")]({name:d,iv:s},e,c)[o("0x21")]((s=>r[o("0x22c")](e,n)[o("0x21")]((e=>(i.b=e,i.c=r[o("0x222")](new Uint8Array(s)),i.d=Date.now()-a,i.e=t,i)))))))[o("0x239")]((e=>(i.error=String(e),i)))}catch(e){return i.error=String(e),Promise[o("0x23a")](i)}}static encryptWithKeyIds(e,n,i,a){if(o("0x233")!=typeof n||"string"!=typeof i)return Promise[o("0x23a")](r[o("0x230")](o("0x23b")))
let s=t(n),c=parseInt(t(i))
return(o("0x233")!=typeof s||o("0x215")!=typeof c||Number.isNaN(c))&&(s=o(a?"0x23c":"0x23d"),c=a?2:1),r[o("0x232")](e,s,c)}static[o("0x23e")](e,n,t,i,a){return null!=i&&o("0x233")==typeof i[o("0x23f")]&&o("0x215")==typeof i[o("0x240")]?r[o("0x232")](e,i[o("0x23f")],i.publicKeyVersion):r[o("0x241")](e,n,t,a)}static[o("0x242")](){return([1e7]+-1e3+-4e3+-8e3+-1e11)[o("0x243")](/[018]/g,(e=>(e^window.crypto[o("0x235")](new Uint8Array(1))[0]&15>>e/4)[o("0x9")](16)))}}const i=o("0x244"),a={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:o("0x245"),swfPath:o("0x246"),userDefinedFonts:[],extendedJsFonts:void 0,hashOnly:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},webgl:{hashOnly:!1},ponfUrl:o("0x247"),telemetryCollectPath:o("0x248"),extraComponents:[],excludes:{pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},debug:!1,NOT_AVAILABLE:o("0x249"),ERROR:o("0x24a"),EXCLUDED:o("0x24b")}
class s{constructor(e,n){void 0!==n&&void 0!==e&&o("0x24c")===e.globalIntegration?o("0x1e")===document.readyState?this[o("0x24d")](a,n):window[o("0x24e")](o("0x24f"),(()=>{this[o("0x24d")](a,n)})):void 0!==e?this[o("0x250")](a,e):o("0x1e")===document[o("0x251")]?this[o("0x250")](a):window[o("0x24e")](o("0x24f"),(()=>{this[o("0x250")](a)}))}[o("0x250")](e,i){if(null!=i||null!=t(o("0x252"))){this[o("0x253")](e,i)
var a=this.reqid,s=this[o("0x254")],c=this.isProd()
return(new n)[o("0x255")]((function(n,t){n[o("0x256")]=a,n[o("0x254")]=s,n[o("0x257")]=t,r[o("0x23e")](JSON[o("0x216")](n),o("0x252"),o("0x258"),i,c).then((n=>{globalThis.apfcDf=n,!0===t&&function(e,n,t){let r=new XMLHttpRequest,i=o(t?"0x259":"0x25a")
i+=String(n),r[o("0x98")](o("0x25b"),i),r[o("0x25c")](o("0x25d"),o("0x25e")),r[o("0x25f")](e)}(JSON.stringify(n),e[o("0x260")],c)}))}),e)}globalThis.triggerApfc=this.reentry}[o("0x24d")](e,t){return(new n).getFeatures((function(e,n){!0===n&&r[o("0x241")](JSON[o("0x216")](e),o("0x252"),o("0x258"))[o("0x21")]((e=>{t(i,JSON.stringify(e))}))}),e)}}s.prototype[o("0x261")]=function(e){globalThis[o("0x262")]=null,new s(e)},s[o("0xc")].reentryGlobalIntegration=function(e){globalThis[o("0x263")]=null,new s({globalIntegration:o("0x24c")},e)},s.prototype[o("0x264")]=function(){const e=location&&location[o("0x265")]
return e&&e[o("0x18")](o("0x266"))>-1&&!e[o("0x267")](o("0x268"))},s[o("0xc")][o("0x269")]=function(){var e=[]
return[...document[o("0x1cc")]("div_bc")].forEach((n=>{[...n[o("0xf4")](o("0x26a"))][o("0xd")]((n=>{let t=n.innerHTML
if(t){var r=(new DOMParser).parseFromString(t,o("0x26b"))
r&&[...r[o("0x1cc")]("bc")][o("0xd")]((n=>{e[o("0x10")]({src:n[o("0x29")](o("0x26c")),style:n[o("0x29")]("style"),class:n[o("0x29")](o("0x26d")),width:n[o("0x29")](o("0x1d0")),height:n[o("0x29")](o("0x65"))})}))}}))})),0===e[o("0x6")]?null:e[0]},s[o("0xc")][o("0x253")]=function(e,n){if(null==e)return
var t,i,a="bc",s=o("0x26e"),c="1",d="1",u=e.ponfUrl
if(this.reqid=null,this.pageInstance=null,null!==(t=this.getUrlFromNoscriptBeacon())){a=t[o("0x26d")],s=t.style,c=t[o("0x1d0")],d=t[o("0x65")]
let e=new URL(t[o("0x26c")])
u=e[o("0xad")]+"//"+e.host+e.pathname,this.reqid=e[o("0x26f")].get(o("0x256")),this.pageInstance=e[o("0x26f")][o("0x270")](o("0x254"))}else if(void 0!==(i=function(e){let n=arguments[o("0x6")]>1&&void 0!==arguments[1]&&arguments[1],t=arguments[2]
const r=t?t[o("0x21c")]("#"+e):document[o("0x271")](e)
if(r){const t=r[o("0x21d")][o("0x21e")]
if(n&&r[o("0x21f")][o("0x110")](r),t)try{let e=t
return"'"!==e.charAt(0)&&'"'!==e[o("0x272")](0)||(e=e[o("0x273")](1,e[o("0x6")]-1)),JSON[o("0x220")](e)}catch(e){return}}}("bc_context")))this[o("0x256")]=void 0===i.reqid?null:i[o("0x256")],this[o("0x254")]=i[o("0x254")]
else{if(void 0===n)return
this[o("0x254")]=n[o("0x254")]}this[o("0x264")]()||(u=u[o("0x243")](/\.linkedin\.com/,".linkedin-ei.com")),null===this[o("0x256")]&&(this[o("0x256")]=r.uuidv4())
let l=u+"?"+new URLSearchParams({reqid:this[o("0x256")],pageInstance:this.pageInstance,js:"enabled"})[o("0x9")](),p=document[o("0x1cc")](o("0x274"))[0]
null==p&&(p=document[o("0xf5")](o("0xf6")),p[o("0x1ef")]("id",this[o("0x256")]),document[o("0x75")].appendChild(p))
let f=document[o("0xf5")](o("0x275"))
f[o("0x26c")]=l,f[o("0xf9")]=s,f.className=a,f[o("0x1d0")]=c,f.height=d,p[o("0x10e")](f)},o("0x276")!=typeof globalThis&&"undefined"!=typeof document&&o("0x276")!=typeof window&&(globalThis[o("0x263")]=s[o("0xc")][o("0x277")],new s)}()
class s{static isInitialized(){return Boolean("undefined"!=typeof globalThis&&void 0!==globalThis.triggerApfc&&null!==globalThis.triggerApfc)}static setDf(e){globalThis.triggerApfc(e)}}class c{static collectFeatures(e,n){try{"undefined"!=typeof globalThis&&"undefined"!=typeof document&&"undefined"!=typeof window&&"undefined"!==globalThis.triggerDnaApfcEvent&&globalThis.triggerDnaApfcEvent(n)}catch(e){}}}},57727:(e,n,t)=>{"use strict"
function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}t.r(n),t.d(n,{NON_ESSENTIAL_CATEGORIES:()=>g,USER_MODE:()=>v,getBannerData:()=>N,getCookieConsent:()=>O,parseEncodedConsent:()=>M,updateCookieConsent:()=>P})
var o=new RegExp("urn:[^:]+:([a-z]\\w*)(?::(.+))?"),s=/^fs_/
function c(e){if("string"!=typeof e)throw new TypeError("URNs must be of type string, but the parameter passed to extractEntityInfoFromUrn was of type "+typeof e+".")
var n,t,r=o.exec(e)
return r&&(n=r[1].replace(s,""),t=r[2]),{id:t,type:n}}var d,u,l,p,f,h,m=/(?![^(]*\)),/,y=function e(n){var t=c(n),r=t.id,i=t.type,a={}
if("("===r.charAt(0)){for(var o,s=r.substring(1,r.length-1).split(m),d=0;o=s[d];++d)0===o.indexOf("urn")&&(s[d]=e(o))
r=s}return a[i]=r,a},g={ADVERTISING:"ADVERTISING",ANALYTICS_AND_RESEARCH:"ANALYTICS_AND_RESEARCH",FUNCTIONAL:"FUNCTIONAL"},v={GUEST:"GUEST",MEMBER:"MEMBER",ENTERPRISE_UNBOUND:"ENTERPRISE_UNBOUND"},b=(i(d={},v.GUEST,"li_gc"),i(d,v.MEMBER,"li_mc"),i(d,v.ENTERPRISE_UNBOUND,"li_ec"),d),T=(i(u={},v.GUEST,"mypreferences/g/guest-cookies"),i(u,v.MEMBER,"settings/member-cookies"),i(u,v.ENTERPRISE_UNBOUND,"mypreferences/e/enterprise-cookies"),u),_="liap",E=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null
for(var o in r(this,e),n=n||{},this.consentAvailable=!1,this.issuedAt=t,this.userMode=i,this.optedInConsentMap={},g)n[o]=n[o]||0,0!==n[o]&&(this.consentAvailable=!0),this.optedInConsentMap[o]=1===n[o]||0===n[o]&&1===a},S=(l=[g.ADVERTISING,g.ANALYTICS_AND_RESEARCH,g.FUNCTIONAL],p=[0,1,2,0],f=function(e){for(var n={},t=0;t<l.length;t++)n[l[t]]=p[e>>2*t&3]
return n},h=function(e){var n=0
return e>=0&&e<=3&&(n=p[e]),n},{parseConsentBody:function(e,n){var t=new RegExp(["^(\\d+)","(\\d+)","(\\d+)","((?:.|\\s)+)"].join(";")),r=e.match(t)
if(!r)return{error:"Invalid consent body encoding",consent:new E}
var i=f(parseInt(r[1],10)),a=new Date(1e3*parseInt(r[2],10)),o=h(parseInt(r[3],10))
return{error:null,consent:new E(i,a,n,o)}},parseConsentBodyEnterpriseUnbound:function(e,n,t){var r=function(e){try{var n=y(e)
if(n&&n.enterpriseProfile&&n.enterpriseProfile.length>=2&&n.enterpriseProfile[0].enterpriseAccount)return{enterpriseAccountId:parseInt(n.enterpriseProfile[0].enterpriseAccount,10),enterpriseProfileId:parseInt(n.enterpriseProfile[1],10)}}catch(e){return null}return null}(n)
if(!r)return{error:"Invalid enterprise profile urn provided",consent:new E}
var i=r.enterpriseAccountId,o=r.enterpriseProfileId,s=new RegExp(["^((?:\\d+,\\d+,\\d+,\\d+,\\d+)(?:\\|(?:\\d+,\\d+,\\d+,\\d+,\\d+))*)","(\\d+)","(\\d+)","(?:(?:.|\\s)+)$"].join(";")),c=e.match(s)
if(!c)return{error:"Invalid consent body encoding",consent:new E}
var d=c[1].split("|").map((function(e){return e.split(",").map((function(e){return parseInt(e,10)}))})).filter((function(e){var n,r=(4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),4!==t.length);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return t}}(n)||function(e,n){if(e){if("string"==typeof e)return a(e,4)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,4):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=r[1],c=r[2],d=r[3]
return s===i&&c===o&&d===t}))[0]
if(!d)return{error:null,consent:new E}
var u=f(d[0]),l=new Date(1e3*parseInt(c[2],10)),p=h(parseInt(c[3],10))
return{error:null,consent:new E(u,l,v.ENTERPRISE_UNBOUND,p)}}}),C=new RegExp(["^(\\d+)","((?:.|\\s)+)"].join(";")),A=function(e,n){var t=n.match(new RegExp("(?:^|; *)".concat(e,"=([^;]*)")))
return t&&t.length>1?t[1]:null},k=function(e,n,t,r){var i=A(b[e],n)
return i?M(i,e,t,r):A(b[v.GUEST],n)||A(b[v.MEMBER],n)||A(b[v.ENTERPRISE_UNBOUND],n)?I(2):I(1)},I=function(e){var n={}
for(var t in g)n[t]=e
return{error:null,consent:new E(n,null,null,e)}},R=function(){var e=document.domain.match(/^(?:|.*\.)([^\.]+\.[^\.]+)$/)
return e?e[1]:"linkedin-ei.com"},w=function(e,n){var t=T[e],r=n.enterpriseProfileHash,i=n.enterpriseAppInstanceId,a=new URLSearchParams
e===v.ENTERPRISE_UNBOUND&&(r&&a.append("p",r),i&&a.append("iid",i))
var o=Array.from(a).length?"?"+a.toString():""
return"https://www.".concat(R(),"/").concat(t).concat(o)},x=function(){return"undefined"==typeof document},M=function(e,n,t,r){e&&e.length>1&&'"'==e.charAt(0)&&'"'==e.charAt(e.length-1)&&(e=e.substring(1,e.length-1))
var i,a=null
try{a=(i=e,"undefined"==typeof atob&&"undefined"!=typeof Buffer?Buffer.from(i,"base64").toString("binary"):atob(i)).match(C)}catch(e){}if(!a)return{error:"Invalid consent encoding",consent:new E}
var o=parseInt(a[1],10),s=a[2]
return 1===o?n===v.ENTERPRISE_UNBOUND?S.parseConsentBodyEnterpriseUnbound(s,t,r):S.parseConsentBody(s,n):{error:"Invalid encoded consent version ".concat(o),consent:new E}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.enterpriseProfileUrn,i=t.enterpriseAppInstanceId
if("string"!=typeof n){if(x())return{error:"cookie string must be provided in SSR mode",consent:new E}
n=document.cookie}if(r&&!i||!r&&i)return{error:"enterpriseProfileUrn and enterpriseAppInstanceId must both be provided if at least one is provided",consent:new E}
if(!(e!==v.ENTERPRISE_UNBOUND||r&&i))return{error:"enterpriseProfileUrn and enterpriseAppInstanceId are required for unbound userMode",consent:new E}
if(!e){var a=A(b[v.ENTERPRISE_UNBOUND],n)
if(a&&r&&i){var o=M(a,v.ENTERPRISE_UNBOUND,r,i),s=o.consent.userMode===v.ENTERPRISE_UNBOUND
if(s||o.error)return o}e=A(_,n)?A(b[v.MEMBER],n)?v.MEMBER:v.GUEST:A(b[v.GUEST],n)?v.GUEST:v.MEMBER}return k(e,n,r,i)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=O(e,document.cookie,n),r=t.consent,i=e||r.userMode||v.GUEST
return{showBanner:!t.error&&!r.consentAvailable,userMode:i,managePreferenceUrl:w(i,n)}},P=function(e,n){var t=e.optedInConsentMap,r=e.updateSettings,i=e.userMode,a=e.xLiTrackPayload,o=e.enterpriseContext||{},s=o.enterpriseProfileHash,c=o.enterpriseAppInstanceId
n=n||function(e,n){}
var d=A(b[v.ENTERPRISE_UNBOUND],document.cookie)
t||n("optedInConsentMap is a required option",null)
var u=new XMLHttpRequest,l=new URLSearchParams
d&&c&&l.append("appInstanceId",c)
var p=Array.from(l).length?"?"+l.toString():""
u.open("POST","https://www.".concat(R(),"/cookie-consent/").concat(p)),u.setRequestHeader("Content-Type","application/json"),a&&u.setRequestHeader("X-LI-Track",a),d&&s&&u.setRequestHeader("x-li-identity",s),u.withCredentials=!0,u.onload=function(){200!==u.status?n("Request failed with status ".concat(u.status),null):n(null,u)},u.onerror=function(){n("Request failed with an error",u)}
var f={UPDATE_SETTINGS:r,USER_MODE:i,CATEGORIES:{}}
for(var h in g){var m=void 0
!0===t[h]?m=1:!1===t[h]&&(m=2),f.CATEGORIES[h]=m}u.send(JSON.stringify(f))}},74319:(e,n,t)=>{"use strict"
var r
t.r(n),t.d(n,{CALL_TREE_ID_HEADER_NAME:()=>f,DEGRADATION_TRACKING_EVENT_FIELD:()=>T,DEGRADATION_TRACKING_EVENT_NAME:()=>l,DOWNSTREAM_REQUEST_FIELD:()=>_,DegradationTrackingMetadata:()=>j,DegradationTrackingMetadataOptionName:()=>P,FABRIC_HEADER_NAME:()=>y,FEATURE_DEGRADATION_METRIC_EVENT_NAME:()=>p,FailureTrackingMetadata:()=>Q,INSTRUMENTATION_GUIDE_PROMPT:()=>u,InternalFailureProcessingMetadata:()=>$,InternalFeatureDegradationMetricEventProducer:()=>k,InternalFeatureDegradationMetricStore:()=>N,InvalidArgumentError:()=>D,JET_NOISE_TAG:()=>C,JET_UNCLASSIFIED_ERROR_TAG:()=>S,METRIC_EMISSION_INTERVAL_IN_MS:()=>E,MICROSOFT_EDGE_REFERENCE_HEADER_NAME:()=>m,PEM_METADATA_HEADER_NAME:()=>g,PEM_RESPONSE_METADATA_HEADER_NAME:()=>v,PEM_RESPONSE_METATADA_HEADER_AVAILABILITY_KEY:()=>b,POINT_OF_PRESENCE_ID_HEADER_NAME:()=>h,ParsedResponseHeaders:()=>Y,PemTrackingService:()=>ee,ResponseDetails:()=>X,RetryableDegradationTrackingMetadata:()=>q,SUPPORTED_DEGRADATION_TRACKING_METADATA_OPTIONS:()=>U,calculateSuccessfulDownstreamCallsRatio:()=>z,createDegradeEvents:()=>K,determineResponseErrorType:()=>G,generateSpanSuffix:()=>W,parseDownstreamEndpointPathname:()=>V,refineServerErrorType:()=>H,teardown:()=>Z,validateKey:()=>B,validateProductName:()=>F})
var i=new Uint8Array(16)
function a(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return r(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&o.test(e)}
for(var c=[],d=0;d<256;++d)c.push((d+256).toString(16).substr(1))
const u="See https://go/pem/degradation-tracking-user-guide for instrumentation instructions",l="FeatureDegradeEvent",p="FeatureDegradationMetricEvent",f="x-li-uuid",h="x-li-pop",m="x-msedge-ref",y="x-li-fabric",g="X-LI-PEM-Metadata",v="x-li-pem-resp-meta",b="availability",T={featureKey:"featureKey",productName:"productName",downstreamRequests:"downstreamRequests"},_={degradationKey:"degradationKey",degradationReason:"degradationReason",responseCode:"responseCode",endpointPath:"endpointPath",callTreeId:"responseCallTreeId"},E=6e4,S="pem-unclassified-error",C="noise"
class A{constructor(e,n){this._collectedFeatureMetrics=e,this._fireEventCallback=n}}class k extends A{produceMetricEvent(e){this._collectedFeatureMetrics.flushMetrics().forEach((n=>{const t=[]
n.featureCallCounts.forEach((e=>{t.push({featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,degradedDownstreamCallCount:0,totalDownstreamCallCount:e.totalApiCallCount,retriedDownstreamCallCount:e.retriedApiCallCount,retriedSuccessfulDownstreamCallsRatio:e.retriedSuccessfulCallsRatio,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,successfulDownstreamCallsRatio:e.successfulApiCallsRatio,metricKey:{featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,responseFabric:e.featureMetricIdentifier.responseFabric}})}))
const r={header:{},requestHeader:{},time:Date.now(),metrics:t}
this._fireEventCallback(p,r,n.pageInstance,e)}))}}class I{constructor(e){this._featureCallCounts=new Map,this._pageInstance=e}get pageInstance(){return this._pageInstance}get featureCallCounts(){return this._featureCallCounts}}class R{constructor(e){this.featureMetricIdentifier=e}}function w(e){return JSON.stringify(e,Object.keys(e).sort())}class x extends I{trackSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio+=1,e.totalApiCallCount++}))}trackFailedFeatureApiCall(e,n){this.trackMetric(e,(e=>{e.successfulApiCallsRatio+=n,e.totalApiCallCount++}))}trackRetriedFeatureApiCall(e,n){this.trackMetric(e,(e=>{e.retriedApiCallCount++,e.retriedSuccessfulCallsRatio+=n}))}trackRetriedSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio++,e.totalApiCallCount++}))}changeRetriedMetricsToTotal(){this.featureCallCounts.forEach((e=>e.changeCallCountsFromRetriedToTotal()))}trackMetric(e,n){const t=w(e)
if(this.featureCallCounts.has(t))n(this.featureCallCounts.get(t))
else{const r=new M(e)
n(r),this.featureCallCounts.set(t,r)}}}class M extends R{constructor(){super(...arguments),this.successfulApiCallsRatio=0,this.totalApiCallCount=0,this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}mergeCallCounts(e){return this.successfulApiCallsRatio+=e.successfulApiCallsRatio,this.totalApiCallCount+=e.totalApiCallCount,this.retriedApiCallCount+=e.retriedApiCallCount,this.retriedSuccessfulCallsRatio+=e.retriedSuccessfulCallsRatio,this}changeCallCountsFromRetriedToTotal(){this.totalApiCallCount+=this.retriedApiCallCount,this.successfulApiCallsRatio+=this.retriedSuccessfulCallsRatio,this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}}class O{flushMetrics(){const e=[...this.metrics.values()]
return this.metrics=new Map,e}}class N extends O{constructor(){super(...arguments),this.metrics=new Map}incrementSuccessfulFeatureApiCall(e,n){this.incrementMetric(n,(n=>n.trackSuccessfulFeatureApiCall(e)))}incrementFailedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(n,(n=>n.trackFailedFeatureApiCall(e,t)))}incrementRetriedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(n,(n=>n.trackRetriedFeatureApiCall(e,t)))}incrementRetriedSuccessfulApiCall(e,n){this.incrementMetric(n,(n=>n.trackRetriedSuccessfulFeatureApiCall(e)))}mergeMetricsFrom(e){e.metrics.forEach(((e,n)=>{const t=this.metrics.get(n)
void 0!==t?e.featureCallCounts.forEach(((e,r)=>{var i
let a=t.featureCallCounts.get(r)
void 0!==a?a=a.mergeCallCounts(e):null===(i=this.metrics.get(n))||void 0===i||i.featureCallCounts.set(n,e)})):this.metrics.set(n,e)}))}changeRetriedMetricsToTotal(){this.metrics.forEach((e=>e.changeRetriedMetricsToTotal()))}incrementMetric(e,n){const t=w(e)
if(this.metrics.has(t))n(this.metrics.get(t))
else{const r=new x(e)
n(r),this.metrics.set(t,r)}}}var P
!function(e){e.ProductName="productName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides",e.ClientSensorGroupName="clientSensorGroupName",e.EnablePerformanceMeasurement="enablePerformanceMeasurement",e.CustomTrackingId="customTrackingId",e.DisableAvailabilityCalculation="disableAvailabilityCalculation",e.EnableSessionRecording="enableSessionRecording"}(P||(P={}))
const U=new Set(Object.values(P))
class D extends Error{constructor(e){super(e),Object.setPrototypeOf(this,D.prototype)}}function L(e){return 0===e.length||!e.trim()}function F(e){if("string"!=typeof e)throw new D(`The product name must be a string. ${u}.`)
if(L(e))throw new D(`No product name was specified. Please configure a defaultProductName or specify it per instrumented API call. ${u}.`)
if(/[^a-zA-Z0-9-_ \\/]/.test(e))throw new D(`Product name '${e}' can only contain alphanumeric, underscores (_), spaces ( ), dashes (-) and forward slashes (/). ${u}.`)
return e}function B(e){if("string"!=typeof e)throw new D(`Keys must be strings. ${u}.`)
if(L(e))throw new D(`Keys should not be blank. ${u}.`)
if(/[^a-z0-9-]/.test(e))throw new D(`'${e}' can only contain lowercase alphanumeric characters and dashes (-). ${u}.`)
return e}class j{constructor(e,n,t){var r,i,a
if(this._shouldEnablePerformanceMeasurement=!1,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._featureKey=B(e),this._defaultDegradationKey=B(n),!t)return this._additionalDegradedResponseCodes=[],this._nonDegradedResponseCodes=[],void(this._degradationKeyOverrides=[])
if("object"!=typeof t)throw new D(`DegradationTrackingMetadata options should be an object. ${u}.`)
const o=t.productName
o&&(this._productName=F(o))
const s=t.additionalDegradedResponseCodes,c=t.nonDegradedResponseCodes
!function(e,n){const t=(e,n)=>{if("number"!=typeof(t=e)||!isFinite(t)||Math.floor(t)!==t||e<=0||e>999)throw new D(`Please only specify positive integer response codes between 1 and 999 for the ${n} option. ${e} was specified. ${u}.`)
var t
if(429===e||999===e)throw new D(`PEM does not consider 429 and 999 API responses indications of the real member experience because it represents LinkedIn throttling abusive requests. We drop 429s and 999s by default, so please remove them from your ${n} options.`)
if(n===P.NonDegradedResponseCodes&&e>=400&&e<500)throw new D(`For server responses that have a status code, PEM does not consider 4xx as degraded. ${e} is not considered a degradation unless you explicitly add it to the ${P.AdditionalDegradedResponseCodes} option. Please remove ${e} from the ${P.NonDegradedResponseCodes} option. ${u}.`)}
if(void 0!==e&&!Array.isArray(e))throw new D(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that shouldn't be counted as degraded for the ${P.NonDegradedResponseCodes} option. ${u}.`)
if(void 0!==n&&!Array.isArray(n))throw new D(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that should only be considered as the degraded state(s) for the ${P.AdditionalDegradedResponseCodes} option. ${u}.`)
null==e||e.forEach((e=>t(e,P.NonDegradedResponseCodes))),null==n||n.forEach((e=>t(e,P.AdditionalDegradedResponseCodes)))
const r=new Set(n),i=new Set(e)
if([...r].some((e=>i.has(e))))throw new D(`Response codes can't be both degraded and non-degraded. Please ensure that your additionalDegradedResponseCodes and nonDegradedResponseCodes don't have any overlapping response codes. ${u}.`)}(c,s),this._nonDegradedResponseCodes=c||[],this._additionalDegradedResponseCodes=s||[],this._degradationKeyOverrides=t.degradationKeyOverrides||[],this._clientSensorGroupName=t.clientSensorGroupName,this._shouldEnablePerformanceMeasurement=null!==(r=t.enablePerformanceMeasurement)&&void 0!==r&&r,this._customTrackingId=t.customTrackingId,this._shouldDisableAvailabilityCalculation=null!==(i=t.disableAvailabilityCalculation)&&void 0!==i&&i,this._shouldRecordSession=null!==(a=t.enableSessionRecording)&&void 0!==a&&a,function(e){Object.keys(e).forEach((e=>{if(!U.has(e))throw new D(`An unsupported degradation tracking option '${e}' was provided. Please fix or remove it. ${u}`)}))}(t)}static isDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(j.prototype).every((n=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),n)))}get featureKey(){return this._featureKey}get defaultDegradationKey(){return this._defaultDegradationKey}get degradationKey(){return this._defaultDegradationKey}get productName(){return this._productName}get additionalDegradedResponseCodes(){return this._additionalDegradedResponseCodes}get nonDegradedResponseCodes(){return this._nonDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationKeyOverrides}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._shouldEnablePerformanceMeasurement}get customTrackingId(){return this._customTrackingId}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}}class q{constructor(e){this._degradationTrackingMetadata=e,this._featureMetricStore=new N,this._lastRequestMetricStore=new N,this._requestsMade=0,this._trackingId=function(e,n,t){var r=(e=e||{}).random||(e.rng||a)()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0
for(var i=0;i<16;++i)n[t+i]=r[i]
return n}return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(c[e[n+0]]+c[e[n+1]]+c[e[n+2]]+c[e[n+3]]+"-"+c[e[n+4]]+c[e[n+5]]+"-"+c[e[n+6]]+c[e[n+7]]+"-"+c[e[n+8]]+c[e[n+9]]+"-"+c[e[n+10]]+c[e[n+11]]+c[e[n+12]]+c[e[n+13]]+c[e[n+14]]+c[e[n+15]]).toLowerCase()
if(!s(t))throw TypeError("Stringified UUID is invalid")
return t}(r)}()}static isRetryableDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(q.prototype).every((n=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),n)))}get degradationTrackingMetadata(){return this._degradationTrackingMetadata}get featureMetricStore(){return this._featureMetricStore}get currentRequestSequenceId(){return this._requestsMade-1}get flowTrackingId(){return this._trackingId}get shouldDisableAvailabilityCalculation(){return this._degradationTrackingMetadata.shouldDisableAvailabilityCalculation}get featureKey(){return this._degradationTrackingMetadata.featureKey}get defaultDegradationKey(){return this._degradationTrackingMetadata.defaultDegradationKey}get productName(){return this._degradationTrackingMetadata.productName}get nonDegradedResponseCodes(){return new Set(this._degradationTrackingMetadata.nonDegradedResponseCodes)}get additionalDegradedResponseCodes(){return this._degradationTrackingMetadata.additionalDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationTrackingMetadata.degradationKeyOverrides}get customTrackingId(){return this._degradationTrackingMetadata.customTrackingId}get clientSensorGroupName(){return this._degradationTrackingMetadata.clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._degradationTrackingMetadata.shouldEnablePerformanceMeasurement}incrementRetriedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedFeatureApiCall(e,n,t)}incrementRetriedSuccessfulApiCall(e,n){this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedSuccessfulApiCall(e,n)}flushMetricStoreToServiceStore(e){this._lastRequestMetricStore.changeRetriedMetricsToTotal(),this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),e.mergeMetricsFrom(this._featureMetricStore),this._featureMetricStore.flushMetrics(),this._lastRequestMetricStore.flushMetrics()}}function V(e,n){if(!e.includes("/"))return e
const t=function(e){const n=document.createElement("a")
return n.href=e,n.pathname}(e),r=t.split("/").filter((e=>e.length))
if(!n.length)return r.join("/")
const i=[]
for(let e=r.length-1;e>=0;e--){const t=r[e],a=n.indexOf(t)
a>=0?n.splice(a,1):i.push(t)}return i.reverse().join("/")}function H(e){if(e){if(e.fabric)return"SERVER_ERROR"
if(e.pointOfPresenceId)return"TRAFFIC_LI_POP_TO_DC_ERROR"
if(e.microsoftEdgeReference)return"TRAFFIC_AFD_TO_LI_POP_ERROR"}return"SERVER_ERROR"}function G(e){const n=e.responseError,t=e.parsedHeaders,r=e.responseCode
if(r){if(429===r||999===r)return"TOO_MANY_REQUESTS"
if(t&&!t.hasAnyLinkedInHeaders()&&r&&r>=400&&r<600)return"BLOCKED_BY_CLIENT_PROXY"
if((i=r)>=400&&i<500)return function(e){return 429===e?"TOO_MANY_REQUESTS":"CLIENT_ERROR"}(r)
if(function(e){return e>=500&&e<600}(r))return H(t)
if(function(e,n){return!!(e>=200&&e<300&&n&&n.downstreamAvailability<1)}(r,t))return"DOWNSTREAM_GRACEFUL_DEGRADATION"}var i
if(!n)return null
if(n instanceof Error){if("AbortError"===n.name)return"CLIENT_ABORTED"
if(n instanceof TypeError&&(n.message.indexOf("Network request failed")>=0||n.message.indexOf("NetworkError when attempting to fetch resource")>=0||n.message.indexOf("Failed to fetch")>=0))return"NETWORK_ERROR"}else{if("timeout"===n.statusText)return"CLIENT_TIMEOUT"
if(0===n.status&&"abort"===n.statusText)return"CLIENT_ABORTED"
if("readyState"in n&&0===n.readyState)return"NETWORK_ERROR"}return"UNCLASSIFIED"}function K(e,n,t,r){if(!(null==e?void 0:e.trim())||!n||!Array.isArray(n))return[]
const i=[],a=r.responseCode
return n.forEach((n=>{const o=n.getDegradationKey(a),s=n.shouldImpactAvailability(t)&&n.isCountedAgainstAvailability(t,a),c={endpointPath:e,degradationKey:o,responseErrorTypeV2:t,isCountedAgainstAvailability:s,downstreamServiceErrorCode:r.downstreamServiceErrorCode}
a&&(c.responseCode=a)
const d=r.parsedHeaders
d.callTreeId&&(c.responseCallTreeId=d.callTreeId),(null==d?void 0:d.pointOfPresenceId)&&(c.pointOfPresenceId=d.pointOfPresenceId),(null==d?void 0:d.microsoftEdgeReference)&&(c.microsoftEdgeReference=d.microsoftEdgeReference),(null==d?void 0:d.fabric)&&(c.fabric=d.fabric),q.isRetryableDegradationTrackingMetadata(n.retryableTrackingMetadata)&&(c.retryDetails={trackingId:n.retryableTrackingMetadata.flowTrackingId,sequenceId:n.retryableTrackingMetadata.currentRequestSequenceId}),i.push({header:{},requestHeader:{},productName:n.productName,featureKey:n.featureKey,failedDownstreamRequests:[c],customTrackingId:n.customTrackingId})})),i}function W(e){if(!e)return"-success"
switch(e){case"SERVER_ERROR":case"GRAPHQL_FULL_FAILURE":return"-server-error"
case"CLIENT_ERROR":case"TOO_MANY_REQUESTS":return"-client-error"
default:return"-misc-error"}}function z(e,n){return"DOWNSTREAM_GRACEFUL_DEGRADATION"===e?n.downstreamAvailability:0}class Q extends j{static isFailureTrackingMetadata(e){return"object"==typeof e&&(null==e?void 0:e.constructor.name)===Q.name}}class ${constructor(e,n){if(this._additionalDegradedResponseCodes=new Set,this._degradationKeyByResponseCode=new Map,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._retryableTrackingMetadata=null,!q.isRetryableDegradationTrackingMetadata(e)&&!j.isDegradationTrackingMetadata(e)&&!Q.isFailureTrackingMetadata(e))throw new D("We encountered a bug where we forgot to provide the tracking metadata as an argument. Please report it to the #pem team.")
if(!n)throw new D("We encountered a bug where we forgot to provide the product name as an argument. Please report it to the #pem team.")
this._featureKey=e.featureKey,this._productName=n,this._clientSensorGroupName=e.clientSensorGroupName,this._defaultDegradationKey=e.defaultDegradationKey
let t=j.isDegradationTrackingMetadata(e)?e:void 0
q.isRetryableDegradationTrackingMetadata(e)&&(t=e.degradationTrackingMetadata,this._retryableTrackingMetadata=e),void 0!==t?(this._nonDegradedResponseCodes=new Set(t.nonDegradedResponseCodes),this._customTrackingId=t.customTrackingId,this._shouldDisableAvailabilityCalculation=t.shouldDisableAvailabilityCalculation,this._shouldRecordSession=t.shouldRecordSession,t.additionalDegradedResponseCodes.length&&(this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))):(this._nonDegradedResponseCodes=new Set(e.nonDegradedResponseCodes),this._customTrackingId=e.customTrackingId,this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))}getDegradationKey(e){return this._degradationKeyByResponseCode.has(e)?this._degradationKeyByResponseCode.get(e):this._defaultDegradationKey}get featureKey(){return this._featureKey}get productName(){return this._productName}get customTrackingId(){return this._customTrackingId}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}get retryableTrackingMetadata(){return this._retryableTrackingMetadata}get retryMetricStore(){var e,n
return void 0!==(null===(e=this._retryableTrackingMetadata)||void 0===e?void 0:e.featureMetricStore)?null===(n=this._retryableTrackingMetadata)||void 0===n?void 0:n.featureMetricStore:null}isCountedAgainstAvailability(e,n){return null!==e&&(null==n||this.canResponseCodeCountAgainstAvailability(n))}canResponseCodeCountAgainstAvailability(e){if(this._degradationKeyByResponseCode.has(e))return!0
if(this._additionalDegradedResponseCodes.has(e))return!0
const n=e>=400&&e<500,t=e>=300&&e<400,r=this._nonDegradedResponseCodes.has(e)
return!t&&!n&&!r}shouldImpactAvailability(e,n,t){return!(e&&"CLIENT_ABORTED"===e||"BLOCKED_BY_CLIENT_PROXY"===e||!(null==t?void 0:t.hasAnyLinkedInHeaders())&&n&&n>=400&&n<600||"TOO_MANY_REQUESTS"===e)}processAdditionalDegradedResponseCodes(e){e.forEach((e=>{if(this._nonDegradedResponseCodes.has(e))throw new D(`You attempted to specify ${e} as an additional degraded response code for the '${this.featureKey}' feature, however it is also specified in the non-degraded response codes for that feature. Please decide whether you want to consider ${e} responses a degraded state or not. ${u}.`)
this._additionalDegradedResponseCodes.add(e)}))}initializeDegradationKeyOverrides(e){e.forEach((e=>{if(!e.responseCodesToOverride||!e.degradationKey||!Array.isArray(e.responseCodesToOverride)||"string"!=typeof e.degradationKey)throw new D(`Degradation key overrides must consist of an array of responseCodesToOverride and a string degradationKey. ${u}.`)
new Set(e.responseCodesToOverride).forEach((n=>{if(!this.canResponseCodeCountAgainstAvailability(n))throw new D(`A degradation key override was specified for ${n}, but that response code isn't considered degraded. Please add it to additionalDegradedResponseCodes if you want it to count against your availability.`)
this._degradationKeyByResponseCode.set(n,e.degradationKey)}))}))}}class Y{constructor(e){const n=new Map
null==e||e.forEach(((e,t)=>{n.set(t.toLowerCase(),e)})),this._callTreeId=n.get(f)||null,this._pointOfPresenceId=n.get(h)||null,this._msEdgeRef=n.get(m)||null,this._fabric=n.get(y)||null,this._responseMetadata=n.get(v)||null,this._downstreamAvailability=function(e){if(null==e)return null
const n=e.split(",")
for(const e of n){const n=e.split("=",2)
if(2===n.length&&n[0]===b){const e=parseFloat(n[1])
if(e>=0&&e<=1)return e}}return null}(this._responseMetadata)||1}get callTreeId(){return this._callTreeId}get pointOfPresenceId(){return this._pointOfPresenceId}get microsoftEdgeReference(){return this._msEdgeRef}get fabric(){return this._fabric}get downstreamAvailability(){return this._downstreamAvailability}hasAnyLinkedInHeaders(){return!!(this._fabric||this._pointOfPresenceId||this._msEdgeRef||this._callTreeId)}}class X{constructor(e,n,t,r){this._responseCode=e||null,this._parsedResponseHeaders=n?new Y(n):new Y,this._responseError=t||null,this._downstreamServiceErrorCode=r}get responseCode(){return this._responseCode}get parsedHeaders(){return this._parsedResponseHeaders}get responseError(){return this._responseError}set responseError(e){this._responseError=e}get downstreamServiceErrorCode(){return this._downstreamServiceErrorCode}set downstreamServiceErrorCode(e){this._downstreamServiceErrorCode=e}}const J="undefined"==typeof FastBoot
function Z(e){e._metricsInterval&&window.clearInterval(e._metricsInterval),window.removeEventListener("visibilitychange",e._visibilityListener)}class ee{constructor(e,n,t){this._featureMetricStore=new N,this._visibilityListener=()=>{"hidden"===document.visibilityState&&this._metricSender.produceMetricEvent(!0)},this._defaultProductName=e,this._fireEventCallback=n,this._jetErrorCallback=t,this._metricSender=new k(this._featureMetricStore,n),J&&(this._metricsInterval=window.setInterval((()=>this._metricSender.produceMetricEvent()),E),window.addEventListener("visibilitychange",this._visibilityListener))}trackFeatureDegradationsForFetch(e,n,t,r,i){let a,o=null
const s=new Map,c=this._createFailureProcessingMetadata(t)
return n=this._getAndValidateUrlEntityIDs(n),r.then((e=>{o=e.status,e.headers.forEach(((e,n)=>s.set(n.toLowerCase(),e))),!1===e.ok&&(a=e)})).catch((e=>{throw a=e,e})).finally((()=>{this._trackResponse(e,o,n,c,i,s,a)}))}trackFeatureDegradationsForJQueryAjax(e,n,t,r,i,a){const o=n.status,s=n.getAllResponseHeaders(),c=new Map
s&&s.trim().split(/[\r\n]+/).forEach((e=>{const n=e.split(": "),t=n.shift()
if(t){const e=n.join(": ")
c.set(t.toLowerCase(),e)}}))
const d=a?null:n,u=this._createFailureProcessingMetadata(r)
t=this._getAndValidateUrlEntityIDs(t),this._trackResponse(e,o,t,u,i,c,d)}startRetryFlow(e){return ee.startRetryFlow(e)}static startRetryFlow(e){return new q(e)}completeRetryFlow(e){if(!q.isRetryableDegradationTrackingMetadata(e))throw new D("retryFlowMetadata must be an instance of RetryableDegradationTrackingMetadata")
e.flushMetricStoreToServiceStore(this._featureMetricStore)}_trackResponse(e,n,t,r,i,a,o){const s=new X(n,a,o),c=s.parsedHeaders,d=G(s),u=V(e,t),p=new Set,f=new Set
r.forEach((e=>{p.add(e.productName),f.add(e.featureKey)
const t=null!==e.retryableTrackingMetadata&&null!==e.retryMetricStore
!e.shouldDisableAvailabilityCalculation&&e.shouldImpactAvailability(d)&&(e.isCountedAgainstAvailability(d,n)?(t?e.retryableTrackingMetadata.incrementRetriedFeatureApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementFailedFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseErrorType:d,responseFabric:c.fabric},i,z(d,c)):(t?e.retryableTrackingMetadata.incrementRetriedSuccessfulApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementSuccessfulFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseFabric:c.fabric},i))})),d&&(this._reportErrorIfUnclassified(o,d,n,p,f),K(u,r,d,s).forEach((e=>{this._fireEventCallback(l,e,i)})))}_reportErrorIfUnclassified(e,n,t,r,i){var a
if((0===t||null==t)&&"UNCLASSIFIED"===n){const n=[C,S]
let t
r.forEach((e=>n.push(`pem-product-${e}`))),i.forEach((e=>n.push(`pem-feature-${e}`))),t=e instanceof Error?e:new Error(`Could not classify jQuery response: ${JSON.stringify(e)}`),null===(a=this._jetErrorCallback)||void 0===a||a.call(this,t,n,!1)}}_createFailureProcessingMetadata(e){if(!e||!Array.isArray(e)||!e.length)throw new D(`Please specify a non-empty array of degradation tracking metadata. ${u}.`)
const n=new Set
return e.map((e=>{if(!j.isDegradationTrackingMetadata(e)&&!q.isRetryableDegradationTrackingMetadata(e))throw new D(`Please use DegradationTrackingMetadata or RetryableDegradationTrackingMetadata to specify the degradations. ${u}.`)
const t=F(e.productName||this._defaultProductName),r=`${t}!!${e.featureKey}`
if(n.has(r))throw new D("More than one degradation tracking metadata has the same productName/featureKey combination. Please merge them together")
return n.add(r),new $(e,t)}))}_getAndValidateUrlEntityIDs(e){if(!Array.isArray(e))throw new D(`Please specify the queried IDs to remove from the request URL, or use an empty array if there are none. ${u}.`)
return e}}},60686:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{INPAGE_URL:()=>i,getShimmedLink:()=>c,initAnchorLinkShim:()=>p,isExternalLink:()=>s,removeAnchorLinkShim:()=>f})
var r=["linkedin.com","linkedin.cn","linkedin-ei.com","linkedin-ei.cn","lynda.com"],i="https://www.linkedin.com/safety/go",a=new RegExp(/^http(s)?:\/\/.*/)
function o(e){return e?(e=(e=(e=(e=(e=e.replace(/(https?:\/\/)?(www.)?/i,"")).includes("/")?e.split("/")[0]:e).includes("@")?e.split("@")[1]:e).includes(":")?e.split(":")[0]:e).split(".")).slice(e.length-2).join("."):(console.warn("Called getDomain with empty url"),e)}function s(e){var n
return!(!function(e){return!(!e||"string"!=typeof e||!e.match(1<arguments.length&&void 0!==arguments[1]?arguments[1]:a))}(e)||(e=o(e))===o(null==(n=window)?void 0:n.location.host)||-1!==r.indexOf(e))}function c(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}
if(s(e)){var t,r=i+"?url=".concat(encodeURIComponent(e))
for(t in n)r+="&"+t+"="+encodeURIComponent(n[t])
return r}return e}function d(e,n){return n instanceof HTMLAnchorElement?n:e instanceof HTMLAnchorElement?e:n===e||null===n?null:n.parentElement instanceof HTMLAnchorElement?n.parentElement:d(e,n.parentElement)}function u(e){return function(n){(n=n.currentTarget instanceof HTMLElement&&n.target instanceof HTMLElement?d(n.currentTarget,n.target):null)&&(n.href=c(n.href,e),n.removeAttribute("rel"))}}function l(e){return function(n){var t=n.currentTarget instanceof HTMLElement&&n.target instanceof HTMLElement?d(n.currentTarget,n.target):null
"Enter"===n.key&&t&&(t.href=c(t.href,e),t.removeAttribute("rel"))}}function p(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}
e instanceof HTMLElement?(e.addEventListener("mousedown",u(n)),e.addEventListener("keydown",l(n))):console.warn("attempting to `initAnchorLinkShim()` on non-`HTMLElement` item ".concat(e))}function f(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}
console.error("removeAnchorLinkShim is deprecated and does nothing. Please remove this call (with element ".concat(e," and params ").concat(JSON.stringify(n)))}},70588:function(e){var n
"undefined"!=typeof self&&self,n=function(){return function(e){var n={}
function t(r){if(n[r])return n[r].exports
var i=n[r]={i:r,l:!1,exports:{}}
return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e}
return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=63)}([function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")()
"number"==typeof __g&&(__g=t)},function(e,n,t){var r=t(31)("wks"),i=t(21),a=t(0).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,n){var t=e.exports={version:"2.6.11"}
"number"==typeof __e&&(__e=t)},function(e,n,t){var r=t(4),i=t(44),a=t(29),o=Object.defineProperty
n.f=t(5)?Object.defineProperty:function(e,n,t){if(r(e),n=a(n,!0),r(t),i)try{return o(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!")
return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var r=t(9)
e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!")
return e}},function(e,n,t){e.exports=!t(14)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=window||e}).call(n,t(41))},function(e,n,t){var r=t(0),i=t(2),a=t(17),o=t(8),s=t(10),c="prototype",d=function(e,n,t){var u,l,p,f=e&d.F,h=e&d.G,m=e&d.S,y=e&d.P,g=e&d.B,v=e&d.W,b=h?i:i[n]||(i[n]={}),T=b[c],_=h?r:m?r[n]:(r[n]||{})[c]
for(u in h&&(t=n),t)(l=!f&&_&&void 0!==_[u])&&s(b,u)||(p=l?_[u]:t[u],b[u]=h&&"function"!=typeof _[u]?t[u]:g&&l?a(p,r):v&&_[u]==p?function(e){var n=function(n,t,r){if(this instanceof e){switch(arguments.length){case 0:return new e
case 1:return new e(n)
case 2:return new e(n,t)}return new e(n,t,r)}return e.apply(this,arguments)}
return n[c]=e[c],n}(p):y&&"function"==typeof p?a(Function.call,p):p,y&&((b.virtual||(b.virtual={}))[u]=p,e&d.R&&T&&!T[u]&&o(T,u,p)))}
d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},function(e,n,t){var r=t(3),i=t(19)
e.exports=t(5)?function(e,n,t){return r.f(e,n,i(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n){var t={}.hasOwnProperty
e.exports=function(e,n){return t.call(e,n)}},function(e,n,t){var r=t(69),i=t(27)
e.exports=function(e){return r(i(e))}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.PROD_REGEX=/^((?!\.(stg|corp)).)*\.linkedin\.(com|cn)$/,n.UDO_KEY="utag_data",n.CDN_HOSTNAME_PROD="platform.linkedin.com",n.CDN_HOSTNAME_EI="platform.linkedin-ei.com",n.CN_CDN_HOSTNAME_PROD="platform.linkedin.cn",n.CN_CDN_HOSTNAME_EI="platform.linkedin-ei.cn",n.COOKIE_CONSENT_CHECK_INTERVAL=2e3,n.ROOT_HOSTNAME_EI="www.linkedin-ei.com",n.ROOT_HOSTNAME_PROD="www.linkedin.com",n.CN_ROOT_HOSTNAME_EI="www.linkedin-ei.cn",n.CN_ROOT_HOSTNAME_PROD="www.linkedin.cn",n.UTAG_GLOBAL_OBJECT_KEY="utag",n.UTAG_CONFIG_OVERRIDE_OBJECT_KEY="utag_cfg_ovrd",n.CUSTOM_EVENTS_TMS_LOAD_EVENT="TagManagementSystemLoadEvent",n.CUSTOM_EVENTS_TAG_FIRE_AUDIT_EVENT="ExternalMarketingTagFireEvent",n.TAG_MANAGEMENT_SYSTEM_USED="tealium",n.USER_METADATA_PATH="/litms/api/metadata/user",n.TRACKING_EVENT_DEBUG_DATA="trackingEventDebugData",n.REFRESH_ON_COOKIE_CONSENT_PROPERTY="entity.refreshOnCookieConsent",n.TRACKING_IDS=["twclid","clickid"],n.L_PAGE_COOKIE_LIFETIME="15780000"},function(e,n){e.exports=!0},function(e,n){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,n){e.exports={}},function(e,n){var t={}.toString
e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,n,t){var r=t(18)
e.exports=function(e,n,t){if(r(e),void 0===n)return e
switch(t){case 1:return function(t){return e.call(n,t)}
case 2:return function(t,r){return e.call(n,t,r)}
case 3:return function(t,r,i){return e.call(n,t,r,i)}}return function(){return e.apply(n,arguments)}}},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")
return e}},function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n,t){var r=t(47),i=t(32)
e.exports=Object.keys||function(e){return r(e,i)}},function(e,n){var t=0,r=Math.random()
e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},function(e,n,t){var r=t(3).f,i=t(10),a=t(1)("toStringTag")
e.exports=function(e,n,t){e&&!i(e=t?e:e.prototype,a)&&r(e,a,{configurable:!0,value:n})}},function(e,n,t){e.exports={default:t(86),__esModule:!0}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.getAPIHostname=n.getCDNHostname=n.isProd=void 0
var r,i=(r=t(6))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}(t(12))
function o(){var e=i.default.location?i.default.location.hostname:""
return a.PROD_REGEX.test(e)}function s(){var e=i.default.location?i.default.location.hostname:""
return/\.cn$/.test(e)}n.isProd=o,n.getCDNHostname=function(){return o()?s()?a.CN_CDN_HOSTNAME_PROD:a.CDN_HOSTNAME_PROD:s()?a.CN_CDN_HOSTNAME_EI:a.CDN_HOSTNAME_EI},n.getAPIHostname=function(){return o()?s()?a.CN_ROOT_HOSTNAME_PROD:a.ROOT_HOSTNAME_PROD:s()?a.CN_ROOT_HOSTNAME_EI:a.ROOT_HOSTNAME_EI}},function(e,n,t){"use strict"
n.__esModule=!0
var r=o(t(64)),i=o(t(76)),a="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e}
function o(e){return e&&e.__esModule?e:{default:e}}n.default="function"==typeof i.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,n){var t=Math.ceil,r=Math.floor
e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},function(e,n){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e)
return e}},function(e,n,t){var r=t(9),i=t(0).document,a=r(i)&&r(i.createElement)
e.exports=function(e){return a?i.createElement(e):{}}},function(e,n,t){var r=t(9)
e.exports=function(e,n){if(!r(e))return e
var t,i
if(n&&"function"==typeof(t=e.toString)&&!r(i=t.call(e)))return i
if("function"==typeof(t=e.valueOf)&&!r(i=t.call(e)))return i
if(!n&&"function"==typeof(t=e.toString)&&!r(i=t.call(e)))return i
throw TypeError("Can't convert object to primitive value")}},function(e,n,t){var r=t(31)("keys"),i=t(21)
e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,n,t){var r=t(2),i=t(0),a="__core-js_shared__",o=i[a]||(i[a]={});(e.exports=function(e,n){return o[e]||(o[e]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:t(13)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,n,t){var r=t(27)
e.exports=function(e){return Object(r(e))}},function(e,n,t){n.f=t(1)},function(e,n,t){var r=t(0),i=t(2),a=t(13),o=t(34),s=t(3).f
e.exports=function(e){var n=i.Symbol||(i.Symbol=a?{}:r.Symbol||{})
"_"==e.charAt(0)||e in n||s(n,e,{value:o.f(e)})}},function(e,n){n.f={}.propertyIsEnumerable},function(e,n,t){e.exports={default:t(89),__esModule:!0}},function(e,n,t){"use strict"
var r=t(18)
function i(e){var n,t
this.promise=new e((function(e,r){if(void 0!==n||void 0!==t)throw TypeError("Bad Promise constructor")
n=e,t=r})),this.resolve=r(n),this.reject=r(t)}e.exports.f=function(e){return new i(e)}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.shouldRefreshOnCookieConsent=n.isDebugMode=n.generateCacheBuster=n.assign=void 0
var r=o(t(23)),i=t(12),a=o(t(6))
function o(e){return e&&e.__esModule?e:{default:e}}n.assign=function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]
if(t)for(var i=(0,r.default)(t),a=0;a<i.length;a++){var o=i[a]
e[o]=t[o]}}return e},n.generateCacheBuster=function(e){var n=new a.default.Date
n.setSeconds(0),n.setMilliseconds(0)
var t=Math.floor(n.getMinutes()/e)*e
return n.setMinutes(t),n.getTime()},n.isDebugMode=function(){return/utagdb=[^;]+/.test(a.default.document.cookie)},n.shouldRefreshOnCookieConsent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
return!!Array.isArray(e)&&e.some((function(e){var n=e.data[i.REFRESH_ON_COOKIE_CONSENT_PROPERTY]
return"boolean"==typeof n?n:"string"==typeof n&&"true"===n.toLowerCase()}))}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0})
var r="undefined"!=typeof window&&window&&"node"!==window.appEnvironment
n.default=r},function(e,n){var t
t=function(){return this}()
try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){"use strict"
var r=t(66)(!0)
t(43)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,n=this._t,t=this._i
return t>=n.length?{value:void 0,done:!0}:(e=r(n,t),this._i+=e.length,{value:e,done:!1})}))},function(e,n,t){"use strict"
var r=t(13),i=t(7),a=t(45),o=t(8),s=t(15),c=t(67),d=t(22),u=t(72),l=t(1)("iterator"),p=!([].keys&&"next"in[].keys()),f="keys",h="values",m=function(){return this}
e.exports=function(e,n,t,y,g,v,b){c(t,n,y)
var T,_,E,S=function(e){if(!p&&e in I)return I[e]
switch(e){case f:case h:return function(){return new t(this,e)}}return function(){return new t(this,e)}},C=n+" Iterator",A=g==h,k=!1,I=e.prototype,R=I[l]||I["@@iterator"]||g&&I[g],w=R||S(g),x=g?A?S("entries"):w:void 0,M="Array"==n&&I.entries||R
if(M&&(E=u(M.call(new e)))!==Object.prototype&&E.next&&(d(E,C,!0),r||"function"==typeof E[l]||o(E,l,m)),A&&R&&R.name!==h&&(k=!0,w=function(){return R.call(this)}),r&&!b||!p&&!k&&I[l]||o(I,l,w),s[n]=w,s[C]=m,g)if(T={values:A?w:S(h),keys:v?w:S(f),entries:x},b)for(_ in T)_ in I||a(I,_,T[_])
else i(i.P+i.F*(p||k),n,T)
return T}},function(e,n,t){e.exports=!t(5)&&!t(14)((function(){return 7!=Object.defineProperty(t(28)("div"),"a",{get:function(){return 7}}).a}))},function(e,n,t){e.exports=t(8)},function(e,n,t){var r=t(4),i=t(68),a=t(32),o=t(30)("IE_PROTO"),s=function(){},c="prototype",d=function(){var e,n=t(28)("iframe"),r=a.length
for(n.style.display="none",t(49).appendChild(n),n.src="javascript:",(e=n.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),d=e.F;r--;)delete d[c][a[r]]
return d()}
e.exports=Object.create||function(e,n){var t
return null!==e?(s[c]=r(e),t=new s,s[c]=null,t[o]=e):t=d(),void 0===n?t:i(t,n)}},function(e,n,t){var r=t(10),i=t(11),a=t(70)(!1),o=t(30)("IE_PROTO")
e.exports=function(e,n){var t,s=i(e),c=0,d=[]
for(t in s)t!=o&&r(s,t)&&d.push(t)
for(;n.length>c;)r(s,t=n[c++])&&(~a(d,t)||d.push(t))
return d}},function(e,n,t){var r=t(26),i=Math.min
e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,n,t){var r=t(0).document
e.exports=r&&r.documentElement},function(e,n,t){t(73)
for(var r=t(0),i=t(8),a=t(15),o=t(1)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var d=s[c],u=r[d],l=u&&u.prototype
l&&!l[o]&&i(l,o,d),a[d]=a.Array}},function(e,n){n.f=Object.getOwnPropertySymbols},function(e,n,t){var r=t(47),i=t(32).concat("length","prototype")
n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,n){},function(e,n,t){var r=t(16),i=t(1)("toStringTag"),a="Arguments"==r(function(){return arguments}())
e.exports=function(e){var n,t,o
return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,n){try{return e[n]}catch(e){}}(n=Object(e),i))?t:a?r(n):"Object"==(o=r(n))&&"function"==typeof n.callee?"Arguments":o}},function(e,n,t){var r=t(4),i=t(18),a=t(1)("species")
e.exports=function(e,n){var t,o=r(e).constructor
return void 0===o||null==(t=r(o)[a])?n:i(t)}},function(e,n,t){var r,i,a,o=t(17),s=t(96),c=t(49),d=t(28),u=t(0),l=u.process,p=u.setImmediate,f=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,y=0,g={},v="onreadystatechange",b=function(){var e=+this
if(g.hasOwnProperty(e)){var n=g[e]
delete g[e],n()}},T=function(e){b.call(e.data)}
p&&f||(p=function(e){for(var n=[],t=1;arguments.length>t;)n.push(arguments[t++])
return g[++y]=function(){s("function"==typeof e?e:Function(e),n)},r(y),y},f=function(e){delete g[e]},"process"==t(16)(l)?r=function(e){l.nextTick(o(b,e,1))}:m&&m.now?r=function(e){m.now(o(b,e,1))}:h?(a=(i=new h).port2,i.port1.onmessage=T,r=o(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",T,!1)):r=v in d("script")?function(e){c.appendChild(d("script"))[v]=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),e.exports={set:p,clear:f}},function(e,n){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,n,t){var r=t(4),i=t(9),a=t(38)
e.exports=function(e,n){if(r(e),i(n)&&n.constructor===e)return n
var t=a.f(e)
return(0,t.resolve)(n),t.promise}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.UTAG_CACHE_BUSTER_INTERVAL_IN_MINUTES_DEFAULT=n.createLoadRulesCompletedListenerForUTag=n.setGlobalUTagReference=n.cleanUpGlobalUTagReferences=n.getUTagFromGlobalReference=n.getTagsFired=n.processQueuedEvents=n.trackControlInteraction=n.trackPageView=n.loadScript=n.constructContainerTagUrl=void 0
var r=p(t(23)),i=p(t(37)),a=p(t(6)),o=l(t(12)),s=l(t(24)),c=t(60),d=t(39),u=p(t(40))
function l(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}function p(e){return e&&e.__esModule?e:{default:e}}a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY]=a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY]||{},a.default[o.TRACKING_EVENT_DEBUG_DATA]=a.default[o.TRACKING_EVENT_DEBUG_DATA]||[],a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY].noview=!0,a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY].nocookie=!0
var f=void 0
function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,t=null
return"string"==typeof e&&(t="https://"+s.getCDNHostname()+"/litms/utag/"+e+"/utag.js?cb="+(0,d.generateCacheBuster)(n)),t}function m(){return function(){if(void 0===f&&u.default){var e=a.default.document.cookie.match(/litms_utag_override=([^;]+)/)
f=e?e[1]:""}return f}().length>0}function y(e,n,t,r){e.onLoadRulesRunOnce(t)
var i=(0,d.assign)({},n,(0,c.getUpdatedSharedEventData)(r))
e.view(i),(0,d.isDebugMode)()&&a.default[o.TRACKING_EVENT_DEBUG_DATA].push({profileName:r,eventType:"PV",trackingData:i})}function g(e,n,t,r){e.onLoadRulesRunOnce(t)
var i=(0,d.assign)({},n,(0,c.getUpdatedSharedEventData)(r))
e.link(i),(0,d.isDebugMode)()&&a.default[o.TRACKING_EVENT_DEBUG_DATA].push({profileName:r,eventType:"CI",trackingData:i})}function v(e){a.default[o.UTAG_GLOBAL_OBJECT_KEY]=e}n.constructContainerTagUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",n=arguments[1]
return m()?f:h(e,n)},n.loadScript=function(e){return new i.default((function(n){var t=a.default.document.createElement("script")
t.type="text/javascript",t.src=e,t.async=!0,t.onload=n,a.default.document.getElementsByTagName("head")[0].appendChild(t)}))},n.trackPageView=y,n.trackControlInteraction=g,n.processQueuedEvents=function(e,n,t){if(v(e),n instanceof Array&&n.length>0)for(var r=n.length,i=0;i<r;i++){var a=n.shift()
a.isControlInteraction?g(e,a.data,a.callback,t):y(e,a.data,a.callback,t)}},n.getTagsFired=function(e){return(0,r.default)(e.loader.cfg).filter((function(n){return 1===e.loader.cfg[n].send&&0!==e.loader.cfg[n].load}))},n.getUTagFromGlobalReference=function(){return a.default[o.UTAG_GLOBAL_OBJECT_KEY]},n.cleanUpGlobalUTagReferences=function(){void 0!==a.default[o.UTAG_GLOBAL_OBJECT_KEY]&&(a.default[o.UTAG_GLOBAL_OBJECT_KEY]=void 0),void 0!==a.default[o.UDO_KEY]&&(a.default[o.UDO_KEY]=void 0)},n.setGlobalUTagReference=v,n.createLoadRulesCompletedListenerForUTag=function(e){var n=[]
e.onLoadRulesRunOnce=function(e){n.push(e)}
var t=e.loader.initcfg
e.loader.initcfg=function(){if(t.call(this,arguments),n.length>0){var e=n.shift()
e()}}},n.UTAG_CACHE_BUSTER_INTERVAL_IN_MINUTES_DEFAULT=5},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.getEnterpriseContextForProfile=n.getUpdatedSharedEventData=n.addInUpdatedComplianceObjectFromConsentCookie=n.sharedEventData=n.addSharedEventData=n.getAllowlistForProfile=n.getUserSettings=n.UDO=void 0
var r=f(t(23)),i=f(t(25)),a=f(t(37)),o=f(t(6)),s=p(t(12)),c=t(24),d=t(109),u=p(t(61)),l=t(39)
function p(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}function f(e){return e&&e.__esModule?e:{default:e}}var h=void 0,m={},y={},g=o.default[s.UDO_KEY]||(o.default[s.UDO_KEY]={})
function v(e,n){var t=n+"."+n
return{enterpriseProfileUrn:e[t+".enterpriseProfile"]||e[n+".enterpriseProfile"],enterpriseAppInstanceId:e[t+".enterpriseAppInstanceId"]||e[n+".enterpriseAppInstanceId"]}}function b(e,n){var t=(0,l.assign)({},e),r={userSettings:t,enterpriseContext:v(e,n)}
return t["compliance.isAdvertisingOptIn"]=!function(e,n){var t=n+"."+n,r=e[t+".isEnterpriseUser"]||e[n+".isEnterpriseUser"],i=e[t+".isBoundUser"]||e[n+".isBoundUser"]
return r&&!i}(e,n)&&u.getUpdatedUserAdvertisingOptIn(r),t["compliance.isAnalyticsAndResearchOptIn"]=u.getUpdatedUserAnalyticsAndResearchOptIn(r),t["compliance.isFunctionalOptIn"]=u.getUpdatedUserFunctionalOptIn(r),t}n.UDO=g,n.getUserSettings=function(){if(!h){var e="https://"+(0,c.getAPIHostname)()+s.USER_METADATA_PATH
h=new a.default((function(n,t){(0,d.get)(e,(function(e){try{n(JSON.parse(e))}catch(e){console.error("Invalid JSON format of userSettings"),t(e)}}),(function(e){t(e)}))}))}return h},n.getAllowlistForProfile=function(e){if(!y[e]){var n=function(e){return"https://"+(0,c.getCDNHostname)()+"/litms/allowlist/"+encodeURIComponent(e)}(e),t=new a.default((function(e,t){(0,d.get)(n,(function(n){e(JSON.parse(n))}),(function(e){t(e)}),!1)}))
y[e]=t}return y[e]},n.addSharedEventData=function(e,n){var t="string"!=typeof n?"":n+"."
"object"===(void 0===e?"undefined":(0,i.default)(e))&&(0,r.default)(e).forEach((function(n){m[t+n]=e[n]}))},n.sharedEventData=m,n.addInUpdatedComplianceObjectFromConsentCookie=b,n.getUpdatedSharedEventData=function(e){return b(m,e)},n.getEnterpriseContextForProfile=v},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.getUpdatedUserFunctionalOptIn=n.getUpdatedUserAnalyticsAndResearchOptIn=n.getUpdatedUserAdvertisingOptIn=n.getAdvertisingOptIn=n.getAnalyticsAndResearchOptIn=n.getFunctionalOptIn=n.getGDPROptIn=void 0
var r=function(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}(t(62))
function i(e){return e["compliance.isGDPROptIn"]}function a(e){var n=r.getCookieConsent(null,void 0,e)
return!n||n.consent.optedInConsentMap.FUNCTIONAL}function o(e){var n=r.getCookieConsent(null,void 0,e)
return!n||n.consent.optedInConsentMap.ANALYTICS_AND_RESEARCH}function s(e){var n=r.getCookieConsent(null,void 0,e)
return!n||n.consent.optedInConsentMap.ADVERTISING}n.getGDPROptIn=i,n.getFunctionalOptIn=a,n.getAnalyticsAndResearchOptIn=o,n.getAdvertisingOptIn=s,n.getUpdatedUserAdvertisingOptIn=function(e){var n=e.userSettings,t=e.enterpriseContext
return s(void 0===t?{}:t)&&i(n)},n.getUpdatedUserAnalyticsAndResearchOptIn=function(e){e.userSettings
var n=e.enterpriseContext
return o(void 0===n?{}:n)},n.getUpdatedUserFunctionalOptIn=function(e){e.userSettings
var n=e.enterpriseContext
return a(void 0===n?{}:n)}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),function(e){function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}t.d(n,"NON_ESSENTIAL_CATEGORIES",(function(){return g})),t.d(n,"USER_MODE",(function(){return v})),t.d(n,"getBannerData",(function(){return N})),t.d(n,"getCookieConsent",(function(){return O})),t.d(n,"parseEncodedConsent",(function(){return M})),t.d(n,"updateCookieConsent",(function(){return P}))
var o=new RegExp("urn:[^:]+:([a-z]\\w*)(?::(.+))?"),s=/^fs_/
function c(e){if("string"!=typeof e)throw new TypeError("URNs must be of type string, but the parameter passed to extractEntityInfoFromUrn was of type "+typeof e+".")
var n,t,r=o.exec(e)
return r&&(n=r[1].replace(s,""),t=r[2]),{id:t,type:n}}var d,u,l,p,f,h,m=/(?![^(]*\)),/,y=function e(n){var t=c(n),r=t.id,i=t.type,a={}
if("("===r.charAt(0)){for(var o,s=r.substring(1,r.length-1).split(m),d=0;o=s[d];++d)0===o.indexOf("urn")&&(s[d]=e(o))
r=s}return a[i]=r,a},g={ADVERTISING:"ADVERTISING",ANALYTICS_AND_RESEARCH:"ANALYTICS_AND_RESEARCH",FUNCTIONAL:"FUNCTIONAL"},v={GUEST:"GUEST",MEMBER:"MEMBER",ENTERPRISE_UNBOUND:"ENTERPRISE_UNBOUND"},b=(i(d={},v.GUEST,"li_gc"),i(d,v.MEMBER,"li_mc"),i(d,v.ENTERPRISE_UNBOUND,"li_ec"),d),T=(i(u={},v.GUEST,"mypreferences/g/guest-cookies"),i(u,v.MEMBER,"settings/member-cookies"),i(u,v.ENTERPRISE_UNBOUND,"settings/cookies"),u),_="liap",E=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null
for(var o in r(this,e),n=n||{},this.consentAvailable=!1,this.issuedAt=t,this.userMode=i,this.optedInConsentMap={},g)n[o]=n[o]||0,0!==n[o]&&(this.consentAvailable=!0),this.optedInConsentMap[o]=1===n[o]||0===n[o]&&1===a},S=(l=[g.ADVERTISING,g.ANALYTICS_AND_RESEARCH,g.FUNCTIONAL],p=[0,1,2,0],f=function(e){for(var n={},t=0;t<l.length;t++)n[l[t]]=p[e>>2*t&3]
return n},h=function(e){var n=0
return e>=0&&e<=3&&(n=p[e]),n},{parseConsentBody:function(e,n){var t=new RegExp(["^(\\d+)","(\\d+)","(\\d+)","((?:.|\\s)+)"].join(";")),r=e.match(t)
if(!r)return{error:"Invalid consent body encoding",consent:new E}
var i=f(parseInt(r[1],10)),a=new Date(1e3*parseInt(r[2],10)),o=h(parseInt(r[3],10))
return{error:null,consent:new E(i,a,n,o)}},parseConsentBodyEnterpriseUnbound:function(e,n,t){var r=function(e){try{var n=y(e)
if(n&&n.enterpriseProfile&&n.enterpriseProfile.length>=2&&n.enterpriseProfile[0].enterpriseAccount)return{enterpriseAccountId:parseInt(n.enterpriseProfile[0].enterpriseAccount,10),enterpriseProfileId:parseInt(n.enterpriseProfile[1],10)}}catch(e){return null}return null}(n)
if(!r)return{error:"Invalid enterprise profile urn provided",consent:new E}
var i=r.enterpriseAccountId,o=r.enterpriseProfileId,s=new RegExp(["^((?:\\d+,\\d+,\\d+,\\d+,\\d+)(?:\\|(?:\\d+,\\d+,\\d+,\\d+,\\d+))*)","(\\d+)","(\\d+)","(?:(?:.|\\s)+)$"].join(";")),c=e.match(s)
if(!c)return{error:"Invalid consent body encoding",consent:new E}
var d=c[1].split("|").map((function(e){return e.split(",").map((function(e){return parseInt(e,10)}))})).filter((function(e){var n,r=(4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),4!==t.length);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return t}}(n)||function(e,n){if(e){if("string"==typeof e)return a(e,4)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,4):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=r[1],c=r[2],d=r[3]
return s===i&&c===o&&d===t}))[0]
if(!d)return{error:null,consent:new E}
var u=f(d[0]),l=new Date(1e3*parseInt(c[2],10)),p=h(parseInt(c[3],10))
return{error:null,consent:new E(u,l,v.ENTERPRISE_UNBOUND,p)}}}),C=new RegExp(["^(\\d+)","((?:.|\\s)+)"].join(";")),A=function(e,n){var t=n.match(new RegExp("(?:^|; *)".concat(e,"=([^;]*)")))
return t&&t.length>1?t[1]:null},k=function(e,n,t,r){var i=A(b[e],n)
return i?M(i,e,t,r):A(b[v.GUEST],n)||A(b[v.MEMBER],n)||A(b[v.ENTERPRISE_UNBOUND],n)?I(2):I(1)},I=function(e){var n={}
for(var t in g)n[t]=e
return{error:null,consent:new E(n,null,null,e)}},R=function(){var e=document.domain.match(/^(?:|.*\.)([^\.]+\.[^\.]+)$/)
return e?e[1]:"linkedin-ei.com"},w=function(e){var n=T[e]
return"https://www.".concat(R(),"/").concat(n)},x=function(){return"undefined"==typeof document},M=function(n,t,r,i){n&&n.length>1&&'"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1))
var a,o=null
try{o=(a=n,"undefined"==typeof atob&&void 0!==e?e.from(a,"base64").toString("binary"):atob(a)).match(C)}catch(e){}if(!o)return{error:"Invalid consent encoding",consent:new E}
var s=parseInt(o[1],10),c=o[2]
return 1===s?t===v.ENTERPRISE_UNBOUND?S.parseConsentBodyEnterpriseUnbound(c,r,i):S.parseConsentBody(c,t):{error:"Invalid encoded consent version ".concat(s),consent:new E}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.enterpriseProfileUrn,i=t.enterpriseAppInstanceId
if("string"!=typeof n){if(x())return{error:"cookie string must be provided in SSR mode",consent:new E}
n=document.cookie}if(r&&!i||!r&&i)return{error:"enterpriseProfileUrn and enterpriseAppInstanceId must both be provided if at least one is provided",consent:new E}
if(!(e!==v.ENTERPRISE_UNBOUND||r&&i))return{error:"enterpriseProfileUrn and enterpriseAppInstanceId are required for unbound userMode",consent:new E}
if(!e){var a=A(b[v.ENTERPRISE_UNBOUND],n)
if(a&&r&&i){var o=M(a,v.ENTERPRISE_UNBOUND,r,i),s=o.consent.userMode===v.ENTERPRISE_UNBOUND
if(s||o.error)return o}e=A(_,n)?A(b[v.MEMBER],n)?v.MEMBER:v.GUEST:A(b[v.GUEST],n)?v.GUEST:v.MEMBER}return k(e,n,r,i)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=O(e,document.cookie,n),r=t.consent,i=e||r.userMode||v.GUEST
return{showBanner:!t.error&&!r.consentAvailable,userMode:i,managePreferenceUrl:w(i)}},P=function(e,n){var t=e.optedInConsentMap,r=e.updateSettings,i=e.userMode,a=e.xLiTrackPayload,o=e.enterpriseContext||{},s=o.enterpriseProfileHash,c=o.enterpriseAppInstanceId
n=n||function(e,n){}
var d=A(b[v.ENTERPRISE_UNBOUND],document.cookie)
t||n("optedInConsentMap is a required option",null)
var u=new XMLHttpRequest,l=new URLSearchParams
d&&c&&l.append("appInstanceId",c)
var p=Array.from(l).length?"?"+l.toString():""
u.open("POST","https://www.".concat(R(),"/cookie-consent/").concat(p)),u.setRequestHeader("Content-Type","application/json"),a&&u.setRequestHeader("X-LI-Track",a),d&&s&&u.setRequestHeader("x-li-identity",s),u.withCredentials=!0,u.onload=function(){200!==u.status?n("Request failed with status ".concat(u.status),null):n(null,u)},u.onerror=function(){n("Request failed with an error",u)}
var f={UPDATE_SETTINGS:r,USER_MODE:i,CATEGORIES:{}}
for(var h in g){var m=void 0
!0===t[h]?m=1:!1===t[h]&&(m=2),f.CATEGORIES[h]=m}u.send(JSON.stringify(f))}}.call(n,t(110).Buffer)},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.teardownInstanceForProfile=n.getInstanceForProfile=n.addSharedEventData=void 0
var r=T(t(25)),i=T(t(23)),a=T(t(37)),o=T(t(104)),s=T(t(105)),c=b(t(59)),d=b(t(114)),u=t(24),l=t(60),p=t(39),f=t(61),h=T(t(115)),m=t(62),y=T(t(40)),g=T(t(6)),v=t(12)
function b(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}function T(e){return e&&e.__esModule?e:{default:e}}var _={},E=void 0,S={},C=void 0,A=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.profileName,r=n.tracking2Instance,i=n.enableAllowlisting,s=void 0!==i&&i,c=n.cacheBusterInterval;(0,o.default)(this,e),this.isInitialized=!1,this.isAllowlistingEnabled=!1,this._allowlistReadyPromise=a.default.resolve({}),this.isContainerTagLoaded=!1,this._queue=[],this.allowlist={pageKey:{},controlUrn:{}},this.tracking2Instance=r,this.profileName=t,this.enableAllowlisting=s,this.cacheBusterInterval=c,this.landingPageUrl}return(0,s.default)(e,[{key:"initialize",value:function(){var e=this
return this._shouldInitialize()?this.isInitialized?(console.warn("Initialize should not be called more that once"),this.initializePromise.then()):(y.default&&(sessionStorage.getItem("utagLandingPage")&&sessionStorage.removeItem("utagLandingPage"),this.landingPageUrl=g.default.location.href),this.isInitialized=!0,this.initializePromise=new a.default((function(n,t){e.enableAllowlisting?(e.isAllowlistingEnabled=!0,e._onInitializeSuccessCallback=n,e._onInitializeFailureCallback=t,e._allowlistReadyPromise=(0,l.getAllowlistForProfile)(e.profileName).then((function(n){return e._processAllowlistResult(n)})).catch((function(n){return console.error("Unable to retrieve allowlists for profile : "+e.profileName,n)}))):e._loadContainerTag(n,t)})),this.profileName&&(_[this.profileName]=this),this.initializePromise):a.default.resolve()}},{key:"_processAllowlistResult",value:function(e){var n=this;(0,i.default)(e).forEach((function(t){return n.addValuesToAllowlist(t,e[t])}))}},{key:"_setLandingPageCookie",value:function(){var e=this,n=(0,l.getUpdatedSharedEventData)(this.profileName),t={userSettings:n,enterpriseContext:(0,l.getEnterpriseContextForProfile)(n,this.profileName)}
if(this.landingPageUrl&&(0,f.getUpdatedUserAdvertisingOptIn)(t)&&v.TRACKING_IDS.find((function(n){return e.landingPageUrl.includes(n)}))){var r=(0,u.isProd)()?".linkedin.com":"linkedin-ei.com"
g.default.document.cookie="l_page="+this.landingPageUrl+";domain="+r+";path=/;max-age="+v.L_PAGE_COOKIE_LIFETIME}}},{key:"_loadContainerTag",value:function(e,n){var t=this
c.cleanUpGlobalUTagReferences()
var o=(0,l.getUserSettings)().then((function(e){(0,i.default)(e).forEach((function(n){(0,l.addSharedEventData)(e[n],n)})),y.default&&t._setLandingPageCookie()})).catch((function(e){console.error("Unable to get user settings while calling loading container tag",e)})),s=c.loadScript(c.constructContainerTagUrl(this.profileName,this.cacheBusterInterval))
a.default.all([o,s]).then((function(){t.isContainerTagLoaded=!0,t._uTag=c.getUTagFromGlobalReference(),c.createLoadRulesCompletedListenerForUTag(t._uTag),t._processQueuedEvents()
var n=d.buildTmsLoadEvent()
"object"===(0,r.default)(t.tracking2Instance)&&d.fireTrackingEvent(t.tracking2Instance,n),e(n)})).catch((function(e){console.error("Unable to complete loading container tag",e),n()}))}},{key:"_shouldInitialize",value:function(){return!h.default}},{key:"_shouldProcessEvent",value:function(e){var n=this
return h.default?a.default.resolve(!1):this.isAllowlistingEnabled?new a.default((function(t){n._allowlistReadyPromise.then((function(){t(n._isEventAllowlisted(e))}))})):a.default.resolve(!0)}},{key:"_isEventAllowlisted",value:function(e){return void 0!==e.controlUrn?this._isEventAllowlistedByControlUrn(e):this._isEventAllowlistedByPageKey(e)}},{key:"_isEventAllowlistedByPageKey",value:function(e){return void 0!==this.allowlist.pageKey[e.pageKey]}},{key:"_isEventAllowlistedByControlUrn",value:function(e){return void 0!==this.allowlist.controlUrn[e.controlUrn]}},{key:"addValuesToAllowlist",value:function(e,n){var t=this
"string"==typeof e&&Array.isArray(n)&&void 0!==this.allowlist[e]&&n.forEach((function(n){t.allowlist[e][n]=!0}))}},{key:"_processQueuedEvents",value:function(){this.isContainerTagLoaded?c.processQueuedEvents(this._uTag,this._queue,this.profileName):this.isInitialized&&this.isAllowlistingEnabled&&this._loadContainerTag(this._onInitializeSuccessCallback,this._onInitializeFailureCallback)}},{key:"_fireAuditEvent",value:function(){var e=d.buildTagFireAuditEvent(this._uTag)
return void 0!==this.tracking2Instance&&void 0!==e&&d.fireTrackingEvent(this.tracking2Instance,e),e}},{key:"_createCallbackForAuditEvent",value:function(e){var n=this
return function(){var t=n._fireAuditEvent()
"function"==typeof e&&e(t)}}},{key:"_checkForCookieConsent",value:function(){var e=this,n=(0,l.getEnterpriseContextForProfile)(l.sharedEventData,this.profileName);(0,m.getCookieConsent)(null,void 0,n).consent.consentAvailable&&!C?(0,p.shouldRefreshOnCookieConsent)(S.payloads)?location.reload():this._refireTracking():E=setTimeout((function(){e._checkForCookieConsent()}),v.COOKIE_CONSENT_CHECK_INTERVAL)}},{key:"_refireTracking",value:function(){var e=this
S.payloads&&S.payloads.forEach((function(n){var t=n.data,r=n.callback
t.cookieConsentGiven=!0,e.trackPageView(t,r)}))}},{key:"_savePayloadForRefire",value:function(e,n){var t=this
if(y.default){C=!1
var r=S,i=r.payloads,a=void 0===i?[]:i,o=r.url,s=location.href,c={data:e,callback:n},d=s!==o?[]:a
d.push(c),S={url:s,payloads:d},E||(E=setTimeout((function(){t._checkForCookieConsent()}),v.COOKIE_CONSENT_CHECK_INTERVAL))}}},{key:"trackPageView",value:function(e,n){var t=this,r=(0,l.getEnterpriseContextForProfile)(l.sharedEventData,this.profileName)
return(0,m.getCookieConsent)(null,void 0,r).consent.consentAvailable||this._savePayloadForRefire(e,n),this._shouldProcessEvent(e).then((function(r){r&&(t._queue.push({isControlInteraction:!1,data:e,callback:t._createCallbackForAuditEvent(n)}),t._processQueuedEvents())}))}},{key:"trackControlInteraction",value:function(e,n){var t=this
return this._shouldProcessEvent(e).then((function(r){r&&(t._queue.push({isControlInteraction:!0,data:e,callback:t._createCallbackForAuditEvent(n)}),t._processQueuedEvents())}))}}]),e}()
n.addSharedEventData=l.addSharedEventData,n.getInstanceForProfile=function(e){var n=_[e]
return n&&c.setGlobalUTagReference(n._uTag),n},n.teardownInstanceForProfile=function(e){delete _[e]},n.default=A},function(e,n,t){e.exports={default:t(65),__esModule:!0}},function(e,n,t){t(42),t(50),e.exports=t(34).f("iterator")},function(e,n,t){var r=t(26),i=t(27)
e.exports=function(e){return function(n,t){var a,o,s=String(i(n)),c=r(t),d=s.length
return c<0||c>=d?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===d||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}}},function(e,n,t){"use strict"
var r=t(46),i=t(19),a=t(22),o={}
t(8)(o,t(1)("iterator"),(function(){return this})),e.exports=function(e,n,t){e.prototype=r(o,{next:i(1,t)}),a(e,n+" Iterator")}},function(e,n,t){var r=t(3),i=t(4),a=t(20)
e.exports=t(5)?Object.defineProperties:function(e,n){i(e)
for(var t,o=a(n),s=o.length,c=0;s>c;)r.f(e,t=o[c++],n[t])
return e}},function(e,n,t){var r=t(16)
e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,n,t){var r=t(11),i=t(48),a=t(71)
e.exports=function(e){return function(n,t,o){var s,c=r(n),d=i(c.length),u=a(o,d)
if(e&&t!=t){for(;d>u;)if((s=c[u++])!=s)return!0}else for(;d>u;u++)if((e||u in c)&&c[u]===t)return e||u||0
return!e&&-1}}},function(e,n,t){var r=t(26),i=Math.max,a=Math.min
e.exports=function(e,n){return(e=r(e))<0?i(e+n,0):a(e,n)}},function(e,n,t){var r=t(10),i=t(33),a=t(30)("IE_PROTO"),o=Object.prototype
e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,n,t){"use strict"
var r=t(74),i=t(75),a=t(15),o=t(11)
e.exports=t(43)(Array,"Array",(function(e,n){this._t=o(e),this._i=0,this._k=n}),(function(){var e=this._t,n=this._k,t=this._i++
return!e||t>=e.length?(this._t=void 0,i(1)):i(0,"keys"==n?t:"values"==n?e[t]:[t,e[t]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,n){e.exports=function(){}},function(e,n){e.exports=function(e,n){return{value:n,done:!!e}}},function(e,n,t){e.exports={default:t(77),__esModule:!0}},function(e,n,t){t(78),t(53),t(84),t(85),e.exports=t(2).Symbol},function(e,n,t){"use strict"
var r=t(0),i=t(10),a=t(5),o=t(7),s=t(45),c=t(79).KEY,d=t(14),u=t(31),l=t(22),p=t(21),f=t(1),h=t(34),m=t(35),y=t(80),g=t(81),v=t(4),b=t(9),T=t(33),_=t(11),E=t(29),S=t(19),C=t(46),A=t(82),k=t(83),I=t(51),R=t(3),w=t(20),x=k.f,M=R.f,O=A.f,N=r.Symbol,P=r.JSON,U=P&&P.stringify,D="prototype",L=f("_hidden"),F=f("toPrimitive"),B={}.propertyIsEnumerable,j=u("symbol-registry"),q=u("symbols"),V=u("op-symbols"),H=Object[D],G="function"==typeof N&&!!I.f,K=r.QObject,W=!K||!K[D]||!K[D].findChild,z=a&&d((function(){return 7!=C(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(e,n,t){var r=x(H,n)
r&&delete H[n],M(e,n,t),r&&e!==H&&M(H,n,r)}:M,Q=function(e){var n=q[e]=C(N[D])
return n._k=e,n},$=G&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},Y=function(e,n,t){return e===H&&Y(V,n,t),v(e),n=E(n,!0),v(t),i(q,n)?(t.enumerable?(i(e,L)&&e[L][n]&&(e[L][n]=!1),t=C(t,{enumerable:S(0,!1)})):(i(e,L)||M(e,L,S(1,{})),e[L][n]=!0),z(e,n,t)):M(e,n,t)},X=function(e,n){v(e)
for(var t,r=y(n=_(n)),i=0,a=r.length;a>i;)Y(e,t=r[i++],n[t])
return e},J=function(e){var n=B.call(this,e=E(e,!0))
return!(this===H&&i(q,e)&&!i(V,e))&&(!(n||!i(this,e)||!i(q,e)||i(this,L)&&this[L][e])||n)},Z=function(e,n){if(e=_(e),n=E(n,!0),e!==H||!i(q,n)||i(V,n)){var t=x(e,n)
return!t||!i(q,n)||i(e,L)&&e[L][n]||(t.enumerable=!0),t}},ee=function(e){for(var n,t=O(_(e)),r=[],a=0;t.length>a;)i(q,n=t[a++])||n==L||n==c||r.push(n)
return r},ne=function(e){for(var n,t=e===H,r=O(t?V:_(e)),a=[],o=0;r.length>o;)!i(q,n=r[o++])||t&&!i(H,n)||a.push(q[n])
return a}
G||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!")
var e=p(arguments.length>0?arguments[0]:void 0),n=function(t){this===H&&n.call(V,t),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),z(this,e,S(1,t))}
return a&&W&&z(H,e,{configurable:!0,set:n}),Q(e)},s(N[D],"toString",(function(){return this._k})),k.f=Z,R.f=Y,t(52).f=A.f=ee,t(36).f=J,I.f=ne,a&&!t(13)&&s(H,"propertyIsEnumerable",J,!0),h.f=function(e){return Q(f(e))}),o(o.G+o.W+o.F*!G,{Symbol:N})
for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)f(te[re++])
for(var ie=w(f.store),ae=0;ie.length>ae;)m(ie[ae++])
o(o.S+o.F*!G,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=N(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!")
for(var n in j)if(j[n]===e)return n},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!G,"Object",{create:function(e,n){return void 0===n?C(e):X(C(e),n)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:ne})
var oe=d((function(){I.f(1)}))
o(o.S+o.F*oe,"Object",{getOwnPropertySymbols:function(e){return I.f(T(e))}}),P&&o(o.S+o.F*(!G||d((function(){var e=N()
return"[null]"!=U([e])||"{}"!=U({a:e})||"{}"!=U(Object(e))}))),"JSON",{stringify:function(e){for(var n,t,r=[e],i=1;arguments.length>i;)r.push(arguments[i++])
if(t=n=r[1],(b(n)||void 0!==e)&&!$(e))return g(n)||(n=function(e,n){if("function"==typeof t&&(n=t.call(this,e,n)),!$(n))return n}),r[1]=n,U.apply(P,r)}}),N[D][F]||t(8)(N[D],F,N[D].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,n,t){var r=t(21)("meta"),i=t(9),a=t(10),o=t(3).f,s=0,c=Object.isExtensible||function(){return!0},d=!t(14)((function(){return c(Object.preventExtensions({}))})),u=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,n){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e
if(!a(e,r)){if(!c(e))return"F"
if(!n)return"E"
u(e)}return e[r].i},getWeak:function(e,n){if(!a(e,r)){if(!c(e))return!0
if(!n)return!1
u(e)}return e[r].w},onFreeze:function(e){return d&&l.NEED&&c(e)&&!a(e,r)&&u(e),e}}},function(e,n,t){var r=t(20),i=t(51),a=t(36)
e.exports=function(e){var n=r(e),t=i.f
if(t)for(var o,s=t(e),c=a.f,d=0;s.length>d;)c.call(e,o=s[d++])&&n.push(o)
return n}},function(e,n,t){var r=t(16)
e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,n,t){var r=t(11),i=t(52).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[]
e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,n,t){var r=t(36),i=t(19),a=t(11),o=t(29),s=t(10),c=t(44),d=Object.getOwnPropertyDescriptor
n.f=t(5)?d:function(e,n){if(e=a(e),n=o(n,!0),c)try{return d(e,n)}catch(e){}if(s(e,n))return i(!r.f.call(e,n),e[n])}},function(e,n,t){t(35)("asyncIterator")},function(e,n,t){t(35)("observable")},function(e,n,t){t(87),e.exports=t(2).Object.keys},function(e,n,t){var r=t(33),i=t(20)
t(88)("keys",(function(){return function(e){return i(r(e))}}))},function(e,n,t){var r=t(7),i=t(2),a=t(14)
e.exports=function(e,n){var t=(i.Object||{})[e]||Object[e],o={}
o[e]=n(t),r(r.S+r.F*a((function(){t(1)})),"Object",o)}},function(e,n,t){t(53),t(42),t(50),t(90),t(102),t(103),e.exports=t(2).Promise},function(e,n,t){"use strict"
var r,i,a,o,s=t(13),c=t(0),d=t(17),u=t(54),l=t(7),p=t(9),f=t(18),h=t(91),m=t(92),y=t(55),g=t(56).set,v=t(97)(),b=t(38),T=t(57),_=t(98),E=t(58),S="Promise",C=c.TypeError,A=c.process,k=A&&A.versions,I=k&&k.v8||"",R=c[S],w="process"==u(A),x=function(){},M=i=b.f,O=!!function(){try{var e=R.resolve(1),n=(e.constructor={})[t(1)("species")]=function(e){e(x,x)}
return(w||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof n&&0!==I.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),N=function(e){var n
return!(!p(e)||"function"!=typeof(n=e.then))&&n},P=function(e,n){if(!e._n){e._n=!0
var t=e._c
v((function(){for(var r=e._v,i=1==e._s,a=0,o=function(n){var t,a,o,s=i?n.ok:n.fail,c=n.resolve,d=n.reject,u=n.domain
try{s?(i||(2==e._h&&L(e),e._h=1),!0===s?t=r:(u&&u.enter(),t=s(r),u&&(u.exit(),o=!0)),t===n.promise?d(C("Promise-chain cycle")):(a=N(t))?a.call(t,c,d):c(t)):d(r)}catch(e){u&&!o&&u.exit(),d(e)}};t.length>a;)o(t[a++])
e._c=[],e._n=!1,n&&!e._h&&U(e)}))}},U=function(e){g.call(c,(function(){var n,t,r,i=e._v,a=D(e)
if(a&&(n=T((function(){w?A.emit("unhandledRejection",i,e):(t=c.onunhandledrejection)?t({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=w||D(e)?2:1),e._a=void 0,a&&n.e)throw n.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){g.call(c,(function(){var n
w?A.emit("rejectionHandled",e):(n=c.onrejectionhandled)&&n({promise:e,reason:e._v})}))},F=function(e){var n=this
n._d||(n._d=!0,(n=n._w||n)._v=e,n._s=2,n._a||(n._a=n._c.slice()),P(n,!0))},B=function(e){var n,t=this
if(!t._d){t._d=!0,t=t._w||t
try{if(t===e)throw C("Promise can't be resolved itself");(n=N(e))?v((function(){var r={_w:t,_d:!1}
try{n.call(e,d(B,r,1),d(F,r,1))}catch(e){F.call(r,e)}})):(t._v=e,t._s=1,P(t,!1))}catch(e){F.call({_w:t,_d:!1},e)}}}
O||(R=function(e){h(this,R,S,"_h"),f(e),r.call(this)
try{e(d(B,this,1),d(F,this,1))}catch(e){F.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t(99)(R.prototype,{then:function(e,n){var t=M(y(this,R))
return t.ok="function"!=typeof e||e,t.fail="function"==typeof n&&n,t.domain=w?A.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&P(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r
this.promise=e,this.resolve=d(B,e,1),this.reject=d(F,e,1)},b.f=M=function(e){return e===R||e===o?new a(e):i(e)}),l(l.G+l.W+l.F*!O,{Promise:R}),t(22)(R,S),t(100)(S),o=t(2)[S],l(l.S+l.F*!O,S,{reject:function(e){var n=M(this)
return(0,n.reject)(e),n.promise}}),l(l.S+l.F*(s||!O),S,{resolve:function(e){return E(s&&this===o?R:this,e)}}),l(l.S+l.F*!(O&&t(101)((function(e){R.all(e).catch(x)}))),S,{all:function(e){var n=this,t=M(n),r=t.resolve,i=t.reject,a=T((function(){var t=[],a=0,o=1
m(e,!1,(function(e){var s=a++,c=!1
t.push(void 0),o++,n.resolve(e).then((function(e){c||(c=!0,t[s]=e,--o||r(t))}),i)})),--o||r(t)}))
return a.e&&i(a.v),t.promise},race:function(e){var n=this,t=M(n),r=t.reject,i=T((function(){m(e,!1,(function(e){n.resolve(e).then(t.resolve,r)}))}))
return i.e&&r(i.v),t.promise}})},function(e,n){e.exports=function(e,n,t,r){if(!(e instanceof n)||void 0!==r&&r in e)throw TypeError(t+": incorrect invocation!")
return e}},function(e,n,t){var r=t(17),i=t(93),a=t(94),o=t(4),s=t(48),c=t(95),d={},u={};(n=e.exports=function(e,n,t,l,p){var f,h,m,y,g=p?function(){return e}:c(e),v=r(t,l,n?2:1),b=0
if("function"!=typeof g)throw TypeError(e+" is not iterable!")
if(a(g)){for(f=s(e.length);f>b;b++)if((y=n?v(o(h=e[b])[0],h[1]):v(e[b]))===d||y===u)return y}else for(m=g.call(e);!(h=m.next()).done;)if((y=i(m,v,h.value,n))===d||y===u)return y}).BREAK=d,n.RETURN=u},function(e,n,t){var r=t(4)
e.exports=function(e,n,t,i){try{return i?n(r(t)[0],t[1]):n(t)}catch(n){var a=e.return
throw void 0!==a&&r(a.call(e)),n}}},function(e,n,t){var r=t(15),i=t(1)("iterator"),a=Array.prototype
e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,n,t){var r=t(54),i=t(1)("iterator"),a=t(15)
e.exports=t(2).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,n){e.exports=function(e,n,t){var r=void 0===t
switch(n.length){case 0:return r?e():e.call(t)
case 1:return r?e(n[0]):e.call(t,n[0])
case 2:return r?e(n[0],n[1]):e.call(t,n[0],n[1])
case 3:return r?e(n[0],n[1],n[2]):e.call(t,n[0],n[1],n[2])
case 4:return r?e(n[0],n[1],n[2],n[3]):e.call(t,n[0],n[1],n[2],n[3])}return e.apply(t,n)}},function(e,n,t){var r=t(0),i=t(56).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,c="process"==t(16)(o)
e.exports=function(){var e,n,t,d=function(){var r,i
for(c&&(r=o.domain)&&r.exit();e;){i=e.fn,e=e.next
try{i()}catch(r){throw e?t():n=void 0,r}}n=void 0,r&&r.enter()}
if(c)t=function(){o.nextTick(d)}
else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0)
t=function(){u.then(d)}}else t=function(){i.call(r,d)}
else{var l=!0,p=document.createTextNode("")
new a(d).observe(p,{characterData:!0}),t=function(){p.data=l=!l}}return function(r){var i={fn:r,next:void 0}
n&&(n.next=i),e||(e=i,t()),n=i}}},function(e,n,t){var r=t(0).navigator
e.exports=r&&r.userAgent||""},function(e,n,t){var r=t(8)
e.exports=function(e,n,t){for(var i in n)t&&e[i]?e[i]=n[i]:r(e,i,n[i])
return e}},function(e,n,t){"use strict"
var r=t(0),i=t(2),a=t(3),o=t(5),s=t(1)("species")
e.exports=function(e){var n="function"==typeof i[e]?i[e]:r[e]
o&&n&&!n[s]&&a.f(n,s,{configurable:!0,get:function(){return this}})}},function(e,n,t){var r=t(1)("iterator"),i=!1
try{var a=[7][r]()
a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,n){if(!n&&!i)return!1
var t=!1
try{var a=[7],o=a[r]()
o.next=function(){return{done:t=!0}},a[r]=function(){return o},e(a)}catch(e){}return t}},function(e,n,t){"use strict"
var r=t(7),i=t(2),a=t(0),o=t(55),s=t(58)
r(r.P+r.R,"Promise",{finally:function(e){var n=o(this,i.Promise||a.Promise),t="function"==typeof e
return this.then(t?function(t){return s(n,e()).then((function(){return t}))}:e,t?function(t){return s(n,e()).then((function(){throw t}))}:e)}})},function(e,n,t){"use strict"
var r=t(7),i=t(38),a=t(57)
r(r.S,"Promise",{try:function(e){var n=i.f(this),t=a(e)
return(t.e?n.reject:n.resolve)(t.v),n.promise}})},function(e,n,t){"use strict"
n.__esModule=!0,n.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n,t){"use strict"
n.__esModule=!0
var r,i=(r=t(106))&&r.__esModule?r:{default:r}
n.default=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()},function(e,n,t){e.exports={default:t(107),__esModule:!0}},function(e,n,t){t(108)
var r=t(2).Object
e.exports=function(e,n,t){return r.defineProperty(e,n,t)}},function(e,n,t){var r=t(7)
r(r.S+r.F*!t(5),"Object",{defineProperty:t(3).f})},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.get=void 0
var r,i=(r=t(6))&&r.__esModule?r:{default:r}
n.get=function(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3]
if("function"!=typeof n||"function"!=typeof t)throw new TypeError("One of the specified callbacks is not a function.")
var a=new i.default.XMLHttpRequest
a.withCredentials=r,a.open("GET",e,!0),a.onreadystatechange=function(){this.readyState===this.DONE&&(200===this.status&&"function"==typeof n?n(this.responseText):t(this))},a.send()}},function(e,n,t){"use strict";(function(e){var r=t(111),i=t(112),a=t(113)
function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,n){if(o()<n)throw new RangeError("Invalid typed array length")
return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n)).__proto__=c.prototype:(null===e&&(e=new c(n)),e.length=n),e}function c(e,n,t){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,n,t)
if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string")
return l(this,e)}return d(this,e,n,t)}function d(e,n,t,r){if("number"==typeof n)throw new TypeError('"value" argument must not be a number')
return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?function(e,n,t,r){if(n.byteLength,t<0||n.byteLength<t)throw new RangeError("'offset' is out of bounds")
if(n.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds")
return n=void 0===t&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,t):new Uint8Array(n,t,r),c.TYPED_ARRAY_SUPPORT?(e=n).__proto__=c.prototype:e=p(e,n),e}(e,n,t,r):"string"==typeof n?function(e,n,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding')
var r=0|h(n,t),i=(e=s(e,r)).write(n,t)
return i!==r&&(e=e.slice(0,i)),e}(e,n,t):function(e,n){if(c.isBuffer(n)){var t=0|f(n.length)
return 0===(e=s(e,t)).length||n.copy(e,0,0,t),e}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||(r=n.length)!=r?s(e,0):p(e,n)
if("Buffer"===n.type&&a(n.data))return p(e,n.data)}var r
throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,n)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')
if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,n){if(u(n),e=s(e,n<0?0:0|f(n)),!c.TYPED_ARRAY_SUPPORT)for(var t=0;t<n;++t)e[t]=0
return e}function p(e,n){var t=n.length<0?0:0|f(n.length)
e=s(e,t)
for(var r=0;r<t;r+=1)e[r]=255&n[r]
return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes")
return 0|e}function h(e,n){if(c.isBuffer(e))return e.length
if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength
"string"!=typeof e&&(e=""+e)
var t=e.length
if(0===t)return 0
for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return t
case"utf8":case"utf-8":case void 0:return j(e).length
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t
case"hex":return t>>>1
case"base64":return q(e).length
default:if(r)return j(e).length
n=(""+n).toLowerCase(),r=!0}}function m(e,n,t){var r=!1
if((void 0===n||n<0)&&(n=0),n>this.length)return""
if((void 0===t||t>this.length)&&(t=this.length),t<=0)return""
if((t>>>=0)<=(n>>>=0))return""
for(e||(e="utf8");;)switch(e){case"hex":return x(this,n,t)
case"utf8":case"utf-8":return k(this,n,t)
case"ascii":return R(this,n,t)
case"latin1":case"binary":return w(this,n,t)
case"base64":return A(this,n,t)
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,n,t)
default:if(r)throw new TypeError("Unknown encoding: "+e)
e=(e+"").toLowerCase(),r=!0}}function y(e,n,t){var r=e[n]
e[n]=e[t],e[t]=r}function g(e,n,t,r,i){if(0===e.length)return-1
if("string"==typeof t?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(i)return-1
t=e.length-1}else if(t<0){if(!i)return-1
t=0}if("string"==typeof n&&(n=c.from(n,r)),c.isBuffer(n))return 0===n.length?-1:v(e,n,t,r,i)
if("number"==typeof n)return n&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,n,t):Uint8Array.prototype.lastIndexOf.call(e,n,t):v(e,[n],t,r,i)
throw new TypeError("val must be string, number or Buffer")}function v(e,n,t,r,i){var a,o=1,s=e.length,c=n.length
if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||n.length<2)return-1
o=2,s/=2,c/=2,t/=2}function d(e,n){return 1===o?e[n]:e.readUInt16BE(n*o)}if(i){var u=-1
for(a=t;a<s;a++)if(d(e,a)===d(n,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(t+c>s&&(t=s-c),a=t;a>=0;a--){for(var l=!0,p=0;p<c;p++)if(d(e,a+p)!==d(n,p)){l=!1
break}if(l)return a}return-1}function b(e,n,t,r){t=Number(t)||0
var i=e.length-t
r?(r=Number(r))>i&&(r=i):r=i
var a=n.length
if(a%2!=0)throw new TypeError("Invalid hex string")
r>a/2&&(r=a/2)
for(var o=0;o<r;++o){var s=parseInt(n.substr(2*o,2),16)
if(isNaN(s))return o
e[t+o]=s}return o}function T(e,n,t,r){return V(j(n,e.length-t),e,t,r)}function _(e,n,t,r){return V(function(e){for(var n=[],t=0;t<e.length;++t)n.push(255&e.charCodeAt(t))
return n}(n),e,t,r)}function E(e,n,t,r){return _(e,n,t,r)}function S(e,n,t,r){return V(q(n),e,t,r)}function C(e,n,t,r){return V(function(e,n){for(var t,r,i,a=[],o=0;o<e.length&&!((n-=2)<0);++o)r=(t=e.charCodeAt(o))>>8,i=t%256,a.push(i),a.push(r)
return a}(n,e.length-t),e,t,r)}function A(e,n,t){return 0===n&&t===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(n,t))}function k(e,n,t){t=Math.min(e.length,t)
for(var r=[],i=n;i<t;){var a,o,s,c,d=e[i],u=null,l=d>239?4:d>223?3:d>191?2:1
if(i+l<=t)switch(l){case 1:d<128&&(u=d)
break
case 2:128==(192&(a=e[i+1]))&&(c=(31&d)<<6|63&a)>127&&(u=c)
break
case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(c=(15&d)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c)
break
case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&d)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,l=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=l}return function(e){var n=e.length
if(n<=I)return String.fromCharCode.apply(String,e)
for(var t="",r=0;r<n;)t+=String.fromCharCode.apply(String,e.slice(r,r+=I))
return t}(r)}n.Buffer=c,n.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1)
return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,n,t){return d(null,e,n,t)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,n,t){return function(e,n,t,r){return u(n),n<=0?s(e,n):void 0!==t?"string"==typeof r?s(e,n).fill(t,r):s(e,n).fill(t):s(e,n)}(null,e,n,t)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,n){if(!c.isBuffer(e)||!c.isBuffer(n))throw new TypeError("Arguments must be Buffers")
if(e===n)return 0
for(var t=e.length,r=n.length,i=0,a=Math.min(t,r);i<a;++i)if(e[i]!==n[i]){t=e[i],r=n[i]
break}return t<r?-1:r<t?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0
default:return!1}},c.concat=function(e,n){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers')
if(0===e.length)return c.alloc(0)
var t
if(void 0===n)for(n=0,t=0;t<e.length;++t)n+=e[t].length
var r=c.allocUnsafe(n),i=0
for(t=0;t<e.length;++t){var o=e[t]
if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers')
o.copy(r,i),i+=o.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length
if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits")
for(var n=0;n<e;n+=2)y(this,n,n+1)
return this},c.prototype.swap32=function(){var e=this.length
if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits")
for(var n=0;n<e;n+=4)y(this,n,n+3),y(this,n+1,n+2)
return this},c.prototype.swap64=function(){var e=this.length
if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits")
for(var n=0;n<e;n+=8)y(this,n,n+7),y(this,n+1,n+6),y(this,n+2,n+5),y(this,n+3,n+4)
return this},c.prototype.toString=function(){var e=0|this.length
return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer")
return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES
return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,n,t,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer")
if(void 0===n&&(n=0),void 0===t&&(t=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),n<0||t>e.length||r<0||i>this.length)throw new RangeError("out of range index")
if(r>=i&&n>=t)return 0
if(r>=i)return-1
if(n>=t)return 1
if(this===e)return 0
for(var a=(i>>>=0)-(r>>>=0),o=(t>>>=0)-(n>>>=0),s=Math.min(a,o),d=this.slice(r,i),u=e.slice(n,t),l=0;l<s;++l)if(d[l]!==u[l]){a=d[l],o=u[l]
break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,n,t){return-1!==this.indexOf(e,n,t)},c.prototype.indexOf=function(e,n,t){return g(this,e,n,t,!0)},c.prototype.lastIndexOf=function(e,n,t){return g(this,e,n,t,!1)},c.prototype.write=function(e,n,t,r){if(void 0===n)r="utf8",t=this.length,n=0
else if(void 0===t&&"string"==typeof n)r=n,t=this.length,n=0
else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")
n|=0,isFinite(t)?(t|=0,void 0===r&&(r="utf8")):(r=t,t=void 0)}var i=this.length-n
if((void 0===t||t>i)&&(t=i),e.length>0&&(t<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds")
r||(r="utf8")
for(var a=!1;;)switch(r){case"hex":return b(this,e,n,t)
case"utf8":case"utf-8":return T(this,e,n,t)
case"ascii":return _(this,e,n,t)
case"latin1":case"binary":return E(this,e,n,t)
case"base64":return S(this,e,n,t)
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n,t)
default:if(a)throw new TypeError("Unknown encoding: "+r)
r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}}
var I=4096
function R(e,n,t){var r=""
t=Math.min(e.length,t)
for(var i=n;i<t;++i)r+=String.fromCharCode(127&e[i])
return r}function w(e,n,t){var r=""
t=Math.min(e.length,t)
for(var i=n;i<t;++i)r+=String.fromCharCode(e[i])
return r}function x(e,n,t){var r,i=e.length;(!n||n<0)&&(n=0),(!t||t<0||t>i)&&(t=i)
for(var a="",o=n;o<t;++o)a+=(r=e[o])<16?"0"+r.toString(16):r.toString(16)
return a}function M(e,n,t){for(var r=e.slice(n,t),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1])
return i}function O(e,n,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint")
if(e+n>t)throw new RangeError("Trying to access beyond buffer length")}function N(e,n,t,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance')
if(n>i||n<a)throw new RangeError('"value" argument is out of bounds')
if(t+r>e.length)throw new RangeError("Index out of range")}function P(e,n,t,r){n<0&&(n=65535+n+1)
for(var i=0,a=Math.min(e.length-t,2);i<a;++i)e[t+i]=(n&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(e,n,t,r){n<0&&(n=4294967295+n+1)
for(var i=0,a=Math.min(e.length-t,4);i<a;++i)e[t+i]=n>>>8*(r?i:3-i)&255}function D(e,n,t,r,i,a){if(t+r>e.length)throw new RangeError("Index out of range")
if(t<0)throw new RangeError("Index out of range")}function L(e,n,t,r,a){return a||D(e,0,t,4),i.write(e,n,t,r,23,4),t+4}function F(e,n,t,r,a){return a||D(e,0,t,8),i.write(e,n,t,r,52,8),t+8}c.prototype.slice=function(e,n){var t,r=this.length
if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e),c.TYPED_ARRAY_SUPPORT)(t=this.subarray(e,n)).__proto__=c.prototype
else{var i=n-e
t=new c(i,void 0)
for(var a=0;a<i;++a)t[a]=this[a+e]}return t},c.prototype.readUIntLE=function(e,n,t){e|=0,n|=0,t||O(e,n,this.length)
for(var r=this[e],i=1,a=0;++a<n&&(i*=256);)r+=this[e+a]*i
return r},c.prototype.readUIntBE=function(e,n,t){e|=0,n|=0,t||O(e,n,this.length)
for(var r=this[e+--n],i=1;n>0&&(i*=256);)r+=this[e+--n]*i
return r},c.prototype.readUInt8=function(e,n){return n||O(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,n){return n||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,n){return n||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,n){return n||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,n){return n||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,n,t){e|=0,n|=0,t||O(e,n,this.length)
for(var r=this[e],i=1,a=0;++a<n&&(i*=256);)r+=this[e+a]*i
return r>=(i*=128)&&(r-=Math.pow(2,8*n)),r},c.prototype.readIntBE=function(e,n,t){e|=0,n|=0,t||O(e,n,this.length)
for(var r=n,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i
return a>=(i*=128)&&(a-=Math.pow(2,8*n)),a},c.prototype.readInt8=function(e,n){return n||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,n){n||O(e,2,this.length)
var t=this[e]|this[e+1]<<8
return 32768&t?4294901760|t:t},c.prototype.readInt16BE=function(e,n){n||O(e,2,this.length)
var t=this[e+1]|this[e]<<8
return 32768&t?4294901760|t:t},c.prototype.readInt32LE=function(e,n){return n||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,n){return n||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,n){return n||O(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,n){return n||O(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,n){return n||O(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,n){return n||O(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,n,t,r){e=+e,n|=0,t|=0,r||N(this,e,n,t,Math.pow(2,8*t)-1,0)
var i=1,a=0
for(this[n]=255&e;++a<t&&(i*=256);)this[n+a]=e/i&255
return n+t},c.prototype.writeUIntBE=function(e,n,t,r){e=+e,n|=0,t|=0,r||N(this,e,n,t,Math.pow(2,8*t)-1,0)
var i=t-1,a=1
for(this[n+i]=255&e;--i>=0&&(a*=256);)this[n+i]=e/a&255
return n+t},c.prototype.writeUInt8=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},c.prototype.writeUInt16LE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):P(this,e,n,!0),n+2},c.prototype.writeUInt16BE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):P(this,e,n,!1),n+2},c.prototype.writeUInt32LE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):U(this,e,n,!0),n+4},c.prototype.writeUInt32BE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):U(this,e,n,!1),n+4},c.prototype.writeIntLE=function(e,n,t,r){if(e=+e,n|=0,!r){var i=Math.pow(2,8*t-1)
N(this,e,n,t,i-1,-i)}var a=0,o=1,s=0
for(this[n]=255&e;++a<t&&(o*=256);)e<0&&0===s&&0!==this[n+a-1]&&(s=1),this[n+a]=(e/o>>0)-s&255
return n+t},c.prototype.writeIntBE=function(e,n,t,r){if(e=+e,n|=0,!r){var i=Math.pow(2,8*t-1)
N(this,e,n,t,i-1,-i)}var a=t-1,o=1,s=0
for(this[n+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[n+a+1]&&(s=1),this[n+a]=(e/o>>0)-s&255
return n+t},c.prototype.writeInt8=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},c.prototype.writeInt16LE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):P(this,e,n,!0),n+2},c.prototype.writeInt16BE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):P(this,e,n,!1),n+2},c.prototype.writeInt32LE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):U(this,e,n,!0),n+4},c.prototype.writeInt32BE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):U(this,e,n,!1),n+4},c.prototype.writeFloatLE=function(e,n,t){return L(this,e,n,!0,t)},c.prototype.writeFloatBE=function(e,n,t){return L(this,e,n,!1,t)},c.prototype.writeDoubleLE=function(e,n,t){return F(this,e,n,!0,t)},c.prototype.writeDoubleBE=function(e,n,t){return F(this,e,n,!1,t)},c.prototype.copy=function(e,n,t,r){if(t||(t=0),r||0===r||(r=this.length),n>=e.length&&(n=e.length),n||(n=0),r>0&&r<t&&(r=t),r===t)return 0
if(0===e.length||0===this.length)return 0
if(n<0)throw new RangeError("targetStart out of bounds")
if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds")
if(r<0)throw new RangeError("sourceEnd out of bounds")
r>this.length&&(r=this.length),e.length-n<r-t&&(r=e.length-n+t)
var i,a=r-t
if(this===e&&t<n&&n<r)for(i=a-1;i>=0;--i)e[i+n]=this[i+t]
else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+n]=this[i+t]
else Uint8Array.prototype.set.call(e,this.subarray(t,t+a),n)
return a},c.prototype.fill=function(e,n,t,r){if("string"==typeof e){if("string"==typeof n?(r=n,n=0,t=this.length):"string"==typeof t&&(r=t,t=this.length),1===e.length){var i=e.charCodeAt(0)
i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string")
if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255)
if(n<0||this.length<n||this.length<t)throw new RangeError("Out of range index")
if(t<=n)return this
var a
if(n>>>=0,t=void 0===t?this.length:t>>>0,e||(e=0),"number"==typeof e)for(a=n;a<t;++a)this[a]=e
else{var o=c.isBuffer(e)?e:j(new c(e,r).toString()),s=o.length
for(a=0;a<t-n;++a)this[a+n]=o[a%s]}return this}
var B=/[^+\/0-9A-Za-z-_]/g
function j(e,n){var t
n=n||1/0
for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((t=e.charCodeAt(o))>55295&&t<57344){if(!i){if(t>56319){(n-=3)>-1&&a.push(239,191,189)
continue}if(o+1===r){(n-=3)>-1&&a.push(239,191,189)
continue}i=t
continue}if(t<56320){(n-=3)>-1&&a.push(239,191,189),i=t
continue}t=65536+(i-55296<<10|t-56320)}else i&&(n-=3)>-1&&a.push(239,191,189)
if(i=null,t<128){if((n-=1)<0)break
a.push(t)}else if(t<2048){if((n-=2)<0)break
a.push(t>>6|192,63&t|128)}else if(t<65536){if((n-=3)<0)break
a.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point")
if((n-=4)<0)break
a.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return a}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return""
for(;e.length%4!=0;)e+="="
return e}(e))}function V(e,n,t,r){for(var i=0;i<r&&!(i+t>=n.length||i>=e.length);++i)n[i+t]=e[i]
return i}}).call(n,t(41))},function(e,n,t){"use strict"
n.byteLength=function(e){var n=d(e),t=n[0],r=n[1]
return 3*(t+r)/4-r},n.toByteArray=function(e){var n,t,r=d(e),o=r[0],s=r[1],c=new a(function(e,n,t){return 3*(n+t)/4-t}(0,o,s)),u=0,l=s>0?o-4:o
for(t=0;t<l;t+=4)n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],c[u++]=n>>16&255,c[u++]=n>>8&255,c[u++]=255&n
return 2===s&&(n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,c[u++]=255&n),1===s&&(n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,c[u++]=n>>8&255,c[u++]=255&n),c},n.fromByteArray=function(e){for(var n,t=e.length,i=t%3,a=[],o=16383,s=0,c=t-i;s<c;s+=o)a.push(u(e,s,s+o>c?c:s+o))
return 1===i?(n=e[t-1],a.push(r[n>>2]+r[n<<4&63]+"==")):2===i&&(n=(e[t-2]<<8)+e[t-1],a.push(r[n>>10]+r[n>>4&63]+r[n<<2&63]+"=")),a.join("")}
for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s
function d(e){var n=e.length
if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4")
var t=e.indexOf("=")
return-1===t&&(t=n),[t,t===n?0:4-t%4]}function u(e,n,t){for(var i,a,o=[],s=n;s<t;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a])
return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,n){n.read=function(e,n,t,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,d=c>>1,u=-7,l=t?i-1:0,p=t?-1:1,f=e[n+l]
for(l+=p,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[n+l],l+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[n+l],l+=p,u-=8);if(0===a)a=1-d
else{if(a===c)return o?NaN:1/0*(f?-1:1)
o+=Math.pow(2,r),a-=d}return(f?-1:1)*o*Math.pow(2,a-r)},n.write=function(e,n,t,r,i,a){var o,s,c,d=8*a-i-1,u=(1<<d)-1,l=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,h=r?1:-1,m=n<0||0===n&&1/n<0?1:0
for(n=Math.abs(n),isNaN(n)||n===1/0?(s=isNaN(n)?1:0,o=u):(o=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-o))<1&&(o--,c*=2),(n+=o+l>=1?p/c:p*Math.pow(2,1-l))*c>=2&&(o++,c/=2),o+l>=u?(s=0,o=u):o+l>=1?(s=(n*c-1)*Math.pow(2,i),o+=l):(s=n*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[t+f]=255&s,f+=h,s/=256,i-=8);for(o=o<<i|s,d+=i;d>0;e[t+f]=255&o,f+=h,o/=256,d-=8);e[t+f-h]|=128*m}},function(e,n){var t={}.toString
e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.buildTagFireAuditEvent=n.buildTmsLoadEvent=n.fireTrackingEvent=void 0
var r,i=(r=t(25))&&r.__esModule?r:{default:r},a=s(t(12)),o=s(t(59))
function s(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}function c(e,n){return"urn:li:externalMarketingTag:("+function(e){var n=e.data["ut.profile"],t=e.cfg.v
return"urn:li:tagManagementSystemProfile:("+a.TAG_MANAGEMENT_SYSTEM_USED+","+n+","+t+")"}(e)+","+parseInt(n)+")"}n.fireTrackingEvent=function(e,n){!function(e){return"object"===(void 0===e?"undefined":(0,i.default)(e))&&"function"==typeof e.fireTrackingEvent}(e)?console.error("Unable to fire tracking event"):e.fireTrackingEvent(n.info.name,n.body)},n.buildTmsLoadEvent=function(){return{info:{name:a.CUSTOM_EVENTS_TMS_LOAD_EVENT},body:{header:{},requestHeader:{}}}},n.buildTagFireAuditEvent=function(e){var n=o.getTagsFired(e).map((function(n){return function(e,n){return{tagUrn:c(e,n)}}(e,n)}))
if(0!==n.length)return{info:{name:a.CUSTOM_EVENTS_TAG_FIRE_AUDIT_EVENT},body:{header:{},requestHeader:{},tags:n}}}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0})
var r=a(t(40)),i=a(t(6))
function a(e){return e&&e.__esModule?e:{default:e}}var o=r.default&&new RegExp("bot|google|aolbuild|baidu|bing|msn|duckduckgo|teoma|slurp|yandex|sogou|facebook|alexa","i").test(i.default.navigator.userAgent)
n.default=o}])},e.exports=n()},12965:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.decorate=function(e,n,t){var r=t
if(!e||!(e.begin||e.end||e.segment))return r
if(Array.isArray(n)&&n.length){var s=new i.default(t),c=s.length,d="function"==typeof e.begin?e.begin:o,u="function"==typeof e.end?e.end:o,l="function"==typeof e.segment?e.segment:a,p=[],f=n,h=[],m=void 0,y=c
for(m=c;m>=0;m--){var g=void 0,v=void 0
for(v=p.length>0&&p[p.length-1];p.length&&v&&m===v.start;)m!==y&&h.push(l.call(e,s.substring(m,y).toString())),h.push(d.call(e,v)),y=m,p.pop(),v=p[p.length-1]
for(g=f.length>0&&f[f.length-1];f.length&&g&&m===g.start+g.length;)m!==y&&h.push(l.call(e,s.substring(m,y).toString())),h.push(u.call(e,g)),y=m,p.push(f.pop()),g=f[f.length-1]
for(v=p.length>0&&p[p.length-1];p.length&&v&&m===v.start;)m!==y&&h.push(l.call(e,s.substring(m,y).toString())),h.push(d.call(e,v)),y=m,p.pop(),v=p[p.length-1]
0===m&&y!==m&&h.push(l(s.substring(m,y).toString()))}r=h.reverse().join("")}else r="function"==typeof e.segment?e.segment(r):r
return r}
var r,i=(r=t(69808))&&r.__esModule?r:{default:r}
function a(e){return e}function o(){return""}},97034:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0})
var r,i=t(69808)
n.StringView=(r=i)&&r.__esModule?r.default:r
var a=t(12965)
Object.defineProperty(n,"decorate",{enumerable:!0,get:function(){return a.decorate}})},69808:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.default=r
var t=String.fromCharCode
function r(e){Array.isArray(e)?(this.string=null,this.codePoints=e):(this.string=e,this.codePoints=function(e){for(var n,t,r=[],i=0,a=e.length;i<a;)(n=e.charCodeAt(i++))>=55296&&n<=56319&&i<a?56320==(64512&(t=e.charCodeAt(i++)))?r.push(((1023&n)<<10)+(1023&t)+65536):(r.push(n),i--):r.push(n)
return r}(e)),this.length=this.codePoints.length}r.prototype.constructor=r,r.prototype.substring=function(e,n){var t=this.length
if(0===n)return new r("")
if((isNaN(e)||e<0)&&(e=0),(isNaN(n)||n<0)&&(n=t),e>t&&(e=t),n>t&&(n=t),n<e){var i=[e,n]
n=i[0],e=i[1]}return new r(e===n?"":this.codePoints.slice(e,n))},r.prototype.toString=function(){return null!==this.string?this.string:this.codePoints.map((function(e){var n=""
return e>65535&&(n+=t((e-=65536)>>>10&1023|55296),e=56320|1023&e),n+t(e)})).join("")},e.exports=n.default},23484:(e,n,t)=>{var r=t(97034)
e.exports=r},87118:(e,n)=>{var t
void 0===(t=function(){return function(e){var n=window.location.origin,t={width:"100%",iframeId:"payments-iframe",iframeCartPath:"/payments/embed",iframeOrderTokenPath:"/payments/order/token/embed",iframePaymentPath:"/payments/v2/purchase",iframeTitle:"Linkedin payments embedded checkout",load:function(){},update:function(){},cancel:function(){},cartTaxed:function(){},showPMPanel:function(){},handleShow3dsAuthentication:function(){},handleSubmit3dsAuthentication:function(){}},r={left:"0",height:"100%",position:"fixed",top:"0",width:"100%","z-index":"10000"},i=["https://www.linkedin-ei.com","https://www.linkedin-ei.cn","https://www.linkedin.com","https://www.linkedin.cn","https://staging.slideshare.com","https://www.slideshare.net","https://pemberly.www.linkedin-ei.com:4443","https://pemberly.www.linkedin-ei.cn:4443","https://pemberly.www.linkedin.com:4443","https://pemberly.www.linkedin.cn:4443"],a=["height"],o=["error.session.timeout","error.purchase.generic","error.unknown","error.purchase.enter_valid_vat","error.purchase.no_confirmed_email_address","harderror"],s=this
this.init=function(){var n,r
if(this.config=e,!this._isProperConfig(e))throw new Error("Config is incomplete. Must have success, error, sessionTimeout, and iframeParentId. Must have cartId or accessToken or have viewType, customerUrn and routingType.")
if(!(n=document.getElementById(this.config.iframeParentId)))throw new Error('Cannot find an element with an ID of "'+this.config.iframeParentId+'"')
this.clearIframeParentContainer(),this.config=this.setDefaults(t,this.config),this.iframe=document.createElement("iframe"),this.iframe.setAttribute("width",this.config.width),this.iframe.setAttribute("id",this.config.iframeId),this.iframe.setAttribute("title",this.config.iframeTitle),this.iframe.style.border=0,r=this.config.cartId?this.config.iframeCartPath+"?_cartId="+this.config.cartId:this.config.accessToken?this.config.iframeOrderTokenPath+"?accessToken="+this.config.accessToken+"&viewType=PAYMENTFORM":`${this.config.iframePaymentPath}?viewType=${this.config.viewType}&owner=${this.config.customerUrn}&routingType=${this.config.routingType}`,this.iframe.setAttribute("src",r),n.appendChild(this.iframe),this.attachEventListeners()},this.clearIframeParentContainer=function(){document.getElementById(this.config.iframeParentId).innerHTML=""},this.removeEventListener=function(){window.removeEventListener("message",this.receiveMessage,!1)},this.attachEventListeners=function(){this.iframe.contentWindow.addEventListener("message",this.receiveMessage,!1),window.addEventListener("message",this.receiveMessage,!1)},this.receiveMessage=function(e){var n
if(e.origin&&-1!==i.indexOf(e.origin)&&(n=s.config,e.data&&e.data.type))switch(e.data.type){case"success":s._handleSuccessEvt(e,n)
break
case"success:orderV5Auth":s._handleOrderV5AuthSuccessEvt(e,n)
break
case"error":s._handleErrorEvt(e,n)
break
case"fullscreen:collapse":s._handleFullscreenCollapseEvt()
break
case"fullscreen:expand":s._handleFullscreenExpandEvt()
break
case"load":s._handleLoadEvt(e,n)
break
case"cancel":s._handleCancelEvt(e,n)
break
case"update":s._handleUpdateEvt(e,n)
break
case"action:carttaxed":s._handleCartTaxedEvent(e,n)
break
case"action:showpaymentmethodpanel":s._handleShowPMPanelEvent(e,n)
break
case"action:show3dsauthentication":case"dialog:two_factor_auth:open":s._handleShow3dsAuthentication(e,n)
break
case"action:submit3dsauthentication":s._handleSubmit3dsAuthentication(e,n)
break
case"sessiontimeout":s._handleSessionTimeoutErrorEvt(e,n)}},this.setLIThemeForIframe=function(e){this.iframe.contentWindow.postMessage({type:"set:theme"},n)},this.buyJobsCart=function(){var e={type:"submit"}
if(!this.config||!this.config.cartId)throw new Error("Parameter cartId: "+cartId+" does not match the checkout cartId: "+this.config.cartId)
e.cartId=this.config.cartId,this.iframe.contentWindow.postMessage(e,n)},this.buyCart=function(e,t){var r={type:"submit"}
if(this.config.accessToken&&e.fullName&&e.title)r.accessToken=this.config.accessToken,r.fullName=e.fullName,r.title=e.title,e.enterpriseProfileEmail&&(r.enterpriseProfileEmail=e.enterpriseProfileEmail),r.OrderV5PlaceOrderFlow=t||!1
else if(this.config.accessToken&&(!e.fullName||!e.title))throw new Error("Missing fields accessToken, fullName, and title.")
this.iframe.contentWindow.postMessage(r,n)},this.setDefaults=function(e,n){for(key in e)n[key]||(n[key]=e[key])
return n},this._handleErrorEvt=function(e,n){var t=e.data.value
if(!t||!t.errorCode||-1===o.indexOf(t.errorCode))throw new Error('Invalid data sent for "error" call')
n.error(t)},this._handleSessionTimeoutErrorEvt=function(e,n){var t=e.data.value
if(!t||!t.errorCode||0!==o.indexOf(t.errorCode))throw new Error('Invalid data sent for "sessiontimeout" call')
n.sessionTimeout(t)},this._handleFullscreenCollapseEvt=function(){void 0!==s.iframe.style.cssText?s.iframe.style.cssText=s.previousStyles:s.setAttribute("style",s.previousStyles),s.previousStyles=""},this._handleFullscreenExpandEvt=function(e,n){s.newFullscreenStyles=s.newFullscreenStyles||s._toStyleString(r),void 0!==s.iframe.style.cssText?(s.previousStyles=s.iframe.style.cssText,s.iframe.style.cssText+=s.newFullscreenStyles):(s.previousStyles=s.iframe.getAttribute("style"),s.iframe.setAttribute("style",s.previousStyles+s.newFullscreenStyles))},this._handleLoadEvt=function(e,n){n.load()},this._handleCancelEvt=function(e,n){n.cancel()},this._handleSuccessEvt=function(e,n){n.success()},this._handleOrderV5AuthSuccessEvt=function(e,n){var t=e.data&&e.data.value
t&&t.errorCode?this._handleErrorEvt(e,n):n.orderV5AuthSuccess(t)},this._handleUpdateEvt=function(e,n){var t=e.data.value
if(!t||!t.val||!t.attr||2!==Object.keys(t).length||-1===a.indexOf(t.attr))throw new Error('Invalid data sent for "update" call')
document.getElementById(n.iframeId).setAttribute(t.attr,t.val),n.update()},this._handleCartTaxedEvent=function(e,n){n.cartTaxed()},this._handleShowPMPanelEvent=function(e,n){n.showPMPanel()},this._handleShow3dsAuthentication=function(e,n){n.handleShow3dsAuthentication()},this._handleSubmit3dsAuthentication=function(e,n){n.handleSubmit3dsAuthentication()},this._toStyleString=function(e){var n,t=""
for(n in e)t+=n+": "+e[n]+"; "
return t.substring(0,t.length-1)},this._isProperConfig=function(e){const n=e.success&&e.error&&e.iframeParentId,t=e.cartId||e.accessToken,r=e.viewType&&e.customerUrn&&e.routingType
return n&&(t||r)},this.init()}}.apply(n,[]))||(e.exports=t)},78789:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.getGraphQLQueryId=n.isGraphQLQuery=n.isGraphQLFragment=n.getQueryTokenByQuerySource=n.lookup=n.register=void 0
const t=new Map
function r(e,n,t){if(e)return Object.freeze(Object.create(null))
if("query"===n.kind||"mutation"===n.kind||"subscription"===n.kind){const e=n
if(e.ast)return Object.assign(Object.create(null),e.ast,t)}return Object.freeze(Object.assign(Object.create(null),t))}function i(e){return t.get(e)}function a(e,n){const t=i(e)
if(void 0===t)throw new Error(`No GraphQL query or fragment metadata associated with the given token: ${e}`)
return t.kind===n}n.register=function(e,n){let i
return i=e?r(!0,n):"query"===n.kind||"mutation"===n.kind?r(!1,n,{$debug:{name:n.name,kind:n.kind,queryId:n.id,querySource:n.source}}):r(!1,n,{$debug:{name:n.name,kind:n.kind}}),t.set(i,n),i},n.lookup=i,n.getQueryTokenByQuerySource=function(e){const n=[]
for(const[r,i]of t)"query"!==i.kind&&"mutation"!==i.kind||i.source!==e||n.push(r)
if(n.length>1)throw new Error("Query source is found in multiple query files")
return n[0]},n.isGraphQLFragment=function(e){return a(e,"fragment")},n.isGraphQLQuery=function(e){return a(e,"query")},n.getGraphQLQueryId=function(e){const n=i(e)
if(void 0===n||"query"!==n.kind)throw new Error(`No GraphQL query metadata associated with the given token: ${JSON.stringify(e)}`)
return n.id}},92124:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.decodeObject=n.decodeList=n.reducedDecode=n.decode=n.paramDecode=void 0
const r=t(2726),i=/(%2C|%28|%29|%27|%3A)/g,a=/(%2C|%28|%29|%27|%3A)/
function o(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
return e.indexOf(n,t)===t}function s(e,n){if(e[e.length-1]!==n)throw new Error(`Input has unbalanced prefix and suffix: ${e}`)}function c(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=0,r=!1
const i="(",a=")"
for(;n<e.length;){const o=e[n]
if(o===i&&(t++,r=!0),o===a&&t--,0===t&&r)break
n++}return n}function d(e,n){return n?a.test(e)&&(e=e.replace(i,unescape)):e=decodeURIComponent(e),void 0===e||"''"===e?"":e}function u(e){return l(e,!1)}function l(e,n){return void 0!==e&&"''"!==e||(e=""),o(e,r.LIST_PREFIX)?(s(e,r.LIST_SUFFIX),p(e.substring(5,e.length-1),n)):o(e,r.OBJ_PREFIX)?(s(e,r.OBJ_SUFFIX),f(e.substring(1,e.length-1),n)):d(e,n)}function p(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const t=[]
let i=0
for(;i<e.length;){if(o(e,r.LIST_PREFIX,i)||o(e,r.OBJ_PREFIX,i)){const r=c(e,i)
t.push(l(e.substring(i,r+1),n)),i=r+2
continue}let a=e.indexOf(",",i)
a<0&&(a=e.length),t.push(d(e.substring(i,a),n)),i=a+1}return t}function f(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const t={}
let i=0
for(;i<e.length;){const a=e.indexOf(":",i),o=d(e.substring(i,a),n)
if(i=a+1,e.startsWith(r.LIST_PREFIX,i)||e.startsWith(r.OBJ_PREFIX,i)){const r=c(e,i)
t[o]=l(e.substring(i,r+1),n),i=r+2
continue}let s=e.indexOf(",",i)
s<0&&(s=e.length)
const u=d(e.substring(i,s),n)
t[o]=u,i=s+1}return t}n.paramDecode=function(e){return e.split("&").reduce((function(e,n){if(!n.length)return e
if(0===n.indexOf("="))return e
let[t="",r]=n.split("=")
return"''"===t&&(t=""),void 0!==r&&""!==r||(r="''"),e[decodeURIComponent(t)]=u(r),e}),{})},n.decode=u,n.reducedDecode=function(e){return l(e,!0)},n.decodeList=p,n.decodeObject=f},6803:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.encodePrimitive=n.encodeObject=n.encodeArray=n.encodeAnyType=n.arrayParamToQueryStringObject=n.arrayParamEncode=n.paramEncode=n.reducedEncode=n.encode=void 0
const r=t(2726),i=/[,()':]/g,a=/[,()':]/
function o(e,n){if("object"!=typeof e)throw new Error(n)}function s(e){const n=JSON.parse(JSON.stringify(e))
return function(e,n){if(Array.isArray(e)||"object"!=typeof e||null===e)throw new Error("You must pass an object to the paramEncode function. Use arrayParamEncode.")}(n),Object.keys(n).map((e=>`${p(e)}=${d(n[e],!1)}`)).join("&")}function c(e){if(e=JSON.parse(JSON.stringify(e)),!Array.isArray(e))throw new Error("You must pass an array to the arrayParamEncode function.")
return e.reduce((function(e,n){if(!n||!n.hasOwnProperty("name")||!n.hasOwnProperty("value"))throw new Error("Objects passed to the arrayParamEncode function must have name and value properties.")
if("object"==typeof n.value&&null!==n.value)throw new Error("Only primitives may be passed to arrayParamEncode as item values.")
const t=n.name,r=e.hasOwnProperty(t),i=e[t]
return r?Array.isArray(i)?i.push(n.value):e[t]=[i,n.value]:e[t]=n.value,e}),{})}function d(e,n){return Array.isArray(e)?u(e,n):function(e){return"object"==typeof e&&null!==e}(e)?l(e,n):p(e,n)}function u(e,n){const t=new Array(e.length)
for(let r=0;r<e.length;r++)t[r]=d(e[r],n)
return`${r.LIST_PREFIX}${t.join(",")}${r.LIST_SUFFIX}`}function l(e,n){const t=Object.keys(e).map((t=>`${p(t,n)}:${d(e[t],n)}`))
return`${r.OBJ_PREFIX}${t.join(",")}${r.OBJ_SUFFIX}`}function p(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return""===e?"''":n&&"string"==typeof e&&a.test(e)?e.replace(i,escape):n?e:encodeURIComponent(e).replace(i,escape)}n.encode=function(e){const n=JSON.parse(JSON.stringify(e))
return o(n,"You must pass either an array or an object to the encode function."),d(n,!1)},n.reducedEncode=function(e){const n=JSON.parse(JSON.stringify(e))
return o(n,"You must pass either an array or an object to the reducedEncode function."),d(n,!0)},n.paramEncode=s,n.arrayParamEncode=function(e){return s(c(e))},n.arrayParamToQueryStringObject=c,n.encodeAnyType=d,n.encodeArray=u,n.encodeObject=l,n.encodePrimitive=p},81448:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.default=Object.freeze({S_100_CONTINUE:100,S_101_SWITCHING_PROTOCOLS:101,S_200_OK:200,S_201_CREATED:201,S_202_ACCEPTED:202,S_203_NON_AUTHORITATIVE_INFORMATION:203,S_204_NO_CONTENT:204,S_205_RESET_CONTENT:205,S_206_PARTIAL_CONTENT:206,S_207_MULTI_STATUS:207,S_300_MULTIPLE_CHOICES:300,S_301_MOVED_PERMANENTLY:301,S_302_FOUND:302,S_303_SEE_OTHER:303,S_304_NOT_MODIFIED:304,S_305_USE_PROXY:305,S_307_TEMPORARY_REDIRECT:307,S_400_BAD_REQUEST:400,S_401_UNAUTHORIZED:401,S_402_PAYMENT_REQUIRED:402,S_403_FORBIDDEN:403,S_404_NOT_FOUND:404,S_405_METHOD_NOT_ALLOWED:405,S_406_NOT_ACCEPTABLE:406,S_407_PROXY_AUTHENTICATION_REQUIRED:407,S_408_REQUEST_TIMEOUT:408,S_409_CONFLICT:409,S_410_GONE:410,S_411_LENGTH_REQUIRED:411,S_412_PRECONDITION_FAILED:412,S_413_REQUEST_ENTITY_TOO_LARGE:413,S_414_REQUEST_URI_TOO_LONG:414,S_415_UNSUPPORTED_MEDIA_TYPE:415,S_416_REQUESTED_RANGE_NOT_SATISFIABLE:416,S_417_EXPECTATION_FAILED:417,S_422_UNPROCESSABLE_ENTITY:422,S_423_LOCKED:423,S_424_FAILED_DEPENDENCY:424,S_428_PRECONDITION_REQUIRED:428,S_429_TOO_MANY_REQUESTS:429,S_500_INTERNAL_SERVER_ERROR:500,S_501_NOT_IMPLEMENTED:501,S_502_BAD_GATEWAY:502,S_503_SERVICE_UNAVAILABLE:503,S_504_GATEWAY_TIMEOUT:504,S_505_HTTP_VERSION_NOT_SUPPORTED:505})},5452:function(e,n,t){"use strict"
var r=this&&this.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t)
var i=Object.getOwnPropertyDescriptor(n,t)
i&&!("get"in i?!n.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,i)}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),i=this&&this.__exportStar||function(e,n){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(n,t)||r(n,e,t)}
Object.defineProperty(n,"__esModule",{value:!0}),n.httpStatus=n.reducedEncode=n.paramEncode=n.encode=n.arrayParamToQueryStringObject=n.arrayParamEncode=void 0,i(t(92124),n)
var a=t(6803)
Object.defineProperty(n,"arrayParamEncode",{enumerable:!0,get:function(){return a.arrayParamEncode}}),Object.defineProperty(n,"arrayParamToQueryStringObject",{enumerable:!0,get:function(){return a.arrayParamToQueryStringObject}}),Object.defineProperty(n,"encode",{enumerable:!0,get:function(){return a.encode}}),Object.defineProperty(n,"paramEncode",{enumerable:!0,get:function(){return a.paramEncode}}),Object.defineProperty(n,"reducedEncode",{enumerable:!0,get:function(){return a.reducedEncode}})
var o=t(81448)
Object.defineProperty(n,"httpStatus",{enumerable:!0,get:function(){return o.default}}),i(t(89634),n),i(t(2726),n)},89634:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.queryTunnelRequest=n.queryTunnel=n.urlRequiresQueryTunneling=n.checkAndEncodeLongUrl=n.encodeRequest=void 0
const r=t(2726),i="application/x-www-form-urlencoded"
function a(e){if(!0===e.forceQueryTunnel){const{path:n,queryString:t}=(0,r.extractPathAndQueryStringFromUrl)(e.url||void 0)
if(t){const r={}
for(const n in e.headers)"CONTENT-TYPE"!==n.toUpperCase()&&(r[n]=e.headers[n])
let a,o
if(r["X-HTTP-Method-Override"]=e.method,e.body){const n=`RESTLI_${Date.now()}`
o="multipart/mixed; boundary="+n,a=["--"+n,"Content-Type: "+i,"",t,"--"+n,"Content-Type: application/json","",e.body,"--"+n+"--"].join("\r\n")}else o=i,a=t
return r["Content-Type"]=o,{body:a,headers:r,method:"POST",url:n}}}const n={method:e.method,url:e.url}
return e.body&&(n.body=e.body),n}function o(){const e=document.querySelector('meta[name="isQueryTunnelRequestSupported"]')
return e&&"true"===e.getAttribute("content")||!1}function s(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return c(e)?d(e,n):{url:e,request:n}}function c(e){const{path:n,queryString:t}=(0,r.extractPathAndQueryStringFromUrl)(e)
if(n.length>8e3)throw new Error(`Per AFD limitations, this request url ${e} will not work. Please contact ask_traffic@.`)
return e.length>8e3||t.length>4e3}function d(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const t=Object.assign({},n)
t.url=e,t.forceQueryTunnel=!0
const r=a(t)
return n.method=r.method,n.headers=r.headers,n.body=r.body,n.data=r.body,{url:r.url||void 0,request:n}}n.encodeRequest=a,n.checkAndEncodeLongUrl=s,n.urlRequiresQueryTunneling=c,n.queryTunnel=d,n.queryTunnelRequest=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return o()?s(e,n):{url:e,request:n}}},2726:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.extractPathAndQueryStringFromUrl=n.OBJ_SUFFIX=n.OBJ_PREFIX=n.LIST_SUFFIX=n.LIST_PREFIX=void 0,n.LIST_PREFIX="List(",n.LIST_SUFFIX=")",n.OBJ_PREFIX="(",n.OBJ_SUFFIX=")"
const t=/^(\/[^?]+)\??(.*)$/
n.extractPathAndQueryStringFromUrl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
const n=t.exec(e)
if(n){const[,e="",t=""]=n
return{path:e,queryString:t}}return{path:"",queryString:""}}},94083:function(e,n,t){var r
e=t.nmd(e),r=function(n){"use strict"
var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,n){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return t}(e,n)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}
function i(e){var n=void 0===e?"undefined":t(e)
return"number"===n?!isNaN(e-parseFloat(e)):"string"===n}var a=function(e,n){if(!i(e))return""
var t=e.toString().split("."),a=r(t,2),o=a[0],s=a[1],c=o=o.replace(/(\d)(?=(\d{2})+\d$)/g,"$1,")
return n&&(c=""+n+o),"string"==typeof s&&(c=c+"."+s),c},o=window&&window.t8?window.t8:{},s=null,c=null
Object.keys(o).length&&(s=new o.CurrencyFormatter,c=new o.NumberFormatter)
var d=s,u=c,l=null,p=null
function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
throw new Error("You need to inject a "+e+" formatter or have t8 available as a global, neither were found")}var h={currency:function(e,n,t){return l?l(e,n,t):(d||f("currency"),d.format(e,t,n))},number:function(){var e
return p?p.apply(void 0,arguments):(u||f("number"),(e=u).format.apply(e,arguments))}}
function m(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r]
return h[e].apply(h,t)}function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US"
return"en_IN"===n?a(e):m("number",e,n)}var g="12345678.91",v={},b={en_US:["K","M","B"],zh_CN:["K","M","B"],en_IN:["K","Lakh","cr"]},T=["en_US","zh_CN"],_=["en_IN"],E=function(e){return Math.pow(10,3*(e+1))},S=function(e){return 0===e?1e3:Math.pow(10,2*(e+1.5))},C=function(){}
function A(e,n){var t=function(e){return[",","."," ",String.fromCharCode(160),"'"].reduce((function(n,t){return e.split(t).length>=3?t:n}))}(e),r=function(e){return[",","."].reduce((function(n,t){return 2===e.split(t).length?t:n}))}(e),i=function(e,n){return 4===e.split(n).length?"india":"thousands"}(e,t),a=function(e){return b[e]||[]}(n),o=function(e){return T.indexOf(e)>-1?E:_.indexOf(e)>-1?S:C}(n)
return{delimiter:t,radixMark:r,delimiterStyle:i,abbreviations:a,abbreviateOn:o}}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US",n=arguments[1],t=e,r=v[t]
if(r)return r
var i=A(y(g,e,n),e)
return v[t]=i,i}var I=function(e){return function(e){return/[a-z][_-][A-Z]/g.test(e)}(e)},R=function(e){return k(e)},w=function(e){return i(e)}
function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=M(e,n)
return t.replace(new RegExp("\\"+n,"g"),".")}function M(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=new RegExp("((&#(39|92|61);)|[^\\d\\"+n+"])","g")
return e.replace(t,"")}function O(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"."
if(!w(e))return""
var t=n
if(I(n)){var r=R(n)
t=r.radixMark}return x(e,t)}var N="object"==typeof global&&global&&global.Object===Object&&global,P="object"==typeof self&&self&&self.Object===Object&&self,U=N||P||Function("return this")(),D=U.Symbol,L=Object.prototype,F=L.hasOwnProperty,B=L.toString,j=D?D.toStringTag:void 0,q=Object.prototype.toString,V=D?D.toStringTag:void 0
function H(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":V&&V in Object(e)?function(e){var n=F.call(e,j),t=e[j]
try{e[j]=void 0
var r=!0}catch(e){}var i=B.call(e)
return r&&(n?e[j]=t:delete e[j]),i}(e):function(e){return q.call(e)}(e)}function G(e){var n=typeof e
return null!=e&&("object"==n||"function"==n)}function K(e){if(!G(e))return!1
var n=H(e)
return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}var W,z=U["__core-js_shared__"],Q=(W=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",$=Function.prototype.toString,Y=/^\[object .+?Constructor\]$/,X=Function.prototype,J=Object.prototype,Z=X.toString,ee=J.hasOwnProperty,ne=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=function(){try{var e=function(e){return!(!G(e)||(n=e,Q&&Q in n))&&(K(e)?ne:Y).test(function(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))
var n}(t=null==(n=Object)?void 0:n.defineProperty)?t:void 0
return e({},"",{}),e}catch(e){}var n,t}()
function re(e,n,t){"__proto__"==n&&te?te(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function ie(e,n){return e===n||e!=e&&n!=n}var ae=Object.prototype.hasOwnProperty
function oe(e,n,t){var r=e[n]
ae.call(e,n)&&ie(r,t)&&(void 0!==t||n in e)||re(e,n,t)}function se(e){return e}function ce(e,n,t){switch(t.length){case 0:return e.call(n)
case 1:return e.call(n,t[0])
case 2:return e.call(n,t[0],t[1])
case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}var de,ue,le,pe=Math.max,fe=te?function(e,n){return te(e,"toString",{configurable:!0,enumerable:!1,value:(t=n,function(){return t}),writable:!0})
var t}:se,he=Date.now,me=(de=fe,ue=0,le=0,function(){var e=he(),n=16-(e-le)
if(le=e,n>0){if(++ue>=800)return arguments[0]}else ue=0
return de.apply(void 0,arguments)})
function ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ge(e){return null!=e&&ye(e.length)&&!K(e)}var ve=/^(?:0|[1-9]\d*)$/
function be(e,n){var t=typeof e
return!!(n=null==n?9007199254740991:n)&&("number"==t||"symbol"!=t&&ve.test(e))&&e>-1&&e%1==0&&e<n}var Te=Object.prototype
function _e(e){var n=e&&e.constructor
return e===("function"==typeof n&&n.prototype||Te)}function Ee(e){return null!=e&&"object"==typeof e}function Se(e){return Ee(e)&&"[object Arguments]"==H(e)}var Ce=Object.prototype,Ae=Ce.hasOwnProperty,ke=Ce.propertyIsEnumerable,Ie=Se(function(){return arguments}())?Se:function(e){return Ee(e)&&Ae.call(e,"callee")&&!ke.call(e,"callee")},Re=Array.isArray,we="object"==typeof n&&n&&!n.nodeType&&n,xe=we&&e&&!e.nodeType&&e,Me=xe&&xe.exports===we?U.Buffer:void 0,Oe=(Me?Me.isBuffer:void 0)||function(){return!1},Ne={}
Ne["[object Float32Array]"]=Ne["[object Float64Array]"]=Ne["[object Int8Array]"]=Ne["[object Int16Array]"]=Ne["[object Int32Array]"]=Ne["[object Uint8Array]"]=Ne["[object Uint8ClampedArray]"]=Ne["[object Uint16Array]"]=Ne["[object Uint32Array]"]=!0,Ne["[object Arguments]"]=Ne["[object Array]"]=Ne["[object ArrayBuffer]"]=Ne["[object Boolean]"]=Ne["[object DataView]"]=Ne["[object Date]"]=Ne["[object Error]"]=Ne["[object Function]"]=Ne["[object Map]"]=Ne["[object Number]"]=Ne["[object Object]"]=Ne["[object RegExp]"]=Ne["[object Set]"]=Ne["[object String]"]=Ne["[object WeakMap]"]=!1
var Pe="object"==typeof n&&n&&!n.nodeType&&n,Ue=Pe&&e&&!e.nodeType&&e,De=Ue&&Ue.exports===Pe&&N.process,Le=function(){try{return Ue&&Ue.require&&Ue.require("util").types||De&&De.binding&&De.binding("util")}catch(e){}}(),Fe=Le&&Le.isTypedArray,Be=Fe?function(e){return function(n){return e(n)}}(Fe):function(e){return Ee(e)&&ye(e.length)&&!!Ne[H(e)]},je=Object.prototype.hasOwnProperty,qe=function(e,n){return function(t){return e(n(t))}}(Object.keys,Object),Ve=Object.prototype.hasOwnProperty
var He,Ge=Object.prototype.hasOwnProperty,Ke=(He=function(e,n){if(_e(n)||ge(n))!function(e,n,t,r){var i=!t
t||(t={})
for(var a=-1,o=n.length;++a<o;){var s=n[a],c=void 0
void 0===c&&(c=e[s]),i?re(t,s,c):oe(t,s,c)}}(n,function(e){return ge(e)?function(e,n){var t=Re(e),r=!t&&Ie(e),i=!t&&!r&&Oe(e),a=!t&&!r&&!i&&Be(e),o=t||r||i||a,s=o?function(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t)
return r}(e.length,String):[],c=s.length
for(var d in e)!je.call(e,d)||o&&("length"==d||i&&("offset"==d||"parent"==d)||a&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||be(d,c))||s.push(d)
return s}(e):function(e){if(!_e(e))return qe(e)
var n=[]
for(var t in Object(e))Ve.call(e,t)&&"constructor"!=t&&n.push(t)
return n}(e)}(n),e)
else for(var t in n)Ge.call(n,t)&&oe(e,t,n[t])},function(e,n){return me(function(e,n,t){return n=pe(void 0===n?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=pe(r.length-n,0),o=Array(a);++i<a;)o[i]=r[n+i]
i=-1
for(var s=Array(n+1);++i<n;)s[i]=r[i]
return s[n]=t(o),ce(e,this,s)}}(e,void 0,se),e+"")}((function(e,n){var t=-1,r=n.length,i=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0
for(i=He.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,n,t){if(!G(t))return!1
var r=typeof n
return!!("number"==r?ge(t)&&be(n,t.length):"string"==r&&n in t)&&ie(t[n],e)}(n[0],n[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++t<r;){var o=n[t]
o&&He(e,o)}return e})))
function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",n=[".",",","s","'"]
return n.splice(n.indexOf(e),1),n.join("\\")}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",n=We(e)
return new RegExp("([^,\\.\\d]*)(["+n+"\\d]*\\d+)(\\"+e+"?)(\\d*)(\\D*)")}function Qe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=["","","","",""]
if(!i(e))return t
var r=ze(n),a=r.exec(e)
return a?(a.shift(),a.map((function(e){return e||""}))):t}function $e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a.keepTrailingRadixMark,s=void 0!==o&&o
if(!i(e))return""
var c=e.toString(),d=Qe(c,n),u=r(d,5),l=u[0],p=u[1],f=u[2],h=u[3],m=u[4],y=t
return i(y)&&""!==y&&(y=Number(y)),0===y?""+l+p+m:s&&""===h?""+l+p+f+m:(y&&(h=h.slice(0,y)),""===h?""+l+p+m:""+l+p+f+h+m)}function Ye(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD"
if("en_IN"===n){var r=rn("en_US",t),i=r.currencySymbol,o=r.radixPlaces,s=r.radixMark,c=$e(e,s,o)
return a(c,i)}return m("currency",e,n,t)}var Xe="12345678.91",Je={}
function Ze(e){return Number(e.substring(0,1))?"after":"before"}function en(e,n,t){var r=new RegExp("[^\\d\\"+n+"\\"+t+"\\s]+"),i=e.match(r)
return i?i[0]:""}function nn(e,n){var t=n.replace("$","\\$"),r=new RegExp("\\s?"+t+"\\s?"),i=e.match(r)
return i?i[0]:n}function tn(e,n){var t=new RegExp("\\"+n+"(\\d+)"),r=e.match(t)
return r?r[1].length:0}function rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",t=arguments[2],r=e+":"+n,i=Je[r]
if(i)return i
var a=k(e),o=a.radixMark,s=a.delimiter,c=Ye(Xe,e,n,t),d=Ze(c),u=en(c,o,s),l=nn(c,u),p=tn(c,o),f=Ke({},a,{currencySymbolLocation:d,currencySymbol:u,currencySymbolWithWhitespace:l,radixPlaces:p})
return Je[r]=f,f}function an(e){return e.replace(/\s/g,(function(){return" "}))}function on(e,n,t){for(var r=n.length-1;r>=0;r--){var i=t(r)
if(i<=e){var a=n[r],o=e/i,s=Math.round(e/i)
return Math.floor(o)!==o&&r>0?[o.toFixed(1),a]:[s.toString(),a]}}return[e.toString(),""]}function sn(e){return 46===e||8===e}function cn(e,n){return n.indexOf(e)}function dn(e,n){return e+n.length}function un(e){var n={}
return n.start=e.selectionStart,n.end=e.selectionEnd,n.length=n.end-n.start,n}function ln(e,n,t){e.selectionStart=n,e.selectionEnd=t}function pn(e,n){return e.length-n.length}function fn(e,n,t,r,i){return n?0:r&&8===e?-i:t&&46===e?i:0}function hn(e,n){return e+n}function mn(e,n,t){return t.charAt(n-1)===e}function yn(e,n,t){return t.charAt(n)===e}function gn(e,n,t){n!==t&&ln(e,t,t)}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self
var vn=function(e,n){return function(e,n){e.exports=function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&a(e,n)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,n){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},a(e,n)}function o(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n
if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")
return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}(e)}function s(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var t,r=i(e)
if(n){var a=i(this).constructor
t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments)
return o(this,t)}}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=t){var r,i,a=[],o=!0,s=!1
try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||u(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){if(e){if("string"==typeof e)return l(e,n)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}function l(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}var p="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",f="undefined"==typeof document||"textContent"in document.createElement("div")?"textContent":"innerText",h=["b","del","em","i","s","strong","sub","sup"],m=h.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),y=[p,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|"),g=t((function n(){e(this,n)}))
function v(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var b=function(){var e=/[&<>"'\u0000\\=]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"ï¿½","\\":"&#92;","=":"&#61;"}
return function(t){return null==t?null:t.toString().replace(e,(function(e){return function(e){return e in n}(e)?n[e]:e}))}}(),T=function(){var e,n="undefined"!=typeof document?document.createElement("div"):null,t=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi,r={nbsp:"Â ",lt:"<",gt:">",amp:"&",quot:'"'}
function i(e){if(function(e){return v(r,e)}(e))return r[e]
if(!n)return e
n.innerHTML="&".concat(e,";")
var t=n[f]
return r[e]=t,t}return e="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):"ï¿½"},function(n){return null==n?null:(n+"").replace(t,(function(n,t,r,a){return t?i(t):r||a?e(parseInt(r||a,r?16:10)||65533):"ï¿½"}))}}()
function _(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log"
if("undefined"!=typeof window&&window&&window.jet&&"error"===n.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[n]&&console[n](e)}function E(e){return/[<&]/.test(e)}var S="[ \t\r\n]*"
function C(e){e=Array.isArray(e)?e:[e]
var n,t,r,i=0,a="<(?!/?"
return a+="(?:",e.forEach((function(e,o){n=e.tags||m,t=e.attrs||y,r=e.checkUrlAttrs||!1,0!==o&&(a+="|"),a+="(?:"+n.join("|")+")",a+="(?:",a+=S,a+="|[ \t\r\n]+",a+="(?:(?:",a+="(?:".concat(t,")(?:=([\"'])[^'\"<>]*\\").concat(++i,")?"),r&&(a+="|(?:".concat("href|src",")=([\"'])(?:(?:").concat("https?|ftp|mailto|invalid",")(?::|&#(?:58|x3a);)|(?:").concat("data:image/(?:gif|jpg|jpeg|png);base64,",")|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\").concat(++i)),a+=")"+S+")+",a+=")"})),a+=")",a+="/?>)",new RegExp(a,"i")}function A(e){return C({tags:e=e||m,checkUrlAttrs:!0})}function k(e,n){var t=(n=n||{}).allowTags,r=!1!==n.hasCustomElementMarkup
return t&&t.length>0?!A(t).test(e):r?!k.R_UNSAFE_CUSTOM_ELEMENT.test(e):!k.R_UNSAFE_HTML.test(e)}function I(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}k.R_UNSAFE_HTML=A(),k.R_UNSAFE_CUSTOM_ELEMENT=function(){var e={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}
return C([{tags:m,checkUrlAttrs:!0},{tags:[e.tag],attrs:[p,e.attrs].join("|"),checkUrlAttrs:!1}])}()
var R={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},w=/<([\w:]+)/
function x(e){return e in R}function M(e,n){var t,r,i,a,o,s=n.createDocumentFragment(),u=[]
for(i=0,o=e.length;i<o;i++)if(r=e[i])if("string"==typeof r){t=t||s.appendChild(n.createElement("div"))
var l=c(w.exec(r)||["",""],2)[1]
if(void 0!==l){var p=l.toLowerCase(),f=x(p)&&R[p]||R._default
for(U(t,f[1]+r+f[2]),a=f[0];a--;)t&&t.lastChild&&t.lastChild.nodeType===Node.ELEMENT_NODE&&(t=t.lastChild)
u.push.apply(u,d(Array.from(t.childNodes))),(t=s.firstChild)&&(t.textContent="")}}else r instanceof Node&&u.push(r)
for(s.textContent="",r=u[i=0];r;)s.appendChild(r),r=u[++i]
return s}function O(e,n,t){e=e.toString()
var r=n?function(e,n){var t={}
return e.replace(/\{([^}]+)\}/g,(function(e,r){if(v(t,r))return t[r]
if(v(n,r)){var i=n[r],a="string"==typeof i
if(!(a||i instanceof g||"number"==typeof i))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.")
return i?(i=a?"".concat(b(i)):i.toString(),t[r]=i,i):e}return e}))}(e,n):e,i=e
return E(r)&&!k(r,t)&&(r=I(r),_("Content contains tags or attributes that are not allowed:\nContent: "+i,"error")),r}var N=O,P=O
function U(e,n,t){var r=O(n,t)
return r&&E(r)?e.innerHTML=r:r&&(e[f]=r),r}var D=function(n){r(a,n)
var i=s(a)
function a(n){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return e(this,a),(t=i.call(this)).options=r,t.tags=t.options.allowTags?t.options.allowTags.flat():[],t.str=n,t}return t(a,[{key:"toString",value:function(){var e=this.str,n=this.strValue,t=e
return void 0!==n?n:(k(e,{allowTags:this.tags,hasCustomElementMarkup:this.options.hasCustomElementMarkup})||(t=e,e=I(e),_("UnsafeString contains tags or attributes that are not allowed.\nString: "+t,"error")),this.strValue=e,e)}}]),a}(g)
var L=/ /g,F=/[\s\u0000<>"]|%00/,B=/\\/,j=/([.]|%2e){2}/i,q=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])")
function V(e){var n,t="invalid://"
if("string"!=typeof e)return _("jSecure Warning: url must be a string","error"),t
if((n=e.trim()).indexOf(" ")>-1&&(_("jSecure Warning: url should not contain spaces: "+e,"warn"),n=n.replace(L,"+")),!q.test(n))return _("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),t
if(F.test(n))return _("jSecure Error: not valid url character found in url: "+e,"error"),t
var r,i=n.split("?")[0],a=!1
if(i){try{if(r=decodeURI(i),j.test(r))return _("jSecure Error: malicious data found in url path: "+i,"error"),t}catch(e){a=!0}if(a)return _("jSecure Error: malformed url path detected: "+i),t
if(B.test(i)||j.test(i))return _("jSecure Error: malicious data found in url path: "+i,"error"),t}return e}var H={redirect:function(e){window&&(window.location.href=e)}}
return{ALLOWED_TAGS:m,FORMATTING_TAGS:h,htmlEncode:b,htmlUnencode:T,log:_,mk:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r]
var i,a="",o=t.length
return e&&e.forEach((function(e,n){a+=e,n<o&&(i=t[n],a+=i instanceof D?i:b(i))})),"".concat(P(a))},parseHTML:function(e,n){var t
if(n=n||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)t=M([e],n)
else{if(!Array.isArray(e))return e
t=M(e,n)}return Array.from(t.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:N,reEncode:function(e){return b(T(e))},_redirector:H,redirect:function(e){var n=V(e)
n===e&&H.redirect(n)},sanitizeHTML:P,sanitizeUrl:V,setElementContent:U,unsafe:function(e){return e},UnsafeString:function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return this instanceof e||console.warn("Calling 'UnsafeString' without the 'new' keword is deprecated"),new D(n,t)}}}()}(n={exports:{}}),n.exports}(),bn=vn.sanitizeHTML
function Tn(e){return e.target}function _n(e){var n=e.value.trim()
return n?bn(n):""}function En(e){var n=e.value
return n?bn(n):""}function Sn(e,n){e.value=n}function Cn(e){return e.which}function An(e){return"0"+e}function kn(e,n,t,r){return n||""===n?$e(""+e+t+n,t,r,{keepTrailingRadixMark:!0}):e}function In(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments[2],a=k(n),o=a.radixMark,s=t
if(i(s)&&""!==s&&(s=Number(s)),!e)return""
if("."===e)return 0===s?"":An(o)
var c=e.split("."),d=r(c,2),u=d[0],l=d[1],p=an(y(u,n))
return kn(p,l,o,t)}function Rn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments[2],r=O(e,n)
return In(r,n,t)}function wn(e,n,t,r){if(function(e,n,t){return function(e,n,t){var r=cn(e,t),i=dn(r,e)
return n>r&&n<i}(e,n,t)||function(e,n,t){return n===dn(cn(e,t),e)}(e,n,t)||function(e,n,t){return n===t.indexOf(e)}(e,n,t)}(e,t,r)){var i=cn(e,r),a=dn(i,e)
return"before"===n?a:i}return t}function xn(e,n,t){return"before"===t?""+n+e:""+e+n}function Mn(e,n){var t=e
return i(t)&&""!==t&&(t=Number(t)),t||0===t?t:n}function On(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",a=arguments[3],o=rn(n,t),s=o.currencySymbolWithWhitespace,c=o.currencySymbolLocation,d=o.radixMark,u=o.radixPlaces
if(!i(e))return""
var l=Mn(a,u)
s=an(s)
var p=O(e,d),f=Qe(p,"."),h=r(f,2),m=h[1]
if(""===p)return s
if("."===p)return 0===l?s:xn(An(d),s,c)
var y=Qe($e(e,d,l,{keepTrailingRadixMark:!0}),d),g=r(y,4),v=g[2],b=g[3],T=an(Ye(m,n,t)),_=Qe(T,d),E=r(_,5),S=E[0],C=E[1],A=E[4]
return""+S+C+v+b+A}n.indiaNumberFormatter=a,n.removeFormatting=M,n.toDecimalString=O,n.getNumberFormatData=k,n.getCurrencyFormatData=rn,n.formatNumber=y,n.formatCurrency=Ye,n.trimRadixPlaces=$e,n.trimFractionalNumbers=function(e,n,t,r){return $e(e,k(n).radixMark,t,r)},n.removeNBSP=an,n.addNBSP=function(e){var n=String.fromCharCode(160)
return e.replace(/\s/g,(function(){return n}))},n.injectNumberFormatter=function(e){var n=void 0===e?"undefined":t(e)
if(!e||"function"!==n)throw new Error("Expected function for number formatter, got "+n)
p=e},n.injectCurrencyFormatter=function(e){var n=void 0===e?"undefined":t(e)
if(!e||"function"!==n)throw new Error("Expected function for currency formatter, got "+n)
l=e},n.resetNumberFormatter=function(){p=null},n.resetCurrencyFormatter=function(){l=null},n.abbreviateNumber=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US"
if(!i(e))return""
var t=k(n),a=t.radixMark,o=t.abbreviations,s=t.abbreviateOn
if(!o.length)return e
var c=Qe(e,a),d=r(c,5),u=d[0],l=d[1],p=d[2],f=d[3],h=d[4],m=O(l,a),y=on(m,o,s),g=r(y,2),v=g[0],b=g[1]
return v=v.replace(".",a),b?""+u+v+b+h:""+u+v+b+p+f+h},n.parseNumber=Qe,n.isNumberOrString=i,n.onNumberInput=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.locale,r=void 0===t?"en_US":t,i=n.maxRadixPlaces,a=void 0===i?"":i,o=n.setValue,s=n.beforeSetValue,c=n.afterSetValue,d=Tn(e),u=_n(d),l=O(u,r),p=Rn(u,r,a),f=pn(p,u),h=un(d).end,m=hn(h,f)
l=O(p,r),s&&"function"==typeof s&&s(p,l),o&&"function"==typeof o?o(p,l):Sn(d,p),gn(d,p.length,m),c&&"function"==typeof c&&c(p,l)},n.onNumberKeyDown=function(e,n){var t=n.locale,r=void 0===t?"en_US":t,i=Cn(e)
if(sn(i)){var a=Tn(e),o=_n(a),s=k(r).delimiter,c=un(a),d=c.start
gn(a,d,hn(d,fn(i,c.length,yn(s,d,o),mn(s,d,o),s.length)))}},n.formatMaskingNumber=Rn,n.formatUnformattedNumber=In,n.onCurrencyInput=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.locale,r=void 0===t?"en_US":t,i=n.currencyCode,a=void 0===i?"USD":i,o=n.maxRadixPlaces,s=void 0===o?"":o,c=n.setValue,d=n.beforeSetValue,u=n.afterSetValue,l=Tn(e),p=_n(l),f=rn(r,a),h=f.currencySymbolWithWhitespace,m=f.currencySymbolLocation,y=f.radixMark
h=an(h)
var g=On(p,r,a,s),v=pn(g,p),b=un(l).end,T=hn(b,v)
T=wn(h,m,T,g)
var _=O(g,y)
d&&"function"==typeof d&&d(g,_),c&&"function"==typeof c?c(g,_):Sn(l,g),gn(l,g.length,T),u&&"function"==typeof u&&u(g,_)},n.onCurrencyKeyDown=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.locale,r=void 0===t?"en_US":t,i=n.currencyCode,a=void 0===i?"USD":i,o=Cn(e),s=Tn(e),c=En(s),d=un(s),u=d.start,l=d.length,p=u,f=rn(r,a),h=f.currencySymbolWithWhitespace,m=f.currencySymbolLocation,y=f.delimiter
if(h=an(h),y=an(y),sn(o)){var g=fn(o,l,yn(y,u,c),mn(y,u,c),y.length)
p=hn(u,g)}p=wn(h,m,p,c),l||gn(s,u,p)},n.onCurrencyFocus=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.locale,r=void 0===t?"en_US":t,i=n.currencyCode,a=void 0===i?"USD":i,o=Tn(e),s=_n(o)
if(""===s){var c=rn(r,a),d=c.currencySymbolWithWhitespace,u=c.currencySymbolLocation
Sn(o,d=an(d))
var l=un(o),p=l.start,f=wn(d,u,p,d)
gn(o,p,f)}},n.onCurrencyBlur=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.locale,r=void 0===t?"en_US":t,i=n.currencyCode,a=void 0===i?"USD":i,o=n.beforeSetValue,s=n.setValue,c=n.afterSetValue,d=Tn(e),u=_n(d),l=rn(r,a),p=l.currencySymbol
if(""===u||u===p){var f=""
o&&"function"==typeof o&&o(f,f),s&&"function"==typeof s?s(f,f):Sn(d,f),c&&"function"==typeof c&&c(f,f)}},n.formatMaskingCurrency=On,n.formatUnformattedCurrency=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",r=arguments[3],i=In(e,n,r)
return On(i,n,t,r)},n.setElementSelection=ln,n.getElementSelection=un,n.getCursorAdjustment=pn,n.getAdjustedCursorPosition=hn,n.isCursorImmediatelyBeforeCharacter=yn,n.isCursorImmediatelyAfterCharacter=mn,Object.defineProperty(n,"__esModule",{value:!0})},r(n)},61365:e=>{for(var n=[],t=0;t<256;++t)n[t]=(t+256).toString(16).substr(1)
e.exports=function(e,t){var r=t||0,i=n
return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},27969:e=>{var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)
if(n){var t=new Uint8Array(16)
e.exports=function(){return n(t),t}}else{var r=new Array(16)
e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255
return r}}},43503:(e,n,t)=>{var r=t(27969),i=t(61365)
e.exports=function(e,n,t){var a=n&&t||0
"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null)
var o=(e=e||{}).random||(e.rng||r)()
if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var s=0;s<16;++s)n[a+s]=o[s]
return n||i(o)}},91503:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{default:()=>ne})
var r=t(39705),i=t.n(r)
class a{constructor(){const e=this.states={PENDING:!0,STARTED:!0,PAUSED:!0,COMPLETED:!1,FAILED:!1,CANCELLED:!1}
this.is={},Object.freeze(e),Object.keys(e).forEach((e=>{this.is[e]=!1,this[e]=e})),this.set(this.PENDING)}get(){return this.state}isFrozen(){return Object.isFrozen(this)}set(e){return e===this.state?Promise.resolve(e):Object.isFrozen(this)?Promise.reject(new Error(`[StateManager] cannot change immutable state '${this.state}' to '${e}'`)):this.states.hasOwnProperty(e)?(this.state&&(this.is[this.state]=!1),this.is[e]=!0,this.state=e,this.states[e]||Object.freeze(this),Promise.resolve(e)):Promise.reject(new Error(`[StateManager] cannot set invalid state: ${e}`))}}var o=t(43503),s=t.n(o)
class c extends(i()){constructor(){super(),this.reset()}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
this.progress=e-(this.loaded||0),this.loaded=e,this.completed=n,this.active=this.loaded-this.completed,this.emit("change",this)}add(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
this.set(this.loaded+e,this.completed+n)}done(){this.set(this.loaded,this.loaded)}reset(){this.progress=0,this.loaded=0,this.completed=0,this.active=0}}class d extends(i()){constructor(e){let{beforeSend:n,body:t,headers:r,method:i,mimeType:a,timeout:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(!e)throw new Error("[Request] an action must be provided")
super(),this.action=e,this.beforeSend=n,this.body=t,this.headers=r||{},this.method=i||"GET",this.mimeType=a,this.timeout=o,this.progress=new c,this.progress.on("change",(()=>{this.emit("progress",this.progress)})),this.reset()}send(){const e=this.request=new XMLHttpRequest
return this.attempts++,new Promise(((n,t)=>{const r=e=>{let{loaded:n}=e
this.progress.set(n)},i=e=>{r({loaded:0}),t(e)}
e.open(this.method,this.action),function(e,n){Object.keys(n).forEach((t=>{e.setRequestHeader(t,n[t])}))}(e,this.headers),e.onerror=()=>{const{status:n,responseText:t}=e
i(new Error("[Request] a network error occurred",{cause:{status:n,responseText:t}}))},e.onabort=()=>{const{status:n,responseText:t}=e
i(new Error("[Request] the request was aborted",{cause:{status:n,responseText:t}}))},e.onload=()=>{const{status:t,responseText:r}=e
t>=200&&t<300||304===t?this.state.set(this.state.COMPLETED).then((()=>{this.progress.done(),n(r)})):i(new Error(`[Request] server responded with status ${t}`,{cause:{status:t,responseText:r}}))},this.timeout&&(e.timeout=this.timeout),this.mimeType&&e.overrideMimeType(this.mimeType),e.upload.onprogress=r
const a=new Promise((e=>{this.state.isFrozen()||(this.state.is.PAUSED?this.on("resume",e):e())}))
a.then((()=>{this.beforeSend&&this.beforeSend(e),e.partUploadStartTime=performance.now(),e.send(this.body)}))}))}abort(){return this.state.set(this.state.CANCELLED).then((()=>{this.progress.reset(),this.request&&this.request.abort()}))}pause(){return this.state.set(this.state.PAUSED).then((()=>{this.emit("pause")}))}resume(){return this.state.set(this.state.STARTED).then((()=>{this.emit("resume")}))}reset(){return this.attempts=0,this.progress.reset(),this.state=new a,this}}class u extends d{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(!n.body)throw new Error("[UploadRequest] a body must be provided")
n.method=n.method||"PUT",super(e,n)}}function l(e,n){["then","catch"].forEach((t=>{e[t]=n[t].bind(n)}))}function p(e){return e&&"object"==typeof e&&!Array.isArray(e)}function f(e){return h({},e)}function h(e){if(p(e)){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r]
t.forEach((n=>{p(n)&&Object.keys(n).forEach((t=>{p(n[t])?p(e[t])?h(e[t],n[t]):e[t]=f(n[t]):e[t]=n[t]}))}))}return e}class m{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.defaults=e,Object.freeze(this)}extend(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
return h({},this.defaults,...n)}}const y="SERVER_ERROR",g="NETWORK_ERROR",v="CLIENT_ERROR",b={SINGLE:"SINGLE",MULTIPART:"MULTIPART",MULTIPART_FORMDATA:"MULTIPART_FORMDATA"},T="CANCELLED",_="STARTED",E="UPLOAD",S="CLIENT",C="undefined"!=typeof window&&window&&"node"!==window.appEnvironment
function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0
const r=n.type
if([b.SINGLE,b.MULTIPART_FORMDATA].includes(r))return{partUploadId:e,firstByteOffset:t?0:null,lastByteOffset:t?t-1:null}
const i=n.partUploadRequests||[],a=i.find((n=>n.uploadUrl===e))||{}
return{partUploadId:e,firstByteOffset:"number"==typeof a.firstByte?a.firstByte:null,lastByteOffset:a.lastByte||null}}function k(e,n){let t=""
return n&&(t+=`[Headers]: ${n}`),e&&(t+=`[Response Text]: ${e}`),t}function I(e){let n="UNKNOWN"
return e>=500?n=y:e>=400?n=v:0===e&&(n=g),n}function R(e){switch(I(parseInt(e))){case v:return S
case y:return"SERVER"
case g:return"NETWORK"
default:return"UNKNOWN"}}function w(e,n){let t
try{t=n instanceof Error?n.toString():JSON.stringify(n)}catch(e){t=null}const r=parseInt(n.status)
return{errorPhase:e,errorType:R(r),httpErrorCode:"number"!=typeof r||Number.isNaN(r)?null:r,statusMessage:n.message||t}}const x={done:s()()},M=new m({action:"/",method:"PUT",headers:{},configure:null,maxConcurrentPartsPerFile:1/0,maxRetriesPerPart:0,retryDelay:0,timeout:0})
function O(){return this.consumer.next().then((e=>{if(e)return Promise.resolve(this.configure.call(this,e,this.config)||this.config).then((n=>{const{action:t,beforeSend:r,headers:i,method:a,mimeType:o,timeout:s}=n,c=new u(t,{body:e.blob,beforeSend:r,headers:i,method:a,mimeType:o,timeout:s})
return c.on("progress",L.bind(this)),c}))}),(()=>{}))}function N(e){e.send().then(P.bind(this,e),U.bind(this,e))}function P(e){this.isTrackingEnabled&&this.uploadTracker.sendPartUploadSuccessEvent(e),this.emit("part:success",e),this.pending.delete(e),D.call(this)}function U(e,n){this.isTrackingEnabled&&this.uploadTracker.sendPartUploadFailureEvent(e),this.emit("part:error",n,e)
const t=4===Math.floor(e.request.status/100)
if(t||e.attempts>this.config.maxRetriesPerPart)this.initialFailedRequest||(this.initialFailedRequest={status:e.request.status,statusMessage:JSON.stringify({error:n.toString(),is4xx:t,numberOfRetries:e.attempts,maxRetriesPerPart:this.config.maxRetriesPerPart,responseText:e.request.responseText})}),j.call(this)
else{const n=N.bind(this,e)
setTimeout(n,this.config.retryDelay)}}function D(){this.pending.size<this.config.maxConcurrentPartsPerFile&&!this.state.isFrozen()&&O.call(this).then((e=>{e?(this.state.is.PAUSED&&e.pause(),this.results.push(e),this.pending.add(e),N.call(this,e)):this.pending.size||this.emit(x.done)}))}function L(e){this.progress.add(e.progress,e.completed),this.emit("progress",this.progress),F.call(this)}function F(){const e=this.status()
this.isTrackingEnabled&&this.uploadTracker.sendUploadInProgressEvent(e),this.emit("status",e)}function B(e){return this.state.set(e).then((()=>(this.state.is.COMPLETED&&this.progress.done(),F.call(this),this.status())))}function j(e){return B.call(this,e||this.state.FAILED).then((()=>{this.pending.forEach((e=>{e.abort(),this.pending.delete(e)})),this.emit(x.done)}))}function q(){this.state=new a,this.consumer.reset(),this.progress.reset(),this.pending.clear(),this.results=[],this.initialFailedRequest=null,l(this,V.call(this))}function V(){return new Promise(((e,n)=>{this.on(x.done,(()=>{B.call(this,this.state.COMPLETED).then((()=>{if(!this.isTrackingEnabled)return e(H(this))
const t=H(this)
return[b.SINGLE,b.MULTIPART_FORMDATA].includes(t.meta.type)?(this.uploadTracker.sendUploadCompletedEvent(),e(t)):G.call(this,t).then((()=>(this.uploadTracker.sendUploadCompletedEvent(),e(t)))).catch((e=>n(h(t,{type:"MULTIPART_COMPLETION_CALL_FAIL",errorDetails:w("FINALIZE",e)}))))})).catch((()=>{if(!this.isTrackingEnabled)return n(H(this))
const e=H(this),t="CANCELLED"===e.status.state,r=[b.SINGLE,b.MULTIPART_FORMDATA].includes(e.meta.type),i=t?{errorPhase:E,errorType:S,httpErrorCode:0,statusMessage:"The upload request was cancelled by the user"}:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const t=parseInt(n.status)
return{errorPhase:e,errorType:R(t),httpErrorCode:t||0===t?t:null,statusMessage:n.statusMessage||null}}(E,this.initialFailedRequest||{})
let a="MULTIPART_UPLOAD_FAIL"
return r&&(a=e.meta.type===b.SINGLE?"SINGLE_UPLOAD_FAIL":"MULTIPART_FORMDATA_UPLOAD_FAIL"),t||r?n(h(e,{type:t?"USER_CANCELLED":a,errorDetails:i})):G.call(this,e).finally((()=>n(h(e,{type:a,errorDetails:i}))))}))}))}))}function H(e){return{meta:e.consumer.meta,results:e.results,status:e.status()}}function G(e){const{meta:n,results:t}=e,{mediaArtifactUrn:r,multipartMetadata:i}=n,{headers:a,timeout:o}=this.config,s=t.map((e=>{let{request:n}=e
return{headers:(t=n.getAllResponseHeaders(),t.split("\r\n").reduce(((e,n)=>{const t=n.trim(),r=t.indexOf(": ")
if(r>0){const n=t.substring(0,r),i=t.substring(r+": ".length)
e[n]=i}return e}),{})),httpStatusCode:n.status}
var t}))
return new u(n.finalizeUploadUrl,{body:JSON.stringify({completeUploadRequest:{mediaArtifactUrn:r,multipartMetadata:i,partUploadResponses:s}}),headers:a,method:"POST",timeout:o}).send().catch((e=>{throw{message:e.message||e.cause.responseText,status:e.cause.status}}))}class K extends(i()){constructor(e,n,t,r){super(),this.config=n=M.extend(n),this.configure=n.configure||function(){},this.meta=t,this.uploadTracker=r,this.results=[],this.consumer=e,this.file=e.file,this.size=e.size,this.id=e.id||s()(),this.state=new a,this.progress=new c,this.pending=new Set,this.initialFailedRequest=null,e.length===1/0&&(this.config.maxConcurrentPartsPerFile=1),this.isTrackingEnabled=this.config.enableTracking||!1,l(this,V.call(this))}start(){return B.call(this,this.state.STARTED).then((()=>{this.pending.forEach((e=>{e.resume()}))
let e=Math.min(this.consumer.length,this.config.maxConcurrentPartsPerFile)-this.pending.size
for(;e--;)D.call(this)}))}reset(){return j.call(this).then(q.bind(this),q.bind(this))}retry(){return this.state.isFrozen()?this.state.is.COMPLETED?Promise.reject(new Error("[Uploader] cannot retry an upload that completed")):this.reset().then((()=>(this.start(),this))):Promise.reject(new Error("[Uploader] cannot retry a pending upload"))}resume(){return B.call(this,this.state.STARTED).then((()=>{this.pending.forEach((e=>{e.resume()}))}))}pause(){return B.call(this,this.state.PAUSED).then((()=>{this.pending.forEach((e=>{e.pause()}))}))}cancel(){return j.call(this,this.state.CANCELLED)}toggle(){return this.state.is.PAUSED?this.resume():this.pause()}status(){return{state:this.state.get(),progress:this.progress,total:this.size}}}class W extends(i()){constructor(e,n){super(),this.file=function(e){return e instanceof FormData?e.get("file")||{}:e}(e),this.meta=n,this.partUploadStartTime=performance.now(),this.uploadSessionId=s()()}updateMetadata(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.meta=h({},this.meta,e)}_buildAndFireUploadStatusEvent(e,n,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null
const{name:a="",size:o=0,type:s=""}=this.file,c={digitalMediaArtifactUrn:this.meta.mediaArtifactUrn||null,durationSinceUploadStarted:Math.round(performance.now()-this.partUploadStartTime),mediaFileInfo:{fileName:a,size:o,contentType:s},mediaContentCreationSessionTrackingObject:{sessionTrackingId:this.uploadSessionId,useCase:this.meta.useCase||"UNKNOWN"},uploadMechanism:this.meta.type||null,uploadSessionTrackingId:this.uploadSessionId,uploadState:e,videoDuration:this.meta.videoDuration||null}
n&&t&&(c.errorPhase=n,c.errorType=t,c.httpErrorCode=r,c.statusMessage=i),this._fireTrackingEvent({eventName:"UploadStatusEvent",eventBody:c})}sendUploadRefreshedEvent(){this._buildAndFireUploadStatusEvent("REFRESHED")}sendUploadStartEvent(){this._buildAndFireUploadStatusEvent(_)}sendUploadFailedEvent(){let{errorPhase:e,errorType:n,httpErrorCode:t,statusMessage:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this._buildAndFireUploadStatusEvent("FAILED",e,n,t,r)}sendUploadInProgressEvent(e){const{active:n}=e.progress
e.state!==_||n||this._buildAndFireUploadStatusEvent("IN_PROGRESS")}sendUploadCompletedEvent(){this._buildAndFireUploadStatusEvent("COMPLETED")}sendUploadCancelledEvent(){let{errorPhase:e,errorType:n,httpErrorCode:t,statusMessage:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this._buildAndFireUploadStatusEvent(T,e,n,t,r)}sendPartUploadSuccessEvent(e){const{request:n}=e,t={digitalMediaArtifactUrn:this.meta.mediaArtifactUrn||null,partUploadMetadata:A(e.action,this.meta,this.file.size),uploadDuration:Math.round(performance.now()-n.partUploadStartTime),uploadMechanism:this.meta.type||null,uploadSessionTrackingId:this.uploadSessionId,numberOfRetries:e.attempts?e.attempts-1:0}
this._fireTrackingEvent({eventName:"PartUploadCompletedEvent",eventBody:t})}sendPartUploadFailureEvent(e){const{request:n,state:t,progress:r}=e,{responseText:i,status:a}=n,o=t.is.CANCELLED?"USER_CANCELLED":I(a),s=n.getAllResponseHeaders(),c={bytesTransferred:r.completed||0,digitalMediaArtifactUrn:this.meta.mediaArtifactUrn||null,errorType:o,partUploadMetadata:A(e.action,this.meta,this.file.size),responseBody:k(i,s),statusCode:a,uploadDuration:Math.round(performance.now()-n.partUploadStartTime),uploadMechanism:this.meta.type||null,uploadSessionTrackingId:this.uploadSessionId}
this._fireTrackingEvent({eventName:"PartUploadFailureEvent",eventBody:c})}_fireTrackingEvent(e){this.emit("tracking",e)}}const z=new m({enableTracking:!1,maxConcurrentFiles:1/0})
function Q(){if(this.queue.size&&this.pending.size<this.config.maxConcurrentFiles){let e
if(this.queue.forEach((n=>{e||(e=n)})),e){this.pending.add(e),this.queue.delete(e),this.state.is.STARTED&&e.start()
const n=()=>{this.delete(e)}
e.then(n,n)}}}function $(e){this.queue.add(e),Q.call(this)}class Y extends(i()){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if("function"!=typeof e.consume)throw new Error("[UploadManager] a consume() function is required")
super(),this.consume=e.consume,this.config=z.extend(e),this.pending=new Set,this.queue=new Set,this.state=new a}addFiles(e){const n=function(e){return Array.isArray(e)?e.reduce(((e,n,t)=>{let{file:r,meta:i}=n
return r||e.push(`error at fileInfo index ${t}: upload 'file' required`),i&&i.useCase||e.push(`error at fileInfo index ${t}: upload 'useCase' required`),e}),[]).join(", "):"addFiles only accepts array"}(e)
if(n)return Promise.reject({message:n,type:"INVALID_FILE_INFO"})
const t=e.map((e=>{let{file:n,meta:t,uploadCallback:r}=e
return this.add(n,t,r)}))
return Promise.all(t.map((e=>e.then((e=>({state:"fulfilled",value:e}))).catch((e=>({state:"rejected",reason:e})))))).then((e=>{const n=e.filter((e=>"fulfilled"===e.state)),t=e.filter((e=>"rejected"===e.state))
if(t.length)throw t.map((e=>e.reason))
return n.map((e=>e.value[0]))}))}add(e,n,t){e=e&&("length"in e?Array.from(e):[e])||[],n=n||{}
const r=e.filter(Boolean).map((e=>{if(!this.config.enableTracking){const r=this.consume.call(this,e,n)
return Promise.resolve(r).then((()=>{const e=new K(r,this.config,n)
return"function"==typeof t&&t(e),this.emit("upload",e),$.call(this,e),e}))}return this._addWithTracking(e,n,t)}))
return Promise.all(r)}_addWithTracking(e,n,t){let r
const i=this._createAndStartUploadTracker(e,n)
return function(e){return new Promise((n=>{const t={}
if(!C||!/^video\//.test(e.type))return n(t)
const r=document.createElement("video")
r.preload="metadata",r.addEventListener("loadedmetadata",(()=>(t.videoDuration=Math.round(1e3*r.duration),n(t)))),r.addEventListener("error",(e=>n(t))),r.src=window.URL.createObjectURL(e)}))}(e).then((t=>(n=h({},n,t),r=this.consume.call(this,e,n),Promise.resolve(r).catch((e=>{throw h(e,{errorDetails:w("REGISTRATION",e)})}))))).then((()=>{const e=h({},n,r.meta)
return this._validateUploadMetadata(e),i.updateMetadata(e),this._createAndEnqueueUploader(r,e,i,t)})).catch((e=>{throw e&&e.status&&e.status.state===T?i.sendUploadCancelledEvent(e.errorDetails):i.sendUploadFailedEvent(e&&e.errorDetails),e}))}_createAndStartUploadTracker(e,n){const t=new W(e,n)
return t.on("tracking",(e=>{this.emit("tracking",e)})),n.isRetry&&t.sendUploadRefreshedEvent(),t.sendUploadStartEvent(),t}_validateUploadMetadata(e){let{type:n,finalizeUploadUrl:t}=e
if(![b.SINGLE,b.MULTIPART_FORMDATA].includes(n)&&!t){const e=`Upload Mechanism: ${n} requires a valid finalizeUploadUrl to be passed`
throw{errorDetails:{errorPhase:E,errorType:S,httpErrorCode:null,statusMessage:e},message:e,type:"INVALID_METADATA"}}}_createAndEnqueueUploader(e,n,t,r){const i=new K(e,this.config,n,t)
return"function"==typeof r&&r(i),this.emit("upload",i),$.call(this,i),i}delete(e){this.pending.delete(e),this.queue.delete(e),Q.call(this)}start(){return this.state.set(this.state.STARTED).then((()=>{this.pending.forEach((e=>{e.start()}))}))}resume(){return this.start()}pause(){this.state.set(this.state.PAUSED).then((()=>{this.pending.forEach((e=>{e.pause()}))}))}cancel(){return this.state.set(this.state.STARTED).then((()=>{this.queue.clear(),this.pending.forEach((e=>{this.pending.delete(e),e.cancel()}))}))}toggle(){this.state.is.PAUSED?this.resume():this.pause()}}class X{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0
this.id=n.id||s()(),this.file=e,this.size=e.size,this.meta=t,this.length=1/0}next(){throw new Error("[AbstractConsumer] Consumer must implement #next() method")}reset(){throw new Error("[AbstractConsumer] Consumer must implement #reset() method")}}class J{constructor(e,n,t,r){this.file=t,this.blob=e,this.index=n,this.id=s()(),this.meta=r}}class Z extends X{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0
if(!n.getUploadMetaData)throw new Error("a getUploadMetaData() function is required")
super(e,n,t),this.length=1/0,this.getUploadMetaData=()=>n.getUploadMetaData(e,t),this.reset()}next(){return this.then((()=>{if(this.index++,this.index>=this.length)return Promise.reject()
switch(this.meta.type){case"SINGLE":case"MULTIPART_FORMDATA":return Promise.resolve(new J(this.file,0,this.file,this.meta))
case"MULTIPART":const{partUploadRequests:e}=this.meta,n=e[this.index]
if(!n)return Promise.reject()
const t=this.file.slice(n.firstByte,n.lastByte+1,this.file.type)
return Promise.resolve(new J(t,this.index,this.file,n))
default:return Promise.reject(new Error(`TODO: unknown upload type '${this.meta.type}'`))}}))}reset(){return this.index=-1,this.meta={},l(this,this.getUploadMetaData().then((e=>{this.meta=e,this.length=e.partUploadRequests?e.partUploadRequests.length:1}))),this}}const ee={headers:{},mimeType:"text/plain",getUploadMetaData(){}}
class ne extends Y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
e=h({},ee,e,{consume:(n,t)=>new Z(n,{headers:e.headers,getUploadMetaData:e.getUploadMetaData},t),configure(e){const{meta:n}=this.consumer,{type:t}=n,r=e=>h({},this.config,e)
if("SINGLE"===t||"MULTIPART_FORMDATA"===t){const{singleUploadUrl:e,singleUploadHeaders:t}=n
return r({action:e,headers:t})}if("MULTIPART"===t){const{headers:n,uploadUrl:t}=e.meta
return r({action:t,headers:n})}throw new Error(`TODO: unknown type '${t}'`)}}),super(e)}}},21917:(e,n,t)=>{"use strict"
function r(e,n){var t=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{}
n%2?r(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function s(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function c(e,n,t){return n&&s(e.prototype,n),t&&s(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,n,t){return(n=_(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,n){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},l(e,n)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,n,t){return f=p()?Reflect.construct.bind():function(e,n,t){var r=[null]
r.push.apply(r,n)
var i=new(Function.bind.apply(e,r))
return t&&l(i,t.prototype),i},f.apply(null,arguments)}function h(e){var n="function"==typeof Map?new Map:void 0
return h=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e
if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function")
if(void 0!==n){if(n.has(e))return n.get(e)
n.set(e,t)}function t(){return f(e,arguments,u(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),l(t,e)},h(e)}function m(e,n){if(null==e)return{}
var t,r,i=function(e,n){if(null==e)return{}
var t,r,i={},a=Object.keys(e)
for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t])
return i}(e,n)
if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e)
for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=t){var r,i,a,o,s=[],c=!0,d=!1
try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return
c=!1}else for(;!(c=(r=a.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(e){d=!0,i=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return s}}(e,n)||b(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){if(e){if("string"==typeof e)return T(e,n)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(e,n):void 0}}function T(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}function _(e){var n=function(e,n){if("object"!=typeof e||null===e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var r=t.call(e,"string")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e)
return"symbol"==typeof n?n:String(n)}t.r(n),t.d(n,{ConversationsIterable:()=>uo,MDError:()=>Aa,Mailbox:()=>dm,MailboxConnection:()=>um,apiErrors:()=>ga,clearStateForTesting:()=>no,clientErrors:()=>va,connectToMailbox:()=>lm,conversationStateIdentifierIs:()=>Ma,conversationStateUrnIs:()=>wa,getCommonTimeClient:()=>ya,getConversationById:()=>rf,getConvoStateFromMessageUrn:()=>Z,getRealtimeConnectionHeaders:()=>kh,getRealtimeQueryMap:()=>Ah,getSyncMessagesByConversationId:()=>of,graphQlErrors:()=>ba,hasMessageData:()=>Da,initialSyncConversations:()=>sf,isAString:()=>ce,isClientId:()=>Q,isCommonTimeAPIError:()=>Sa,isContentUpdateMode:()=>ie,isConversationCategory:()=>de,isConversationUrn:()=>$,isConvoActivationOption:()=>re,isError:()=>_a,isForwardedMessageContent:()=>oe,isIdentifier:()=>X,isInputMailboxFilter:()=>he,isMDError:()=>Ea,isMailboxCategoryFilter:()=>fe,isMarkConvoReadTypes:()=>te,isMemberParticipant:()=>J,isNextFunction:()=>ee,isOptionalSendData:()=>le,isSavedConversationState:()=>z,isSelectorFilterOption:()=>ue,isSubscriber:()=>ne,isTextFragment:()=>se,isTrackingData:()=>pe,isUrn:()=>Y,isUrnUpdateMap:()=>ae,messageStateClientIdIs:()=>Ua,realtimeErrors:()=>Ta,rejectAsMDResponseError:()=>ka,sendConversationUpdate:()=>mf,sendMessageToConversation:()=>gf})
var E=function(e,n){e.forEach((function(e){return e.next(n)}))},S=function(e){return null!=e},C=function(e){return null==e},A=function(){return"undefined"!=typeof window&&window&&"node"!==window.appEnvironment},k=function(e,n,t){return t.map((function(t,r){return e(t,r)?n(t):t}))},I=function(e){return Object.fromEntries(e)},R=function(e){return e.map((function(e){return[e.hostIdentityUrn,e]}))},w=function(e){return function(n){return n.reduce((function(n,t){return e(t)?n[0].push(t):n[1].push(t),[n[0],n[1]]}),[[],[]])}},x=function(e){return function(n){return!1===e.includes(n)}},M=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
return n&&0!==n.length?[].concat(v(e),v(n.filter(x(e)))):e},O=function(e){return!e},N=function(e){return Object.keys(e)},P=function(e){return Object.values(e)},U=function(e,n,t){var r=new Map(e)
return r.set(n,t),r},D=function(e,n){var t=new Map(e)
return t.delete(n)?t:e},L=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]},F=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]}
function B(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r]
return t.reduce((function(e,n){var t=e[n],r=m(e,[n].map(_))
return t?r:e}),e)}var j=function(e,n){if(e.has(n))return e
var t=new Set(e)
return Object.freeze(t.add(n))},q=function(e,n){var t=new Set(e)
return t.delete(n)?Object.freeze(t):e},V=function(e){return"object"===a(e)&&null!==e},H=function(e){return"number"==typeof e},G=function(e){return"string"==typeof e},K=function(e,n){return e.every(n)},W=function(e,n){return n.substring(Math.max(n.length-e,0))},z=function(e){return void 0!==e.entityUrn},Q=function(e){return G(e)&&/^[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+$/.test(e)},$=function(e){return/^urn:li:msg_conversation:.*$/.test(e)},Y=function(e){return G(e)&&e.startsWith("urn:")},X=function(e){return Y(e)||G(e)&&Q(e)},J=function(e){return"MEMBER"===e.kind},Z=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState"
return e.find((function(e){return void 0!==e.messages.getByIdentifier(n)}),t)}
function ee(e){return"function"==typeof e}function ne(e){var n=e
return!((null===n||"object"!==a(n))&&"function"!=typeof n||"function"!=typeof n.next||void 0!==n.error&&"function"!=typeof n.error||void 0!==n.complete&&"function"!=typeof n.complete)}function te(e){return"MARK_READ"===e||"MARK_UNREAD"===e||"NO_CHANGE"===e}function re(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&te(n.markConvoReadTypes)&&("FALLBACK_SYNC"===n.setConvoActiveSyncOption||"ALWAYS_SYNC"===n.setConvoActiveSyncOption)}function ie(e){return"ADD"===e||"REPLACE"===e}function ae(e){var n=e
return null!==n&&"object"===a(n)||"function"==typeof n}function oe(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&se(n.forwardedBody)&&se(n.footerText)&&(null!==n&&"object"===a(n)||"function"==typeof n)&&"number"==typeof n.originalSendAt&&ce(n.originalSenderUrn)}function se(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&ce(n.text)&&Array.isArray(n.attributes)&&n.attributes.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&"number"==typeof e.start&&"number"==typeof e.length&&(void 0===e.attributeKind||null===e.attributeKind||(null!==e.attributeKind&&"object"===a(e.attributeKind)||"function"==typeof e.attributeKind)&&(void 0===e.attributeKind.bold||null===e.attributeKind.bold||(null!==e.attributeKind.bold&&"object"===a(e.attributeKind.bold)||"function"==typeof e.attributeKind.bold)&&"pemberly_text_Bold"===e.attributeKind.bold.__typename)&&(void 0===e.attributeKind.italic||null===e.attributeKind.italic||(null!==e.attributeKind.italic&&"object"===a(e.attributeKind.italic)||"function"==typeof e.attributeKind.italic)&&"pemberly_text_Italic"===e.attributeKind.italic.__typename)&&(void 0===e.attributeKind.hyperlink||null===e.attributeKind.hyperlink||(null!==e.attributeKind.hyperlink&&"object"===a(e.attributeKind.hyperlink)||"function"==typeof e.attributeKind.hyperlink)&&"pemberly_text_Hyperlink"===e.attributeKind.hyperlink.__typename&&ce(e.attributeKind.hyperlink.url))&&(void 0===e.attributeKind.paragraph||null===e.attributeKind.paragraph||(null!==e.attributeKind.paragraph&&"object"===a(e.attributeKind.paragraph)||"function"==typeof e.attributeKind.paragraph)&&"pemberly_text_Paragraph"===e.attributeKind.paragraph.__typename)&&(void 0===e.attributeKind.list||null===e.attributeKind.list||(null!==e.attributeKind.list&&"object"===a(e.attributeKind.list)||"function"==typeof e.attributeKind.list)&&"pemberly_text_List"===e.attributeKind.list.__typename&&"boolean"==typeof e.attributeKind.list.ordered)&&(void 0===e.attributeKind.listItem||null===e.attributeKind.listItem||(null!==e.attributeKind.listItem&&"object"===a(e.attributeKind.listItem)||"function"==typeof e.attributeKind.listItem)&&"pemberly_text_ListItem"===e.attributeKind.listItem.__typename)&&(void 0===e.attributeKind.lineBreak||null===e.attributeKind.lineBreak||(null!==e.attributeKind.lineBreak&&"object"===a(e.attributeKind.lineBreak)||"function"==typeof e.attributeKind.lineBreak)&&"pemberly_text_LineBreak"===e.attributeKind.lineBreak.__typename)&&(void 0===e.attributeKind.underline||null===e.attributeKind.underline||(null!==e.attributeKind.underline&&"object"===a(e.attributeKind.underline)||"function"==typeof e.attributeKind.underline)&&"pemberly_text_Underline"===e.attributeKind.underline.__typename)&&(void 0===e.attributeKind.subscript||null===e.attributeKind.subscript||(null!==e.attributeKind.subscript&&"object"===a(e.attributeKind.subscript)||"function"==typeof e.attributeKind.subscript)&&"pemberly_text_Subscript"===e.attributeKind.subscript.__typename)&&(void 0===e.attributeKind.superscript||null===e.attributeKind.superscript||(null!==e.attributeKind.superscript&&"object"===a(e.attributeKind.superscript)||"function"==typeof e.attributeKind.superscript)&&"pemberly_text_Superscript"===e.attributeKind.superscript.__typename)&&(void 0===e.attributeKind.entity||null===e.attributeKind.entity||(null!==e.attributeKind.entity&&"object"===a(e.attributeKind.entity)||"function"==typeof e.attributeKind.entity)&&ce(e.attributeKind.entity.urn)))}))}function ce(e){return"string"==typeof e}function de(e){return"string"==typeof e}function ue(e){return"FilteredMailboxState"===e||"FullMailboxState"===e}function le(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&Array.isArray(n.renderContent)&&n.renderContent.every((function(e){return(null!==e&&"object"===a(e)||"function"==typeof e)&&(void 0===e.audio||null===e.audio||(null!==e.audio&&"object"===a(e.audio)||"function"==typeof e.audio)&&"number"==typeof e.audio.duration&&ce(e.audio.url))&&(void 0===e.awayMessage||null===e.awayMessage||(null!==e.awayMessage&&"object"===a(e.awayMessage)||"function"==typeof e.awayMessage)&&se(e.awayMessage.footerText)&&se(e.awayMessage.text))&&(void 0===e.externalMedia||null===e.externalMedia||(null!==e.externalMedia&&"object"===a(e.externalMedia)||"function"==typeof e.externalMedia)&&ce(e.externalMedia.entityUrn)&&(void 0===e.externalMedia.title||null===e.externalMedia.title||ce(e.externalMedia.title))&&(null!==e.externalMedia.media&&"object"===a(e.externalMedia.media)||"function"==typeof e.externalMedia.media)&&"number"==typeof e.externalMedia.media.originalHeight&&"number"==typeof e.externalMedia.media.originalWidth&&ce(e.externalMedia.media.url)&&(void 0===e.externalMedia.previewMedia||null===e.externalMedia.previewMedia||(null!==e.externalMedia.previewMedia&&"object"===a(e.externalMedia.previewMedia)||"function"==typeof e.externalMedia.previewMedia)&&"number"==typeof e.externalMedia.previewMedia.originalHeight&&"number"==typeof e.externalMedia.previewMedia.originalWidth&&ce(e.externalMedia.previewMedia.url)))&&(void 0===e.file||null===e.file||(null!==e.file&&"object"===a(e.file)||"function"==typeof e.file)&&ce(e.file.assetUrn)&&(void 0===e.file.byteSize||null===e.file.byteSize||"number"==typeof e.file.byteSize)&&ce(e.file.mediaType)&&ce(e.file.name)&&ce(e.file.url))&&(void 0===e.messageAdRenderContent||null===e.messageAdRenderContent||(null!==e.messageAdRenderContent&&"object"===a(e.messageAdRenderContent)||"function"==typeof e.messageAdRenderContent)&&(void 0===e.messageAdRenderContent.advertiserLabel||null===e.messageAdRenderContent.advertiserLabel||ce(e.messageAdRenderContent.advertiserLabel))&&(void 0===e.messageAdRenderContent.bodyTracking||null===e.messageAdRenderContent.bodyTracking||ce(e.messageAdRenderContent.bodyTracking))&&(void 0===e.messageAdRenderContent.legalTextTracking||null===e.messageAdRenderContent.legalTextTracking||ce(e.messageAdRenderContent.legalTextTracking))&&(void 0===e.messageAdRenderContent.openTracking||null===e.messageAdRenderContent.openTracking||ce(e.messageAdRenderContent.openTracking))&&(void 0===e.messageAdRenderContent.sponsoredCampaignUrn||null===e.messageAdRenderContent.sponsoredCampaignUrn||ce(e.messageAdRenderContent.sponsoredCampaignUrn))&&("PENDING"===e.messageAdRenderContent.status||"ACTIONED"===e.messageAdRenderContent.status)&&(null!==e.messageAdRenderContent.creativeAdsReportingInfo&&"object"===a(e.messageAdRenderContent.creativeAdsReportingInfo)||"function"==typeof e.messageAdRenderContent.creativeAdsReportingInfo)&&("MESSAGE_AD"===e.messageAdRenderContent.creativeAdsReportingInfo.contentSource||"SPONSORED_MESSAGE"===e.messageAdRenderContent.creativeAdsReportingInfo.contentSource)&&ce(e.messageAdRenderContent.creativeAdsReportingInfo.sponsoredAccountUrn)&&ce(e.messageAdRenderContent.creativeAdsReportingInfo.sponsoredCreativeUrn)&&(void 0===e.messageAdRenderContent.legalText||null===e.messageAdRenderContent.legalText||se(e.messageAdRenderContent.legalText))&&(void 0===e.messageAdRenderContent.sponsoredTracking||null===e.messageAdRenderContent.sponsoredTracking||(null!==e.messageAdRenderContent.sponsoredTracking&&"object"===a(e.messageAdRenderContent.sponsoredTracking)||"function"==typeof e.messageAdRenderContent.sponsoredTracking)&&ce(e.messageAdRenderContent.sponsoredTracking.adRequestId)&&("SPONSORED"===e.messageAdRenderContent.sponsoredTracking.activityType||"VIRAL"===e.messageAdRenderContent.sponsoredTracking.activityType)&&(void 0===e.messageAdRenderContent.sponsoredTracking.adTrackingCode||null===e.messageAdRenderContent.sponsoredTracking.adTrackingCode||ce(e.messageAdRenderContent.sponsoredTracking.adTrackingCode))&&(void 0===e.messageAdRenderContent.sponsoredTracking.leadTrackingCode||null===e.messageAdRenderContent.sponsoredTracking.leadTrackingCode||ce(e.messageAdRenderContent.sponsoredTracking.leadTrackingCode))&&(void 0===e.messageAdRenderContent.sponsoredTracking.version||null===e.messageAdRenderContent.sponsoredTracking.version||ce(e.messageAdRenderContent.sponsoredTracking.version))&&(void 0===e.messageAdRenderContent.sponsoredTracking.videoBehavior||null===e.messageAdRenderContent.sponsoredTracking.videoBehavior||"DISPLAY_WITH_LANDING_PAGE"===e.messageAdRenderContent.sponsoredTracking.videoBehavior||"DISPLAY_WITH_LEADGEN_FORM"===e.messageAdRenderContent.sponsoredTracking.videoBehavior||"OPEN_VIDEO_FULLSCREEN"===e.messageAdRenderContent.sponsoredTracking.videoBehavior)&&(void 0===e.messageAdRenderContent.sponsoredTracking.sponsoredCampaignUrn||null===e.messageAdRenderContent.sponsoredTracking.sponsoredCampaignUrn||ce(e.messageAdRenderContent.sponsoredTracking.sponsoredCampaignUrn))&&(void 0===e.messageAdRenderContent.sponsoredTracking.adServingUrn||null===e.messageAdRenderContent.sponsoredTracking.adServingUrn||ce(e.messageAdRenderContent.sponsoredTracking.adServingUrn)))&&(null!==e.messageAdRenderContent.subContent&&"object"===a(e.messageAdRenderContent.subContent)||"function"==typeof e.messageAdRenderContent.subContent)&&(void 0===e.messageAdRenderContent.subContent.action||null===e.messageAdRenderContent.subContent.action||ce(e.messageAdRenderContent.subContent.action))&&ce(e.messageAdRenderContent.subContent.actionText)&&(void 0===e.messageAdRenderContent.subContent.actionTracking||null===e.messageAdRenderContent.subContent.actionTracking||ce(e.messageAdRenderContent.subContent.actionTracking))&&(void 0===e.messageAdRenderContent.subContent.callToActionLabel||null===e.messageAdRenderContent.subContent.callToActionLabel||ce(e.messageAdRenderContent.subContent.callToActionLabel))&&(void 0===e.messageAdRenderContent.subContent.leadGenFormOpenTracking||null===e.messageAdRenderContent.subContent.leadGenFormOpenTracking||ce(e.messageAdRenderContent.subContent.leadGenFormOpenTracking))&&(void 0===e.messageAdRenderContent.subContent.leadGenFormUrn||null===e.messageAdRenderContent.subContent.leadGenFormUrn||ce(e.messageAdRenderContent.subContent.leadGenFormUrn))&&(void 0===e.messageAdRenderContent.subContent.leadTrackingCode||null===e.messageAdRenderContent.subContent.leadTrackingCode||ce(e.messageAdRenderContent.subContent.leadTrackingCode))&&(void 0===e.messageAdRenderContent.subContent.leadTrackingParams||null===e.messageAdRenderContent.subContent.leadTrackingParams||ce(e.messageAdRenderContent.subContent.leadTrackingParams))&&(void 0===e.messageAdRenderContent.subContent.tscpUrl||null===e.messageAdRenderContent.subContent.tscpUrl||ce(e.messageAdRenderContent.subContent.tscpUrl))&&(void 0===e.messageAdRenderContent.subContent.adUnit||null===e.messageAdRenderContent.subContent.adUnit||(null!==e.messageAdRenderContent.subContent.adUnit&&"object"===a(e.messageAdRenderContent.subContent.adUnit)||"function"==typeof e.messageAdRenderContent.subContent.adUnit)&&(void 0===e.messageAdRenderContent.subContent.adUnit.adUnitTracking||null===e.messageAdRenderContent.subContent.adUnit.adUnitTracking||ce(e.messageAdRenderContent.subContent.adUnit.adUnitTracking))&&(null!==e.messageAdRenderContent.subContent.adUnit.adUnit&&"object"===a(e.messageAdRenderContent.subContent.adUnit.adUnit)||"function"==typeof e.messageAdRenderContent.subContent.adUnit.adUnit)&&(void 0===e.messageAdRenderContent.subContent.adUnit.adUnit.attribution||null===e.messageAdRenderContent.subContent.adUnit.adUnit.attribution||ce(e.messageAdRenderContent.subContent.adUnit.adUnit.attribution))&&(void 0===e.messageAdRenderContent.subContent.adUnit.adUnit.rootUrl||null===e.messageAdRenderContent.subContent.adUnit.adUnit.rootUrl||ce(e.messageAdRenderContent.subContent.adUnit.adUnit.rootUrl))&&(void 0===e.messageAdRenderContent.subContent.adUnit.adUnit.digitalmediaAsset||null===e.messageAdRenderContent.subContent.adUnit.adUnit.digitalmediaAsset||ce(e.messageAdRenderContent.subContent.adUnit.adUnit.digitalmediaAsset))&&Array.isArray(e.messageAdRenderContent.subContent.adUnit.adUnit.artifacts)&&e.messageAdRenderContent.subContent.adUnit.adUnit.artifacts.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ce(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint||null===e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint||(null!==e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint&&"object"===a(e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint)||"function"==typeof e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint)&&"number"==typeof e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint.xOffsetPercentage&&"number"==typeof e.messageAdRenderContent.subContent.adUnit.adUnit.focalPoint.yOffsetPercentage)))&&(void 0===e.vectorImage||null===e.vectorImage||(null!==e.vectorImage&&"object"===a(e.vectorImage)||"function"==typeof e.vectorImage)&&(void 0===e.vectorImage.attribution||null===e.vectorImage.attribution||ce(e.vectorImage.attribution))&&(void 0===e.vectorImage.rootUrl||null===e.vectorImage.rootUrl||ce(e.vectorImage.rootUrl))&&(void 0===e.vectorImage.digitalmediaAsset||null===e.vectorImage.digitalmediaAsset||ce(e.vectorImage.digitalmediaAsset))&&Array.isArray(e.vectorImage.artifacts)&&e.vectorImage.artifacts.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ce(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.vectorImage.focalPoint||null===e.vectorImage.focalPoint||(null!==e.vectorImage.focalPoint&&"object"===a(e.vectorImage.focalPoint)||"function"==typeof e.vectorImage.focalPoint)&&"number"==typeof e.vectorImage.focalPoint.xOffsetPercentage&&"number"==typeof e.vectorImage.focalPoint.yOffsetPercentage))&&(void 0===e.video||null===e.video||(null!==e.video&&"object"===a(e.video)||"function"==typeof e.video)&&(void 0===e.video.entityUrn||null===e.video.entityUrn||ce(e.video.entityUrn))&&(void 0===e.video.aspectRatio||null===e.video.aspectRatio||"number"==typeof e.video.aspectRatio)&&(void 0===e.video.duration||null===e.video.duration||"number"==typeof e.video.duration)&&(void 0===e.video.liveStreamCreatedAt||null===e.video.liveStreamCreatedAt||"number"==typeof e.video.liveStreamCreatedAt)&&(void 0===e.video.liveStreamEndedAt||null===e.video.liveStreamEndedAt||"number"==typeof e.video.liveStreamEndedAt)&&ce(e.video.media)&&(void 0===e.video.nextMedia||null===e.video.nextMedia||ce(e.video.nextMedia))&&(void 0===e.video.prevMedia||null===e.video.prevMedia||ce(e.video.prevMedia))&&(void 0===e.video.provider||null===e.video.provider||"ADS"===e.video.provider||"ASSESSMENTS"===e.video.provider||"CAREER_VIDEO"===e.video.provider||"LEARNING"===e.video.provider||"LINKEDIN"===e.video.provider||"LIVE_VIDEO"===e.video.provider||"MESSAGING"===e.video.provider||"PROFILE_VIDEO"===e.video.provider||"STORIES"===e.video.provider||"UGC"===e.video.provider)&&ce(e.video.trackingId)&&(void 0===e.video.adaptiveStreams||null===e.video.adaptiveStreams||Array.isArray(e.video.adaptiveStreams)&&e.video.adaptiveStreams.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&(void 0===e.initialBitRate||null===e.initialBitRate||"number"==typeof e.initialBitRate)&&(void 0===e.mediaType||null===e.mediaType||ce(e.mediaType))&&("DASH"===e.protocol||"HDS"===e.protocol||"HLS"===e.protocol||"SMOOTH"===e.protocol)&&Array.isArray(e.masterPlaylists)&&e.masterPlaylists.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&(void 0===e.expiresAt||null===e.expiresAt||"number"==typeof e.expiresAt)&&ce(e.url)}))})))&&Array.isArray(e.video.progressiveStreams)&&e.video.progressiveStreams.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&"number"==typeof e.bitRate&&"number"==typeof e.height&&(void 0===e.mediaType||null===e.mediaType||ce(e.mediaType))&&(void 0===e.mimeType||null===e.mimeType||"MP3"===e.mimeType||"MP4"===e.mimeType||"WEBM"===e.mimeType)&&"number"==typeof e.size&&"number"==typeof e.width&&Array.isArray(e.streamingLocations)&&e.streamingLocations.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&(void 0===e.expiresAt||null===e.expiresAt||"number"==typeof e.expiresAt)&&ce(e.url)}))}))&&(void 0===e.video.thumbnail||null===e.video.thumbnail||(null!==e.video.thumbnail&&"object"===a(e.video.thumbnail)||"function"==typeof e.video.thumbnail)&&(void 0===e.video.thumbnail.attribution||null===e.video.thumbnail.attribution||ce(e.video.thumbnail.attribution))&&(void 0===e.video.thumbnail.rootUrl||null===e.video.thumbnail.rootUrl||ce(e.video.thumbnail.rootUrl))&&(void 0===e.video.thumbnail.digitalmediaAsset||null===e.video.thumbnail.digitalmediaAsset||ce(e.video.thumbnail.digitalmediaAsset))&&Array.isArray(e.video.thumbnail.artifacts)&&e.video.thumbnail.artifacts.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ce(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.video.thumbnail.focalPoint||null===e.video.thumbnail.focalPoint||(null!==e.video.thumbnail.focalPoint&&"object"===a(e.video.thumbnail.focalPoint)||"function"==typeof e.video.thumbnail.focalPoint)&&"number"==typeof e.video.thumbnail.focalPoint.xOffsetPercentage&&"number"==typeof e.video.thumbnail.focalPoint.yOffsetPercentage))&&(void 0===e.video.transcripts||null===e.video.transcripts||Array.isArray(e.video.transcripts)&&e.video.transcripts.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&(void 0===e.captionFile||null===e.captionFile||ce(e.captionFile))&&(void 0===e.captionFormat||null===e.captionFormat||"SRT"===e.captionFormat||"WEBVTT"===e.captionFormat)&&"boolean"==typeof e.isAutogenerated&&Array.isArray(e.lines)&&e.lines.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&ce(e.caption)&&"number"==typeof e.lineEndAt&&"number"==typeof e.lineStartAt}))&&(null!==e.locale&&"object"===a(e.locale)||"function"==typeof e.locale)&&(void 0===e.locale.country||null===e.locale.country||ce(e.locale.country))&&ce(e.locale.language)&&(void 0===e.locale.script||null===e.locale.script||ce(e.locale.script))&&(void 0===e.locale.variant||null===e.locale.variant||ce(e.locale.variant))&&(void 0===e.locale.extensions||null===e.locale.extensions||(null!==e.locale.extensions&&"object"===a(e.locale.extensions)||"function"==typeof e.locale.extensions)&&(void 0===e.locale.extensions.t||null===e.locale.extensions.t||ce(e.locale.extensions.t))&&(void 0===e.locale.extensions.u||null===e.locale.extensions.u||ce(e.locale.extensions.u))&&(void 0===e.locale.extensions.x||null===e.locale.extensions.x||ce(e.locale.extensions.x)))}))))&&(void 0===e.videoMeeting||null===e.videoMeeting||(null!==e.videoMeeting&&"object"===a(e.videoMeeting)||"function"==typeof e.videoMeeting)&&(void 0===e.videoMeeting.earliestStartAt||null===e.videoMeeting.earliestStartAt||"number"==typeof e.videoMeeting.earliestStartAt)&&(void 0===e.videoMeeting.expiresAt||null===e.videoMeeting.expiresAt||"number"==typeof e.videoMeeting.expiresAt)&&(void 0===e.videoMeeting.videoMeeting||null===e.videoMeeting.videoMeeting||(null!==e.videoMeeting.videoMeeting&&"object"===a(e.videoMeeting.videoMeeting)||"function"==typeof e.videoMeeting.videoMeeting)&&ce(e.videoMeeting.videoMeeting.entityUrn))&&(void 0===e.videoMeeting.timeRange||null===e.videoMeeting.timeRange||(null!==e.videoMeeting.timeRange&&"object"===a(e.videoMeeting.timeRange)||"function"==typeof e.videoMeeting.timeRange)&&(void 0===e.videoMeeting.timeRange.end||null===e.videoMeeting.timeRange.end||"number"==typeof e.videoMeeting.timeRange.end)&&(void 0===e.videoMeeting.timeRange.start||null===e.videoMeeting.timeRange.start||"number"==typeof e.videoMeeting.timeRange.start)))&&(void 0===e.hostUrnData||null===e.hostUrnData||(null!==e.hostUrnData&&"object"===a(e.hostUrnData)||"function"==typeof e.hostUrnData)&&ce(e.hostUrnData.hostUrn)&&ce(e.hostUrnData.type))&&(void 0===e.conversationAdsMessageContent||null===e.conversationAdsMessageContent||(null!==e.conversationAdsMessageContent&&"object"===a(e.conversationAdsMessageContent)||"function"==typeof e.conversationAdsMessageContent)&&ce(e.conversationAdsMessageContent.sponsoredMessageContentUrn)&&(void 0===e.conversationAdsMessageContent.sponsoredMessageTrackingId||null===e.conversationAdsMessageContent.sponsoredMessageTrackingId||"number"==typeof e.conversationAdsMessageContent.sponsoredMessageTrackingId)&&Array.isArray(e.conversationAdsMessageContent.sponsoredMessageOptions)&&e.conversationAdsMessageContent.sponsoredMessageOptions.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&(void 0===e.tscpUrl||null===e.tscpUrl||ce(e.tscpUrl))&&(void 0===e.clickAction||null===e.clickAction||(null!==e.clickAction&&"object"===a(e.clickAction)||"function"==typeof e.clickAction)&&(void 0===e.clickAction.externalWebsiteClickAction||null===e.clickAction.externalWebsiteClickAction||(null!==e.clickAction.externalWebsiteClickAction&&"object"===a(e.clickAction.externalWebsiteClickAction)||"function"==typeof e.clickAction.externalWebsiteClickAction)&&(void 0===e.clickAction.externalWebsiteClickAction.redirectUrl||null===e.clickAction.externalWebsiteClickAction.redirectUrl||ce(e.clickAction.externalWebsiteClickAction.redirectUrl)))&&(void 0===e.clickAction.leadGenClickAction||null===e.clickAction.leadGenClickAction||(null!==e.clickAction.leadGenClickAction&&"object"===a(e.clickAction.leadGenClickAction)||"function"==typeof e.clickAction.leadGenClickAction)&&(void 0===e.clickAction.leadGenClickAction.leadGenFormUrn||null===e.clickAction.leadGenClickAction.leadGenFormUrn||ce(e.clickAction.leadGenClickAction.leadGenFormUrn))&&(void 0===e.clickAction.leadGenClickAction.leadTrackingCode||null===e.clickAction.leadGenClickAction.leadTrackingCode||ce(e.clickAction.leadGenClickAction.leadTrackingCode))&&(void 0===e.clickAction.leadGenClickAction.leadTrackingParams||null===e.clickAction.leadGenClickAction.leadTrackingParams||ce(e.clickAction.leadGenClickAction.leadTrackingParams))))&&se(e.optionText)&&(void 0===e.sponsoredMessageOption||null===e.sponsoredMessageOption||(null!==e.sponsoredMessageOption&&"object"===a(e.sponsoredMessageOption)||"function"==typeof e.sponsoredMessageOption)&&ce(e.sponsoredMessageOption.entityUrn))})))&&(void 0===e.forwardedMessageContent||null===e.forwardedMessageContent||(null!==e.forwardedMessageContent&&"object"===a(e.forwardedMessageContent)||"function"==typeof e.forwardedMessageContent)&&"number"==typeof e.forwardedMessageContent.originalSendAt&&(null!==e.forwardedMessageContent.originalSender&&"object"===a(e.forwardedMessageContent.originalSender)||"function"==typeof e.forwardedMessageContent.originalSender)&&ce(e.forwardedMessageContent.originalSender.entityUrn)&&(void 0===e.forwardedMessageContent.originalSender.hostIdentityUrn||null===e.forwardedMessageContent.originalSender.hostIdentityUrn||ce(e.forwardedMessageContent.originalSender.hostIdentityUrn))&&(void 0===e.forwardedMessageContent.originalSender.backendUrn||null===e.forwardedMessageContent.originalSender.backendUrn||ce(e.forwardedMessageContent.originalSender.backendUrn))&&(void 0===e.forwardedMessageContent.originalSender.participantType||null===e.forwardedMessageContent.originalSender.participantType||(null!==e.forwardedMessageContent.originalSender.participantType&&"object"===a(e.forwardedMessageContent.originalSender.participantType)||"function"==typeof e.forwardedMessageContent.originalSender.participantType)&&(void 0===e.forwardedMessageContent.originalSender.participantType.member||null===e.forwardedMessageContent.originalSender.participantType.member||(null!==e.forwardedMessageContent.originalSender.participantType.member&&"object"===a(e.forwardedMessageContent.originalSender.participantType.member)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.member)&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profileUrl||null===e.forwardedMessageContent.originalSender.participantType.member.profileUrl||ce(e.forwardedMessageContent.originalSender.participantType.member.profileUrl))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.distance||null===e.forwardedMessageContent.originalSender.participantType.member.distance||"DISTANCE_1"===e.forwardedMessageContent.originalSender.participantType.member.distance||"DISTANCE_2"===e.forwardedMessageContent.originalSender.participantType.member.distance||"DISTANCE_3"===e.forwardedMessageContent.originalSender.participantType.member.distance||"OUT_OF_NETWORK"===e.forwardedMessageContent.originalSender.participantType.member.distance||"SELF"===e.forwardedMessageContent.originalSender.participantType.member.distance)&&se(e.forwardedMessageContent.originalSender.participantType.member.firstName)&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.lastName||null===e.forwardedMessageContent.originalSender.participantType.member.lastName||se(e.forwardedMessageContent.originalSender.participantType.member.lastName))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.headline||null===e.forwardedMessageContent.originalSender.participantType.member.headline||se(e.forwardedMessageContent.originalSender.participantType.member.headline))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profilePicture||null===e.forwardedMessageContent.originalSender.participantType.member.profilePicture||(null!==e.forwardedMessageContent.originalSender.participantType.member.profilePicture&&"object"===a(e.forwardedMessageContent.originalSender.participantType.member.profilePicture)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.member.profilePicture)&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.attribution||null===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.attribution||ce(e.forwardedMessageContent.originalSender.participantType.member.profilePicture.attribution))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.rootUrl||null===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.rootUrl||ce(e.forwardedMessageContent.originalSender.participantType.member.profilePicture.rootUrl))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.digitalmediaAsset||null===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.digitalmediaAsset||ce(e.forwardedMessageContent.originalSender.participantType.member.profilePicture.digitalmediaAsset))&&Array.isArray(e.forwardedMessageContent.originalSender.participantType.member.profilePicture.artifacts)&&e.forwardedMessageContent.originalSender.participantType.member.profilePicture.artifacts.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ce(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint||null===e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint||(null!==e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint&&"object"===a(e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint)&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint.xOffsetPercentage&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.member.profilePicture.focalPoint.yOffsetPercentage))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.pronoun||null===e.forwardedMessageContent.originalSender.participantType.member.pronoun||(null!==e.forwardedMessageContent.originalSender.participantType.member.pronoun&&"object"===a(e.forwardedMessageContent.originalSender.participantType.member.pronoun)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.member.pronoun)&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.pronoun.customPronoun||null===e.forwardedMessageContent.originalSender.participantType.member.pronoun.customPronoun||ce(e.forwardedMessageContent.originalSender.participantType.member.pronoun.customPronoun))&&(void 0===e.forwardedMessageContent.originalSender.participantType.member.pronoun.standardizedPronoun||null===e.forwardedMessageContent.originalSender.participantType.member.pronoun.standardizedPronoun||"HE_HIM"===e.forwardedMessageContent.originalSender.participantType.member.pronoun.standardizedPronoun||"SHE_HER"===e.forwardedMessageContent.originalSender.participantType.member.pronoun.standardizedPronoun||"THEY_THEM"===e.forwardedMessageContent.originalSender.participantType.member.pronoun.standardizedPronoun)))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization||null===e.forwardedMessageContent.originalSender.participantType.organization||(null!==e.forwardedMessageContent.originalSender.participantType.organization&&"object"===a(e.forwardedMessageContent.originalSender.participantType.organization)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.organization)&&"boolean"==typeof e.forwardedMessageContent.originalSender.participantType.organization.following&&("COMPANY"===e.forwardedMessageContent.originalSender.participantType.organization.pageType||"SCHOOL"===e.forwardedMessageContent.originalSender.participantType.organization.pageType||"SHOWCASE"===e.forwardedMessageContent.originalSender.participantType.organization.pageType)&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.pageUrl||null===e.forwardedMessageContent.originalSender.participantType.organization.pageUrl||ce(e.forwardedMessageContent.originalSender.participantType.organization.pageUrl))&&se(e.forwardedMessageContent.originalSender.participantType.organization.name)&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.tagline||null===e.forwardedMessageContent.originalSender.participantType.organization.tagline||se(e.forwardedMessageContent.originalSender.participantType.organization.tagline))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.logo||null===e.forwardedMessageContent.originalSender.participantType.organization.logo||(null!==e.forwardedMessageContent.originalSender.participantType.organization.logo&&"object"===a(e.forwardedMessageContent.originalSender.participantType.organization.logo)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.organization.logo)&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.logo.attribution||null===e.forwardedMessageContent.originalSender.participantType.organization.logo.attribution||ce(e.forwardedMessageContent.originalSender.participantType.organization.logo.attribution))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.logo.rootUrl||null===e.forwardedMessageContent.originalSender.participantType.organization.logo.rootUrl||ce(e.forwardedMessageContent.originalSender.participantType.organization.logo.rootUrl))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.logo.digitalmediaAsset||null===e.forwardedMessageContent.originalSender.participantType.organization.logo.digitalmediaAsset||ce(e.forwardedMessageContent.originalSender.participantType.organization.logo.digitalmediaAsset))&&Array.isArray(e.forwardedMessageContent.originalSender.participantType.organization.logo.artifacts)&&e.forwardedMessageContent.originalSender.participantType.organization.logo.artifacts.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ce(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint||null===e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint||(null!==e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint&&"object"===a(e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint)&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint.xOffsetPercentage&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.organization.logo.focalPoint.yOffsetPercentage))&&(void 0===e.forwardedMessageContent.originalSender.participantType.organization.industryName||null===e.forwardedMessageContent.originalSender.participantType.organization.industryName||se(e.forwardedMessageContent.originalSender.participantType.organization.industryName)))&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom||null===e.forwardedMessageContent.originalSender.participantType.custom||(null!==e.forwardedMessageContent.originalSender.participantType.custom&&"object"===a(e.forwardedMessageContent.originalSender.participantType.custom)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.custom)&&se(e.forwardedMessageContent.originalSender.participantType.custom.name)&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom.image||null===e.forwardedMessageContent.originalSender.participantType.custom.image||(null!==e.forwardedMessageContent.originalSender.participantType.custom.image&&"object"===a(e.forwardedMessageContent.originalSender.participantType.custom.image)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.custom.image)&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom.image.attribution||null===e.forwardedMessageContent.originalSender.participantType.custom.image.attribution||ce(e.forwardedMessageContent.originalSender.participantType.custom.image.attribution))&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom.image.rootUrl||null===e.forwardedMessageContent.originalSender.participantType.custom.image.rootUrl||ce(e.forwardedMessageContent.originalSender.participantType.custom.image.rootUrl))&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom.image.digitalmediaAsset||null===e.forwardedMessageContent.originalSender.participantType.custom.image.digitalmediaAsset||ce(e.forwardedMessageContent.originalSender.participantType.custom.image.digitalmediaAsset))&&Array.isArray(e.forwardedMessageContent.originalSender.participantType.custom.image.artifacts)&&e.forwardedMessageContent.originalSender.participantType.custom.image.artifacts.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&"number"==typeof e.width&&"number"==typeof e.height&&ce(e.fileIdentifyingUrlPathSegment)}))&&(void 0===e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint||null===e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint||(null!==e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint&&"object"===a(e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint)||"function"==typeof e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint)&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint.xOffsetPercentage&&"number"==typeof e.forwardedMessageContent.originalSender.participantType.custom.image.focalPoint.yOffsetPercentage))))&&se(e.forwardedMessageContent.forwardedBody)&&se(e.forwardedMessageContent.footerText))&&(void 0===e.unavailableContent||null===e.unavailableContent||(null!==e.unavailableContent&&"object"===a(e.unavailableContent)||"function"==typeof e.unavailableContent)&&("AUDIO"===e.unavailableContent.contentType||"FILE"===e.unavailableContent.contentType||"NON_MULTIMEDIA"===e.unavailableContent.contentType||"OTHER_MULTIMEDIA"===e.unavailableContent.contentType||"UNKNOWN"===e.unavailableContent.contentType||"VIDEO"===e.unavailableContent.contentType)&&(void 0===e.unavailableContent.unavailableReason||null===e.unavailableContent.unavailableReason||se(e.unavailableContent.unavailableReason)))}))&&(void 0===n.messageRequestContextByRecipient||Array.isArray(n.messageRequestContextByRecipient)&&n.messageRequestContextByRecipient.every((function(e){return(null!==e&&"object"===a(e)||"function"==typeof e)&&ce(e.hostRecipientUrn)&&ce(e.contextEntityUrn)})))&&(void 0===n.messageSubject||ce(n.messageSubject))&&(void 0===n.quickActionContextUrn||ce(n.quickActionContextUrn))&&(void 0===n.invitationUrn||ce(n.invitationUrn))&&(void 0===n.forwardedMessageUrn||ce(n.forwardedMessageUrn))&&(void 0===n.conversationState||"ACCEPTED"===n.conversationState||"DECLINED"===n.conversationState||"PENDING"===n.conversationState)&&(void 0===n.hostMessageCreateContent||(null!==n.hostMessageCreateContent&&"object"===a(n.hostMessageCreateContent)||"function"==typeof n.hostMessageCreateContent)&&Object.entries(n.hostMessageCreateContent).every((function(e){var n=g(e,2),t=n[0]
return n[1],ce(t)})))&&(void 0===n.conversationTitle||ce(n.conversationTitle))}function pe(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&(void 0===n.messageComposeFlowTrackingId||ce(n.messageComposeFlowTrackingId))&&(void 0===n.sourceType||ce(n.sourceType))&&(void 0===n.pageInstance||(null!==n.pageInstance&&"object"===a(n.pageInstance)||"function"==typeof n.pageInstance)&&ce(n.pageInstance.pageUrn)&&ce(n.pageInstance.trackingId)||(null!==n.pageInstance&&"object"===a(n.pageInstance)||"function"==typeof n.pageInstance)&&ce(n.pageInstance.pageUrn)&&ce(n.pageInstance.trackingId))&&(void 0===n.trackingId||ce(n.trackingId))&&(void 0===n.isSystemClipboardUsed||!1===n.isSystemClipboardUsed||!0===n.isSystemClipboardUsed)}function fe(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&"category"===n.kind&&ce(n.category)}function he(e){var n=e
return fe(n)||(null!==n&&"object"===a(n)||"function"==typeof n)&&"search"===n.kind&&Array.isArray(n.categories)&&n.categories.every((function(e){return ce(e)}))&&(void 0===n.keywords||ce(n.keywords))&&(void 0===n.read||!1===n.read||!0===n.read)&&"boolean"==typeof n.firstDegreeConnections}function me(e,n){var t=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{}
n%2?me(Object(t),!0).forEach((function(n){Te(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ge(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ve(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,n,t){return n&&ve(e.prototype,n),t&&ve(e,t),e}function Te(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=t){var r,i,a=[],o=!0,s=!1
try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||Se(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,n){if(e){if("string"==typeof e)return Ce(e,n)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ce(e,n):void 0}}function Ce(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}var Ae,ke,Ie,Re,we=function(){new Date
for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]},xe=function(){return"undefined"!=typeof window&&window&&"node"!==window.appEnvironment},Me=(Ae=function(e,n){return void 0===e[n]},function(e){return(n=e,Object.keys(n)).reduce((function(n,t){return Ae(e,t)?n:ye(ye({},n),{},Te({},t,e[t]))}),{})
var n}),Oe=(ke=function(){return!0},function(e){return e.then(ke).catch(ke)})
!function(e){e.invalid="com.linkedin.realtimefrontend.Invalid",e.clientConnection="com.linkedin.realtimefrontend.ClientConnection",e.heartbeat="com.linkedin.realtimefrontend.Heartbeat",e.decoratedEvent="com.linkedin.realtimefrontend.DecoratedEvent"}(Ie||(Ie={})),function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSE=2]="CLOSE"}(Re||(Re={}))
const Ne=/^(\/[^?]+)\??(.*)$/,Pe=/[,()':]/g,Ue=/[,()':]/
function De(e){const n=JSON.parse(JSON.stringify(e))
return function(e,n){if("object"!=typeof e)throw new Error("You must pass either an array or an object to the encode function.")}(n),Fe(n,!1)}function Le(e){const n=JSON.parse(JSON.stringify(e))
return function(e,n){if(Array.isArray(e)||"object"!=typeof e||null===e)throw new Error("You must pass an object to the paramEncode function. Use arrayParamEncode.")}(n),Object.keys(n).map((e=>`${Be(e)}=${Fe(n[e],!1)}`)).join("&")}function Fe(e,n){return Array.isArray(e)?function(e,n){const t=new Array(e.length)
for(let r=0;r<e.length;r++)t[r]=Fe(e[r],n)
return`List(${t.join(",")})`}(e,n):function(e){return"object"==typeof e&&null!==e}(e)?function(e,n){return`(${Object.keys(e).map((t=>`${Be(t,n)}:${Fe(e[t],n)}`)).join(",")})`}(e,n):Be(e,n)}function Be(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return""===e?"''":n&&"string"==typeof e&&Ue.test(e)?e.replace(Pe,escape):n?e:encodeURIComponent(e).replace(Pe,escape)}Object.freeze({S_100_CONTINUE:100,S_101_SWITCHING_PROTOCOLS:101,S_200_OK:200,S_201_CREATED:201,S_202_ACCEPTED:202,S_203_NON_AUTHORITATIVE_INFORMATION:203,S_204_NO_CONTENT:204,S_205_RESET_CONTENT:205,S_206_PARTIAL_CONTENT:206,S_207_MULTI_STATUS:207,S_300_MULTIPLE_CHOICES:300,S_301_MOVED_PERMANENTLY:301,S_302_FOUND:302,S_303_SEE_OTHER:303,S_304_NOT_MODIFIED:304,S_305_USE_PROXY:305,S_307_TEMPORARY_REDIRECT:307,S_400_BAD_REQUEST:400,S_401_UNAUTHORIZED:401,S_402_PAYMENT_REQUIRED:402,S_403_FORBIDDEN:403,S_404_NOT_FOUND:404,S_405_METHOD_NOT_ALLOWED:405,S_406_NOT_ACCEPTABLE:406,S_407_PROXY_AUTHENTICATION_REQUIRED:407,S_408_REQUEST_TIMEOUT:408,S_409_CONFLICT:409,S_410_GONE:410,S_411_LENGTH_REQUIRED:411,S_412_PRECONDITION_FAILED:412,S_413_REQUEST_ENTITY_TOO_LARGE:413,S_414_REQUEST_URI_TOO_LONG:414,S_415_UNSUPPORTED_MEDIA_TYPE:415,S_416_REQUESTED_RANGE_NOT_SATISFIABLE:416,S_417_EXPECTATION_FAILED:417,S_422_UNPROCESSABLE_ENTITY:422,S_423_LOCKED:423,S_424_FAILED_DEPENDENCY:424,S_428_PRECONDITION_REQUIRED:428,S_429_TOO_MANY_REQUESTS:429,S_500_INTERNAL_SERVER_ERROR:500,S_501_NOT_IMPLEMENTED:501,S_502_BAD_GATEWAY:502,S_503_SERVICE_UNAVAILABLE:503,S_504_GATEWAY_TIMEOUT:504,S_505_HTTP_VERSION_NOT_SUPPORTED:505})
const je="application/x-www-form-urlencoded"
var qe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}
function Ve(e){var n={exports:{}}
return e(n,n.exports),n.exports}var He=Ve((function(e,n){e.exports=function(){var e=new RegExp("urn:[^:]+:([a-z]\\w*)(?::(.+))?"),n=/^fs_/
function t(t){if("string"!=typeof t)throw new TypeError("URNs must be of type string, but the parameter passed to extractEntityInfoFromUrn was of type "+typeof t+".")
var r,i,a=e.exec(t)
return a&&(r=a[1].replace(n,""),i=a[2]),{id:i,type:r}}var r=/(?![^(]*\)),/
return{checkForEntityId:function(n){var t=e.exec(n)
return t?t[2]:n},extractEntityInfoFromUrn:t,urnToObject:function e(n){var i=t(n),a=i.id,o=i.type,s={}
if("("===a.charAt(0)){for(var c,d=a.substring(1,a.length-1).split(r),u=0;c=d[u];++u)0===c.indexOf("urn")&&(d[u]=e(c))
a=d}return s[o]=a,s}}}()}))
function Ge(e){return void 0!==e.error&&null!==e.error}var Ke,We=function(e,n,t){return t.indexOf(e)===n},ze=function(e){return function(n){return!e.includes(n)}},Qe=function(e){return Object.fromEntries?Object.fromEntries(e):Ee(e).reduce((function(e,n){var t=_e(n,2),r=t[0],i=t[1]
return e[r]=i,e}),{})},$e=function(e){return Object.keys(e)},Ye=function(e,n,t){return function(e){return null==e}(e)?n:Math.max(t,e)},Xe=function(e,n){return"".concat(e).concat(e.endsWith("/")||n.startsWith("/")?"":"/").concat(n)},Je=function(e){return 5===Math.floor(e/100)},Ze=function(e,n,t,r,i){var a,o,s
return i?(a=r.map((function(n){return{clientConnectionId:e,topic:n}})),o=Qe(a.map((function(e){return[De(e),{authToken:i}]})))):(a=r.map((function(n){return{clientConnectionId:e,topic:n}})),o=Qe(a.map((function(e){return[De(e),{}]})))),{method:"PUT",url:"".concat((s=n,Xe(s,"realtime/realtimeFrontendSubscriptions")),"?").concat(Le({ids:a})),body:{entities:o},headers:t}},en=function(){function e(n,t,r){var i=this
ge(this,e),Te(this,"_endpoint",void 0),Te(this,"_connectionId",void 0),Te(this,"_requestHeaders",void 0),Te(this,"_serverClockTimeDiff",0),Te(this,"_lastTimeClockSynced",0),Te(this,"_recentServerClockTimeDiffs",[]),Te(this,"_mpName",void 0),Te(this,"_mpVersion",void 0),Te(this,"_clientId",void 0),Te(this,"parseResponse",(function(e,n){var t,r=null!==(t=e.errors)&&void 0!==t?t:{},i=Object.keys(r).filter((function(n){return!Je(e.errors[n].status)})),a=Object.keys(r).filter((function(n){return Je(e.errors[n].status)}))
return[n.filter((function(e){return!i.includes(e)&&!a.includes(e)})),i,a,e.errors]})),Te(this,"apiCallSubscribe",(function(e,n){return i.connectionId?i.sendRequest(Ze(i.connectionId,i._endpoint,i._requestHeaders,e,n)):Promise.reject({status:900,message:"API: subscribe cannot be performed because of missing connectionID"})})),Te(this,"apiCallUnsubscribe",(function(e){return null===i.connectionId?Promise.reject({status:900,message:"API: unsubscribe cannot be performed because of missing connectionID"}):i.sendRequest(function(e,n,t,r){return ye(ye({},Ze(e,n,t,r)),{},{method:"DELETE"})}(i.connectionId,i._endpoint,i._requestHeaders,e))})),Te(this,"apiCallClockSync",(function(){return i.sendRequest(function(e,n){return{method:"GET",url:"".concat((t=e,Xe(t,"realtime/realtimeFrontendTimestamp"))),body:[],headers:n}
var t}(i._endpoint,i._requestHeaders))})),Te(this,"apiCallConnectivityTrack",(function(e,n){return i.sendRequest(function(e,n,t,r,i){var a,o={isFirstHeartbeat:"FIRST_BEAT"===r,isLastHeartbeat:"FINAL_BEAT"===r,realtimeSessionId:e,mpName:i.name,mpVersion:i.version,clientId:i.clientId}
return{method:"POST",url:"".concat((a=n,Xe(a,"realtime/realtimeFrontendClientConnectivityTracking")),"?").concat(Le({action:"sendHeartbeat"})),body:o,headers:t}}(e,i._endpoint,i._requestHeaders,n,{name:i._mpName,version:i._mpVersion,clientId:i._clientId}))})),this._endpoint=n,this._connectionId=null,this._requestHeaders=t,this._mpName=r.name,this._mpVersion=r.version,this._clientId=r.id}return be(e,[{key:"connectionId",get:function(){return this._connectionId}},{key:"setConnectionId",value:function(e){e&&e.length>0&&(this._connectionId=e)}},{key:"setSessionId",value:function(e){this._requestHeaders["x-li-realtime-session"]=e}},{key:"setMpInfo",value:function(e){this._mpName=e.name,this._mpVersion=e.version,this._clientId=e.id}},{key:"disconnect",value:function(){this._connectionId=null}},{key:"subscribe",value:function(e,n){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
return new Promise((function(i,a){null!==t.connectionId?t.apiCallSubscribe(e,n).then((function(n){i(t.parseResponse(n,e))})).catch((function(o){var s=o.status
412!==s&&Je(s)&&r<2?t.subscribe(e,n,r+1).then(i):a(o)})):a(new Error("RealtimeAPI: error - missing connectionID"))}))}},{key:"unsubscribe",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
return new Promise((function(r,i){null!==n.connectionId?n.apiCallUnsubscribe(e).then((function(t){var i=n.parseResponse(t,e)
r(i)})).catch((function(a){var o=a.status
412!==o&&Je(o)&&t<2?n.unsubscribe(e,t+1).then(r).catch(i):i(a)})):i(new Error("RealtimeAPI: error - missing connectionID"))}))}},{key:"getTimestamp",value:function(){return this.apiCallClockSync()}},{key:"trackActiveConnection",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALIVE"
return this.apiCallConnectivityTrack(e,n).catch((function(e){if("FINAL_BEAT"!==n)return console.warn("Realtime: session heartbeat failed",e),{type:"WARNING_INFO",message:"Realtime: session heartbeat failed"}}))}},{key:"syncRealtimeServerClockTime",value:function(){var e=this,n=Date.now()
if(!(n-this._lastTimeClockSynced<86e4))return this._lastTimeClockSynced=n,this.getTimestamp().then((function(t){var r=Date.now()
e._recentServerClockTimeDiffs=e._recentServerClockTimeDiffs.filter((function(e){return r-e.syncedAt<36e5}))
var i=r-n
0===i&&(i=1),e._recentServerClockTimeDiffs.push({syncedAt:r,clockDiff:t.timestamp-(n+r)/2,weight:1/i}),e._serverClockTimeDiff=e._computeWeightedAverageOfServerClockTimeDiff(e._recentServerClockTimeDiffs)}))}},{key:"getServerClockTime",value:function(){return this._serverClockTimeDiff?Date.now()+this._serverClockTimeDiff:-1}},{key:"_computeWeightedAverageOfServerClockTimeDiff",value:function(e){var n,t=0,r=0,i=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(!t){if(Array.isArray(e)||(t=Se(e))){t&&(e=t)
var r=0,i=function(){}
return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1
return{s:function(){t=t.call(e)},n:function(){var e=t.next()
return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}(e)
try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.clockDiff,s=a.weight
t+=s*o,r+=s}}catch(e){i.e(e)}finally{i.f()}return Math.round(t/r)}},{key:"sendRequest",value:function(e){return new Promise((function(n,t){var r=ye({},e),i=ye({},e.headers)
r.body&&(r.body=JSON.stringify(r.body))
var a=new XMLHttpRequest
a.open(r.method,r.url),Object.entries(i).forEach((function(e){var n=_e(e,2),t=n[0],r=n[1]
return a.setRequestHeader(t,r)})),a.onerror=function(e){t({status:a.status,message:e.message||"Realtime: request failed"})},r.url.length>1e3&&(r.forceQueryTunnel=!0,r=function(e){if(!0===e.forceQueryTunnel){const{path:n,queryString:t}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
const n=Ne.exec(e)
if(n){const[,e="",t=""]=n
return{path:e,queryString:t}}return{path:"",queryString:""}}(e.url||void 0)
if(t){const r={}
for(const n in e.headers)"CONTENT-TYPE"!==n.toUpperCase()&&(r[n]=e.headers[n]||"")
let i,a
if(r["X-HTTP-Method-Override"]=e.method||"GET",e.body){const n=`RESTLI_${Date.now()}`
a="multipart/mixed; boundary="+n,i=["--"+n,"Content-Type: "+je,"",t,"--"+n,"Content-Type: application/json","",e.body,"--"+n+"--"].join("\r\n")}else a=je,i=t
return r["Content-Type"]=a,{body:i,headers:r,method:"POST",url:n}}}const n={method:e.method,url:e.url}
return e.body&&(n.body=e.body),n}(r)),a.onreadystatechange=function(){var e=a.status
if(a.readyState===a.DONE)if(e>=200&&e<300)try{n(a.responseText?JSON.parse(a.responseText):null)}catch(n){t({status:e,message:"Realtime: Invalid JSON in API response"})}else t({status:null!=e?e:500,message:"Realtime: API Server Error"})},a.withCredentials=!0,a.send(r.body)}))}}]),e}(),nn=function(){function e(n){ge(this,e),Te(this,"_timer",0),Te(this,"_taskFunction",void 0),this._taskFunction=n}return be(e,[{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0
this._timer&&this.cancel(),this.schedule(this._taskFunction,e)}},{key:"cancel",value:function(){this._timer&&(clearTimeout(this._timer),this._timer=0)}},{key:"schedule",value:function(e,n){var t=this
this._timer=setTimeout((function(){e((function(r){return t.schedule(e,r||n)}))}),n)}}]),e}()
function tn(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(!t){if(Array.isArray(e)||(t=an(e))||n&&e&&"number"==typeof e.length){t&&(e=t)
var r=0,i=function(){}
return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1
return{s:function(){t=t.call(e)},n:function(){var e=t.next()
return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function rn(e){return function(e){if(Array.isArray(e))return on(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||an(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,n){if(e){if("string"==typeof e)return on(e,n)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?on(e,n):void 0}}function on(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function dn(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,n,t){return n&&dn(e.prototype,n),t&&dn(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ln(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var pn,fn=new Uint8Array(16)
function hn(){if(!pn&&!(pn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return pn(fn)}var mn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i
function yn(e){return"string"==typeof e&&mn.test(e)}for(var gn=[],vn=0;vn<256;++vn)gn.push((vn+256).toString(16).slice(1))
function bn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
return(gn[e[n+0]]+gn[e[n+1]]+gn[e[n+2]]+gn[e[n+3]]+"-"+gn[e[n+4]]+gn[e[n+5]]+"-"+gn[e[n+6]]+gn[e[n+7]]+"-"+gn[e[n+8]]+gn[e[n+9]]+"-"+gn[e[n+10]]+gn[e[n+11]]+gn[e[n+12]]+gn[e[n+13]]+gn[e[n+14]]+gn[e[n+15]]).toLowerCase()}function Tn(e){if(!yn(e))throw TypeError("Invalid UUID")
var n,t=new Uint8Array(16)
return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=255&n,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=255&n,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=255&n,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=255&n,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=255&n,t}function _n(e,n,t){function r(e,r,i,a){var o
if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e))
for(var n=[],t=0;t<e.length;++t)n.push(e.charCodeAt(t))
return n}(e)),"string"==typeof r&&(r=Tn(r)),16!==(null===(o=r)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")
var s=new Uint8Array(16+e.length)
if(s.set(r),s.set(e,r.length),(s=t(s))[6]=15&s[6]|n,s[8]=63&s[8]|128,i){a=a||0
for(var c=0;c<16;++c)i[a+c]=s[c]
return i}return bn(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function En(e){return 14+(e+64>>>9<<4)+1}function Sn(e,n){var t=(65535&e)+(65535&n)
return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}function Cn(e,n,t,r,i,a){return Sn((o=Sn(Sn(n,e),Sn(r,a)))<<(s=i)|o>>>32-s,t)
var o,s}function An(e,n,t,r,i,a,o){return Cn(n&t|~n&r,e,n,i,a,o)}function kn(e,n,t,r,i,a,o){return Cn(n&r|t&~r,e,n,i,a,o)}function In(e,n,t,r,i,a,o){return Cn(n^t^r,e,n,i,a,o)}function Rn(e,n,t,r,i,a,o){return Cn(t^(n|~r),e,n,i,a,o)}_n("v3",48,(function(e){if("string"==typeof e){var n=unescape(encodeURIComponent(e))
e=new Uint8Array(n.length)
for(var t=0;t<n.length;++t)e[t]=n.charCodeAt(t)}return function(e){for(var n=[],t=32*e.length,r="0123456789abcdef",i=0;i<t;i+=8){var a=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(a>>>4&15)+r.charAt(15&a),16)
n.push(o)}return n}(function(e,n){e[n>>5]|=128<<n%32,e[En(n)-1]=n
for(var t=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var s=t,c=r,d=i,u=a
t=An(t,r,i,a,e[o],7,-680876936),a=An(a,t,r,i,e[o+1],12,-389564586),i=An(i,a,t,r,e[o+2],17,606105819),r=An(r,i,a,t,e[o+3],22,-1044525330),t=An(t,r,i,a,e[o+4],7,-176418897),a=An(a,t,r,i,e[o+5],12,1200080426),i=An(i,a,t,r,e[o+6],17,-1473231341),r=An(r,i,a,t,e[o+7],22,-45705983),t=An(t,r,i,a,e[o+8],7,1770035416),a=An(a,t,r,i,e[o+9],12,-1958414417),i=An(i,a,t,r,e[o+10],17,-42063),r=An(r,i,a,t,e[o+11],22,-1990404162),t=An(t,r,i,a,e[o+12],7,1804603682),a=An(a,t,r,i,e[o+13],12,-40341101),i=An(i,a,t,r,e[o+14],17,-1502002290),t=kn(t,r=An(r,i,a,t,e[o+15],22,1236535329),i,a,e[o+1],5,-165796510),a=kn(a,t,r,i,e[o+6],9,-1069501632),i=kn(i,a,t,r,e[o+11],14,643717713),r=kn(r,i,a,t,e[o],20,-373897302),t=kn(t,r,i,a,e[o+5],5,-701558691),a=kn(a,t,r,i,e[o+10],9,38016083),i=kn(i,a,t,r,e[o+15],14,-660478335),r=kn(r,i,a,t,e[o+4],20,-405537848),t=kn(t,r,i,a,e[o+9],5,568446438),a=kn(a,t,r,i,e[o+14],9,-1019803690),i=kn(i,a,t,r,e[o+3],14,-187363961),r=kn(r,i,a,t,e[o+8],20,1163531501),t=kn(t,r,i,a,e[o+13],5,-1444681467),a=kn(a,t,r,i,e[o+2],9,-51403784),i=kn(i,a,t,r,e[o+7],14,1735328473),t=In(t,r=kn(r,i,a,t,e[o+12],20,-1926607734),i,a,e[o+5],4,-378558),a=In(a,t,r,i,e[o+8],11,-2022574463),i=In(i,a,t,r,e[o+11],16,1839030562),r=In(r,i,a,t,e[o+14],23,-35309556),t=In(t,r,i,a,e[o+1],4,-1530992060),a=In(a,t,r,i,e[o+4],11,1272893353),i=In(i,a,t,r,e[o+7],16,-155497632),r=In(r,i,a,t,e[o+10],23,-1094730640),t=In(t,r,i,a,e[o+13],4,681279174),a=In(a,t,r,i,e[o],11,-358537222),i=In(i,a,t,r,e[o+3],16,-722521979),r=In(r,i,a,t,e[o+6],23,76029189),t=In(t,r,i,a,e[o+9],4,-640364487),a=In(a,t,r,i,e[o+12],11,-421815835),i=In(i,a,t,r,e[o+15],16,530742520),t=Rn(t,r=In(r,i,a,t,e[o+2],23,-995338651),i,a,e[o],6,-198630844),a=Rn(a,t,r,i,e[o+7],10,1126891415),i=Rn(i,a,t,r,e[o+14],15,-1416354905),r=Rn(r,i,a,t,e[o+5],21,-57434055),t=Rn(t,r,i,a,e[o+12],6,1700485571),a=Rn(a,t,r,i,e[o+3],10,-1894986606),i=Rn(i,a,t,r,e[o+10],15,-1051523),r=Rn(r,i,a,t,e[o+1],21,-2054922799),t=Rn(t,r,i,a,e[o+8],6,1873313359),a=Rn(a,t,r,i,e[o+15],10,-30611744),i=Rn(i,a,t,r,e[o+6],15,-1560198380),r=Rn(r,i,a,t,e[o+13],21,1309151649),t=Rn(t,r,i,a,e[o+4],6,-145523070),a=Rn(a,t,r,i,e[o+11],10,-1120210379),i=Rn(i,a,t,r,e[o+2],15,718787259),r=Rn(r,i,a,t,e[o+9],21,-343485551),t=Sn(t,s),r=Sn(r,c),i=Sn(i,d),a=Sn(a,u)}return[t,r,i,a]}(function(e){if(0===e.length)return[]
for(var n=8*e.length,t=new Uint32Array(En(n)),r=0;r<n;r+=8)t[r>>5]|=(255&e[r/8])<<r%32
return t}(e),8*e.length))}))
var wn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}
function xn(e,n,t){if(wn.randomUUID&&!n&&!e)return wn.randomUUID()
var r=(e=e||{}).random||(e.rng||hn)()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0
for(var i=0;i<16;++i)n[t+i]=r[i]
return n}return bn(r)}function Mn(e,n,t,r){switch(e){case 0:return n&t^~n&r
case 1:case 3:return n^t^r
case 2:return n&t^n&r^t&r}}function On(e,n){return e<<n|e>>>32-n}_n("v5",80,(function(e){var n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520]
if("string"==typeof e){var r=unescape(encodeURIComponent(e))
e=[]
for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e))
e.push(128)
for(var a=e.length/4+2,o=Math.ceil(a/16),s=new Array(o),c=0;c<o;++c){for(var d=new Uint32Array(16),u=0;u<16;++u)d[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3]
s[c]=d}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295
for(var l=0;l<o;++l){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=s[l][f]
for(var h=16;h<80;++h)p[h]=On(p[h-3]^p[h-8]^p[h-14]^p[h-16],1)
for(var m=t[0],y=t[1],g=t[2],v=t[3],b=t[4],T=0;T<80;++T){var _=Math.floor(T/20),E=On(m,5)+Mn(_,y,g,v)+b+n[_]+p[T]>>>0
b=v,v=g,g=On(y,30)>>>0,y=m,m=E}t[0]=t[0]+m>>>0,t[1]=t[1]+y>>>0,t[2]=t[2]+g>>>0,t[3]=t[3]+v>>>0,t[4]=t[4]+b>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,255&t[0],t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,255&t[1],t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,255&t[2],t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,255&t[3],t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,255&t[4]]}))
var Nn=Uint8Array,Pn=Uint16Array,Un=Uint32Array,Dn=new Nn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ln=new Nn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fn=new Nn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bn=function(e,n){for(var t=new Pn(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1]
var i=new Un(t[30])
for(r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r
return[t,i]},jn=Bn(Dn,2),qn=jn[0],Vn=jn[1]
qn[28]=258,Vn[258]=28
for(var Hn=Bn(Ln,0)[1],Gn=new Pn(32768),Kn=0;Kn<32768;++Kn){var Wn=(43690&Kn)>>>1|(21845&Kn)<<1
Wn=(61680&(Wn=(52428&Wn)>>>2|(13107&Wn)<<2))>>>4|(3855&Wn)<<4,Gn[Kn]=((65280&Wn)>>>8|(255&Wn)<<8)>>>1}var zn=function(e,n,t){for(var r=e.length,i=0,a=new Pn(n);i<r;++i)e[i]&&++a[e[i]-1]
var o,s=new Pn(n)
for(i=0;i<n;++i)s[i]=s[i-1]+a[i-1]<<1
if(t){o=new Pn(1<<n)
var c=15-n
for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],u=n-e[i],l=s[e[i]-1]++<<u,p=l|(1<<u)-1;l<=p;++l)o[Gn[l]>>>c]=d}else for(o=new Pn(r),i=0;i<r;++i)e[i]&&(o[i]=Gn[s[e[i]-1]++]>>>15-e[i])
return o},Qn=new Nn(288)
for(Kn=0;Kn<144;++Kn)Qn[Kn]=8
for(Kn=144;Kn<256;++Kn)Qn[Kn]=9
for(Kn=256;Kn<280;++Kn)Qn[Kn]=7
for(Kn=280;Kn<288;++Kn)Qn[Kn]=8
var $n=new Nn(32)
for(Kn=0;Kn<32;++Kn)$n[Kn]=5
var Yn=zn(Qn,9,0),Xn=zn($n,5,0),Jn=function(e){return(e+7)/8|0},Zn=function(e,n,t){t<<=7&n
var r=n/8|0
e[r]|=t,e[r+1]|=t>>>8},et=function(e,n,t){t<<=7&n
var r=n/8|0
e[r]|=t,e[r+1]|=t>>>8,e[r+2]|=t>>>16},nt=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]})
var i=t.length,a=t.slice()
if(!i)return[ct,0]
if(1==i){var o=new Nn(t[0].s+1)
return o[t[0].s]=1,[o,1]}t.sort((function(e,n){return e.f-n.f})),t.push({s:-1,f:25001})
var s=t[0],c=t[1],d=0,u=1,l=2
for(t[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=i-1;)s=t[t[d].f<t[l].f?d++:l++],c=t[d!=u&&t[d].f<t[l].f?d++:l++],t[u++]={s:-1,f:s.f+c.f,l:s,r:c}
var p=a[0].s
for(r=1;r<i;++r)a[r].s>p&&(p=a[r].s)
var f=new Pn(p+1),h=tt(t[u-1],f,0)
if(h>n){r=0
var m=0,y=h-n,g=1<<y
for(a.sort((function(e,n){return f[n.s]-f[e.s]||e.f-n.f}));r<i;++r){var v=a[r].s
if(!(f[v]>n))break
m+=g-(1<<h-f[v]),f[v]=n}for(m>>>=y;m>0;){var b=a[r].s
f[b]<n?m-=1<<n-f[b]++-1:++r}for(;r>=0&&m;--r){var T=a[r].s
f[T]==n&&(--f[T],++m)}h=n}return[new Nn(f),h]},tt=function e(n,t,r){return-1==n.s?Math.max(e(n.l,t,r+1),e(n.r,t,r+1)):t[n.s]=r},rt=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new Pn(++n),r=0,i=e[0],a=1,o=function(e){t[r++]=e},s=1;s<=n;++s)if(e[s]==i&&s!=n)++a
else{if(!i&&a>2){for(;a>138;a-=138)o(32754)
a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304)
a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i)
a=1,i=e[s]}return[t.subarray(0,r),n]},it=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r]
return t},at=function(e,n,t){var r=t.length,i=Jn(n+2)
e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1]
for(var a=0;a<r;++a)e[i+a+4]=t[a]
return 8*(i+4+r)},ot=function(e,n,t,r,i,a,o,s,c,d,u){Zn(n,u++,t),++i[256]
for(var l=nt(i,15),p=l[0],f=l[1],h=nt(a,15),m=h[0],y=h[1],g=rt(p),v=g[0],b=g[1],T=rt(m),_=T[0],E=T[1],S=new Pn(19),C=0;C<v.length;++C)S[31&v[C]]++
for(C=0;C<_.length;++C)S[31&_[C]]++
for(var A=nt(S,7),k=A[0],I=A[1],R=19;R>4&&!k[Fn[R-1]];--R);var w,x,M,O,N=d+5<<3,P=it(i,Qn)+it(a,$n)+o,U=it(i,p)+it(a,m)+o+14+3*R+it(S,k)+(2*S[16]+3*S[17]+7*S[18])
if(N<=P&&N<=U)return at(n,u,e.subarray(c,c+d))
if(Zn(n,u,1+(U<P)),u+=2,U<P){w=zn(p,f,0),x=p,M=zn(m,y,0),O=m
var D=zn(k,I,0)
for(Zn(n,u,b-257),Zn(n,u+5,E-1),Zn(n,u+10,R-4),u+=14,C=0;C<R;++C)Zn(n,u+3*C,k[Fn[C]])
u+=3*R
for(var L=[v,_],F=0;F<2;++F){var B=L[F]
for(C=0;C<B.length;++C){var j=31&B[C]
Zn(n,u,D[j]),u+=k[j],j>15&&(Zn(n,u,B[C]>>>5&127),u+=B[C]>>>12)}}}else w=Yn,x=Qn,M=Xn,O=$n
for(C=0;C<s;++C)if(r[C]>255){j=r[C]>>>18&31,et(n,u,w[j+257]),u+=x[j+257],j>7&&(Zn(n,u,r[C]>>>23&31),u+=Dn[j])
var q=31&r[C]
et(n,u,M[q]),u+=O[q],q>3&&(et(n,u,r[C]>>>5&8191),u+=Ln[q])}else et(n,u,w[r[C]]),u+=x[r[C]]
return et(n,u,w[256]),u+x[256]},st=new Un([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ct=new Nn(0),dt=function(){for(var e=new Int32Array(256),n=0;n<256;++n){for(var t=n,r=9;--r;)t=(1&t&&-306674912)^t>>>1
e[n]=t}return e}(),ut=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},lt="undefined"!=typeof TextDecoder&&new TextDecoder
try{lt.decode(ct,{stream:!0})}catch(ou){}function pt(){return"undefined"!=typeof window&&"function"==typeof window.fetch}function ft(){try{return pt()&&"keepalive"in new Request("")}catch(e){return!1}}function ht(e){var n=e.body,t=e.keepalive,r=e.headers,i=e.compress
r["content-type"]||(r["content-type"]="text/plain;charset=UTF-8")
var a=n
if(i&&"undefined"!=typeof TextEncoder)try{a=function(e,n){n||(n={})
var t=function(){var e=-1
return{p:function(n){for(var t=e,r=0;r<n.length;++r)t=dt[255&t^n[r]]^t>>>8
e=t},d:function(){return~e}}}(),r=e.length
t.p(e)
var i,a,o,s=(i=e,a=n,o=function(e){return 10+(e.filename&&e.filename.length+1||0)}(n),function(e,n,t,r,i,a){var o=e.length,s=new Nn(r+o+5*(1+Math.ceil(o/7e3))+8),c=s.subarray(r,s.length-8),d=0
if(!n||o<8)for(var u=0;u<=o;u+=65535){var l=u+65535
l>=o&&(c[d>>3]=true),d=at(c,d+1,e.subarray(u,l))}else{for(var p=st[n-1],f=p>>>13,h=8191&p,m=(1<<t)-1,y=new Pn(32768),g=new Pn(m+1),v=Math.ceil(t/3),b=2*v,T=function(n){return(e[n]^e[n+1]<<v^e[n+2]<<b)&m},_=new Un(25e3),E=new Pn(288),S=new Pn(32),C=0,A=0,k=(u=0,0),I=0,R=0;u<o;++u){var w=T(u),x=32767&u,M=g[w]
if(y[x]=M,g[w]=x,I<=u){var O=o-u
if((C>7e3||k>24576)&&O>423){d=ot(e,c,0,_,E,S,A,k,R,u-R,d),k=C=A=0,R=u
for(var N=0;N<286;++N)E[N]=0
for(N=0;N<30;++N)S[N]=0}var P=2,U=0,D=h,L=x-M&32767
if(O>2&&w==T(u-L))for(var F=Math.min(f,O)-1,B=Math.min(32767,u),j=Math.min(258,O);L<=B&&--D&&x!=M;){if(e[u+P]==e[u+P-L]){for(var q=0;q<j&&e[u+q]==e[u+q-L];++q);if(q>P){if(P=q,U=L,q>F)break
var V=Math.min(L,q-2),H=0
for(N=0;N<V;++N){var G=u-L+N+32768&32767,K=G-y[G]+32768&32767
K>H&&(H=K,M=G)}}}L+=(x=M)-(M=y[x])+32768&32767}if(U){_[k++]=268435456|Vn[P]<<18|Hn[U]
var W=31&Vn[P],z=31&Hn[U]
A+=Dn[W]+Ln[z],++E[257+W],++S[z],I=u+P,++C}else _[k++]=e[u],++E[e[u]]}}d=ot(e,c,true,_,E,S,A,k,R,u-R,d)}return function(e,n,t){(null==n||n<0)&&(n=0),(null==t||t>e.length)&&(t=e.length)
var r=new(2==e.BYTES_PER_ELEMENT?Pn:4==e.BYTES_PER_ELEMENT?Un:Nn)(t-n)
return r.set(e.subarray(n,t)),r}(s,0,r+Jn(d)+8)}(i,null==a.level?6:a.level,null==a.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+a.mem,o)),c=s.length
return function(e,n){var t=n.filename
if(e[0]=31,e[1]=139,e[2]=8,e[8]=n.level<2?4:9==n.level?2:0,e[9]=3,0!=n.mtime&&ut(e,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),t){e[3]=8
for(var r=0;r<=t.length;++r)e[r+10]=t.charCodeAt(r)}}(s,n),ut(s,c-8,t.d()),ut(s,c-4,r),s}((new TextEncoder).encode(n)),r["content-encoding"]="gzip"}catch(e){}return{body:a,keepalive:t,credentials:"include",headers:r,method:"POST",mode:"cors"}}function mt(e){return e&&"message"in e?e.message:"UNKNOWN_ERROR"}var yt,gt="undefined"!=typeof navigator&&"sendBeacon"in navigator,vt=ft()?function(e,n,t,r){return new Promise((function(i){fetch(e,ht({body:n,keepalive:!0,headers:t,compress:r})).catch((function(){return fetch(e,ht({body:n,keepalive:!1,headers:t,compress:r}))})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:e.status}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:mt(e)})}))}))}:function(e,n,t,r){return new Promise((function(i){if(gt){var a=!1
try{a=navigator.sendBeacon(e,n)}catch(e){}if(a)return void i({type:"unknown",drop:!1})}fetch(e,ht({body:n,keepalive:!1,headers:t,compress:r})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:200}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:mt(e)})}))}))}
function bt(e){return new Promise((function(n,t){e.oncomplete=e.onsuccess=function(){return n(e.result)},e.onabort=e.onerror=function(){return t(e.error)}}))}function Tt(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r=arguments.length>3?arguments[3]:void 0,i=indexedDB.open(e)
i.onupgradeneeded=function(){try{i.result.createObjectStore(n,{keyPath:t})}catch(e){null==r||r.onError(e)}}
var a=new Promise((function(e,n){i.onsuccess=function(){var n=i.result
n.onversionchange=function(){return n.close()},e(n),null==r||r.onSuccess()},i.onerror=function(){n(i.error),null==r||r.onError(i.error)}}))
return function(e,t){return a.then((function(r){return t(r.transaction(n,e).objectStore(n))}))}}function _t(){return yt||(yt=Tt("idb-queue","default")),yt}function Et(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},t=0,r=null
return e.openKeyCursor().onsuccess=function(){var i=this.result
i&&t++<n.batchEvictionNumber?(r=i.key,i.continue()):null!=r&&e.delete(IDBKeyRange.upperBound(r))},bt(e.transaction)}var St=!1
function Ct(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_t()
return St?Promise.resolve():function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_t()
return t("readwrite",(function(t){return t.put(e),bt(t.count()).then((function(e){if(!(e<=n.maxNumber))return Et(t,n)}))})).catch((function(e){if(e&&"QuotaExceededError"===e.name)return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxNumber:1e3,batchEvictionNumber:300}
return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:_t())("readwrite",(function(n){return Et(n,e)}))}(n,t)}))}(e,n,t)}function At(e,n,t){return n("readonly",(function(n){var r=[]
return n.openCursor(null,t).onsuccess=function(){var n=this.result
n&&(r.push(n.value),(e<0||r.length<e)&&n.continue())},bt(n.transaction).then((function(){return r}))}))}function kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0
return!n||t<1||(e[n]=JSON.stringify({attempt:t,errorCode:r})),e}function It(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.debug("[beacon-transporter] ",e())}function Rt(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.error("[beacon-transporter] ",e())}function wt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeRemaining:5,timeout:1e4}
"undefined"==typeof requestIdleCallback?setTimeout(e,n.fallbackTimeout||10):function t(){requestIdleCallback((function(r){r.timeRemaining()>n.timeRemaining||r.didTimeout?e():t()}),{timeout:n.timeout})}()}var xt=function(){function e(n){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
cn(this,e),ln(this,"config",void 0),ln(this,"compress",void 0),ln(this,"throttleControl",void 0),ln(this,"withStore",void 0),ln(this,"disablePersistence",!1),this.config=n,this.compress=r
var i=n.measureIDB
i&&performance.mark(i.createStartMark),this.withStore=Tt(n.idbName,"beacons","timestamp",{onSuccess:function(){i&&performance.measure(i.createSuccessMeasure,i.createStartMark)},onError:function(){i&&performance.measure(i.createFailMeasure,i.createStartMark),t.disablePersistence=!0}}),this.throttleControl=function(e,n){var t=0
return{throttledFn:function(){var r=Date.now()
r-t>n&&(It((function(){return"[throttle] Run fn() at "+String(r)})),e(),t=r)},resetThrottle:function(){t=0}}}(this.replayEntries.bind(this),n.throttleWait)}return un(e,[{key:"onNotify",value:function(){this.disablePersistence||this.throttleControl.throttledFn()}},{key:"push",value:function(e){var n=this
if(!this.disablePersistence){var t=function(){It((function(){return"Persisting to DB "+e.url})),Ct(e,n.config,n.withStore).then((function(){n.throttleControl.resetThrottle(),It((function(){return"push completed"}))})).catch((function(){n.disablePersistence=!0,Rt((function(){return"push failed"}))}))}
this.config.useIdle?wt(t):t()}}},{key:"clear",value:function(){var e=this
return this.disablePersistence?Promise.resolve():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t()
return St=!0,e("readwrite",(function(e){return e.clear(),bt(e.transaction).finally((function(){return St=!1}))}))}(this.withStore).catch((function(){e.disablePersistence=!0,Rt((function(){return"clear failed"}))}))}},{key:"peek",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
return this.disablePersistence?Promise.resolve([]):function(){return At(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:_t(),"next")}(n,this.withStore).catch((function(){return e.disablePersistence=!0,Rt((function(){return"peek failed"})),[]}))}},{key:"peekBack",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
return this.disablePersistence?Promise.resolve([]):function(){return At(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:_t(),"prev")}(n,this.withStore).catch((function(){return e.disablePersistence=!0,Rt((function(){return"peekBack failed"})),[]}))}},{key:"replayEntries",value:function(){var e=this
if(!this.disablePersistence){var n=function(){It((function(){return"Replaying entry: shift from store"})),function(){return function(e,n,t){return n("readwrite",(function(n){var t=[]
return n.openCursor(null,"next").onsuccess=function(){var n=this.result
n&&(t.push(n.value),n.delete(),(e<0||t.length<e)&&n.continue())},bt(n.transaction).then((function(){return t}))}))}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:_t())}(1,e.withStore).then((function(n){if(n.length>0){var t,r,i=n[0],a=i.url,o=i.body,s=i.headers,c=i.timestamp,d=i.statusCode,u=i.attemptCount
return It((function(){return"header: ".concat(String(e.config.headerName),"; attemptCount: ").concat(u)})),null===(t=(r=e.config).onBeforeRetry)||void 0===t||t.call(r,o),vt(a,o,kt(s,e.config.headerName,u,d),e.compress).then((function(n){if("unknown"===n.type||"success"===n.type){var t,r
null===(t=(r=e.config).onResult)||void 0===t||t.call(r,n,o),e.replayEntries()}else{var i,s,l,p,f,h
if(u+1>e.config.attemptLimit)return It((function(){return"Exceeded attempt count, dropping the entry: "+JSON.stringify({url:a,timestamp:c,statusCode:d},null,2)})),n.drop=!0,void(null===(i=(s=e.config).onResult)||void 0===i||i.call(s,n,o))
if("network"===n.type||e.config.statusCodes.includes(n.statusCode))return n.drop=!1,null===(l=(p=e.config).onResult)||void 0===l||l.call(p,n,o),It((function(){return"Replaying the entry failed, pushing back to IDB: "+JSON.stringify({url:a,timestamp:c,statusCode:d},null,2)})),Ct({url:a,body:o,timestamp:c,statusCode:d,attemptCount:u+1},e.config,e.withStore)
n.drop=!0,null===(f=(h=e.config).onResult)||void 0===f||f.call(h,n,o)}}))}})).catch((function(n){e.disablePersistence=!0,n&&n.message&&Rt((function(){return"Replay entry failed: ".concat(n.message)}))}))}
this.config.useIdle?wt(n):n()}}}]),e}(),Mt=function(){function e(){cn(this,e)}return un(e,[{key:"onNotify",value:function(){}},{key:"push",value:function(){}},{key:"clear",value:function(){return Promise.resolve()}},{key:"peek",value:function(){return Promise.resolve([])}},{key:"peekBack",value:function(){return Promise.resolve([])}}]),e}(),Ot=function(){function e(n,t){cn(this,e),ln(this,"queue",void 0),ln(this,"beaconListeners",new Set),this.queue=e.hasSupport&&!t.disablePersistenceRetry?new xt(n,t.compress):new Mt}return un(e,[{key:"pushToQueue",value:function(e){this.queue.push(e)}},{key:"notifyQueue",value:function(){this.queue.onNotify()}},{key:"clearQueue",value:function(){return this.beaconListeners.forEach((function(e){return e()})),this.queue.clear()}},{key:"peekQueue",value:function(e){return this.queue.peek(e)}},{key:"peekBackQueue",value:function(e){return this.queue.peekBack(e)}},{key:"onClear",value:function(e){this.beaconListeners.add(e)}},{key:"removeOnClear",value:function(e){this.beaconListeners.delete(e)}}]),e}()
ln(Ot,"hasSupport","undefined"!=typeof globalThis&&!!globalThis.indexedDB)
var Nt=[502,504],Pt=[429,503],Ut=function(){function e(n,t,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4]
cn(this,e),ln(this,"url",void 0),ln(this,"body",void 0),ln(this,"config",void 0),ln(this,"persistenceConfig",void 0),ln(this,"compress",void 0),ln(this,"timestamp",void 0),ln(this,"isClearQueuePending",!1),ln(this,"onClearCallback",void 0),this.url=n,this.body=t,this.config=r,this.persistenceConfig=i,this.compress=o,this.timestamp=Date.now(),this.onClearCallback=function(){return a.isClearQueuePending=!0}}return un(e,[{key:"send",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.persistenceConfig.db.onClear(this.onClearCallback)
var t=this.retryLimit
return this.retry((function(n){return vt(e.url,e.body,n,e.compress)}),t,n).finally((function(){It((function(){return"beacon finished"})),e.persistenceConfig.db.removeOnClear(e.onClearCallback)}))}},{key:"retryLimit",get:function(){return this.config.attemptLimit}},{key:"getAttemptCount",value:function(e){return this.retryLimit-e+1}},{key:"retry",value:function(e,n,t,r){var i=this,a=this.getAttemptCount(n)-1
return e(kt(t,this.config.headerName,a,r)).then((function(r){var a,o,s,c
if(r.drop=!1,"unknown"===r.type||"success"===r.type)i.isClearQueuePending||i.persistenceConfig.disabled||i.persistenceConfig.db.notifyQueue(),s=r
else if(It((function(){return"retry rejected "+JSON.stringify(r)})),i.shouldPersist(n,r))i.persistenceConfig.db.pushToQueue({url:i.url,body:i.body,headers:t,statusCode:r.statusCode,timestamp:i.timestamp,attemptCount:i.getAttemptCount(n)}),s={type:"persisted",drop:!1,statusCode:r.statusCode}
else{if(n>0&&i.isRetryableError(r)){var d,u
null===(d=(u=i.config).onIntermediateResult)||void 0===d||d.call(u,r,i.body)
var l=i.config.calculateRetryDelay(i.getAttemptCount(n),n)
return It((function(){return"in memory retry in ".concat(l,"ms")})),(c=l,new Promise((function(e){return setTimeout(e,c)}))).then((function(){return i.retry(e,n-1,t,r.statusCode)}))}(s=r).drop=!0}return null===(a=(o=i.config).onIntermediateResult)||void 0===a||a.call(o,s,i.body),s}))}},{key:"isRetryableError",value:function(e){return!("network"!==e.type&&!this.config.statusCodes.includes(e.statusCode))}},{key:"shouldPersist",value:function(e,n){return!(this.isClearQueuePending||this.persistenceConfig.disabled||navigator.onLine&&(0!==e||"network"!==n.type)&&("response"!==n.type||!this.persistenceConfig.statusCodes.includes(n.statusCode)))}}]),e}()
function Dt(e,n,t){var r=e.get(n)
r&&r.push(t)||e.set(n,[t])}function Lt(e,n,t){var r=e.get(n)
r&&r.splice(r.indexOf(t)>>>0,1)}var Ft,Bt,jt=(Ft=new Map,Bt=new Map,{on:function(e,n){Dt(Ft,e,n)},before:function(e,n){Dt(Bt,e,n)},off:function(e,n){Lt(Ft,e,n)},offBefore:function(e,n){Lt(Bt,e,n)},emit:function(e,n){(Bt.get(e)||[]).concat(Ft.get(e)||[]).slice().map((function(e){e(n)}))},clear:function(){Bt.clear(),Ft.clear()}})
if("undefined"!=typeof document&&"undefined"!=typeof window){var qt=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||jt.emit("internal:hide",e)}
document.addEventListener("visibilitychange",qt),window.addEventListener("pagehide",qt)}var Vt=null
if("undefined"==typeof crypto||!crypto.getRandomValues){var Ht=("undefined"!=typeof FastBoot?FastBoot.require:require)("crypto")
if(Ht){var Gt=new Uint8Array(256),Kt=Gt.length
Vt={rng:function(){return Kt>Gt.length-16&&(Ht.randomFillSync(Gt),Kt=0),Gt.slice(Kt,Kt+=16)}}}}var Wt="object"===("undefined"==typeof crypto?"undefined":sn(crypto))&&"function"==typeof crypto.randomUUID?function(){return crypto.randomUUID()}:function(){return function(e){var n=bn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)
if(!yn(n))throw TypeError("Stringified UUID is invalid")
return n}(zt())}
function zt(){return xn(Vt,new Array(16),0)}function Qt(e){return rn(e).map((function(e){return String.fromCharCode(e)})).join("")}function $t(){return Qt(zt())}var Yt=/^[a-zA-Z0-9/+]+[=]+$/
function Xt(e,n){return{pageUrn:Zt(e),trackingId:n||function(e){for(var n,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[],i=0,a=e.length,o=a%3,s=a-o;i<s;)n=e[i]<<16,n|=e[i+1]<<8,n|=e[i+2],r.push(t.charAt(n>>>18&63)),r.push(t.charAt(n>>>12&63)),r.push(t.charAt(n>>>6&63)),r.push(t.charAt(63&n)),i+=3
switch(o){case 2:n=e[i]<<16,n|=e[i+1]<<8,r.push(t.charAt(n>>>18&63)),r.push(t.charAt(n>>>12&63)),r.push(t.charAt(n>>>6&63)),r.push("=")
break
case 1:n=e[i]<<16,r.push(t.charAt(n>>>18&63)),r.push(t.charAt(n>>>12&63)),r.push("="),r.push("=")}return r.join("")}(zt())}}function Jt(e,n){return"urn:li:control:".concat(e,"-").concat(n)}function Zt(e){return"urn:li:page:".concat(e)}function er(e,n){return{pageInstance:n.assign({},e.pageInstance),pageKey:e.pageKey,applicationInstance:e.applicationInstance}}function nr(e,n){return void 0!==n.allSettled?n.allSettled(e):function(e){return new Promise((function(n){var t=new Set,r=function(e){t.delete(e),0===t.size&&n()}
0===e.length?n():e.map((function(e){return e.then((function(){return r(e)})).catch((function(){return r(e)}))}))}))}(e)}function tr(e){var n=[]
return e.forEach((function(e){return n.push(e)})),n}function rr(e,n,t){if("undefined"!=typeof window&&window.indexedDB){var r="sequenceNumber",i=window.indexedDB.open(r)
return new Promise((function(a,o){i.onupgradeneeded=function(){var e=i.result
e.objectStoreNames.contains(r)||e.createObjectStore(r,{autoIncrement:!0})},i.onsuccess=function(){var s=i.result,c=s.transaction(r,"readwrite"),d=c.objectStore(r),u=d.get(1)
u.onsuccess=function(){var r=u.result
if(r){if("read"===e)return a(r)
if("update"!==e)return a(null)
var i,s=Object.assign({},r),c=!1,l=null!==(i=s.sequenceNumber)&&void 0!==i?i:0
if(void 0!==n&&n>l&&(s.sequenceNumber=n,c=!0),t&&Object.keys(t).forEach((function(e){var n,r=null!==(n=s[e])&&void 0!==n?n:0,i=t[e]
i>r&&(s[e]=i,c=!0)})),c){var p=d.put(s,1)
p.onsuccess=function(){return a(null)},p.onerror=function(){o(p.error)}}}else{var f={sequenceNumber:0}
t&&Object.keys(t).forEach((function(e){f[e]=0}))
var h=d.add(f)
h.onsuccess=function(){return a(0)},h.onerror=function(){o(h.error)}}},u.onerror=function(){return s.close(),o(new Error("Error: get sequence number from indexedDB ".concat(String(u.error))))},c.oncomplete=function(){return s.close()}},i.onerror=function(){return a(null)}}))}return Promise.resolve(null)}function ir(){return"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1||!pt()||"undefined"==typeof Promise}function ar(e,n){jt.emit("internal:error",{tags:["core-web-tracking:".concat(e)],reason:n instanceof Error?n:new Error("".concat(e,": ").concat(n))})}function or(){if("undefined"==typeof Promise||"undefined"==typeof navigator)return!1
var e=navigator.userAgent.indexOf("Chrome")>-1,n=navigator.cookieEnabled,t=navigator.storage
return e&&ft()&&n&&t}var sr=function(){function e(n){cn(this,e),ln(this,"host",void 0),this.host=n}return un(e,[{key:"checkAndEnablePersistentRetry",value:function(e,n){if("function"==typeof(null==e?void 0:e.shouldAnonymizeMemberId)&&!this.host.retryBeacon){var t=this.getRetryTreatment()
this.host.retryConfig&&function(e,n,t,r,i){"control"!==r&&e.retryConfig&&or()&&navigator.storage.estimate().then((function(a){if(!((a.quota||0)-(a.usage||0)>52428800))return function(e){var n=window.indexedDB.deleteDatabase("beacons")
return new Promise((function(e,t){n.onsuccess=function(){return e()},n.onerror=function(){return t(n.error)}}))}()
var o,s,c=null!==(o=e.retryConfig.inMemory)&&void 0!==o?o:{attemptLimit:4,statusCodes:[502,504]},d=null!==(s=e.retryConfig.persist)&&void 0!==s?s:{attemptLimit:3,statusCodes:[429,503],maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},u={compress:t,inMemoryRetry:{onIntermediateResult:null==i?void 0:i.onIntermediateResult,attemptLimit:c.attemptLimit,statusCodes:c.statusCodes,headerName:"x-li-retry-context",calculateRetryDelay:function(e){return function(e){return 1e3*Math.pow(2,e)}(e)}},disablePersistenceRetry:e.retryConfig.disablePersistence,persistenceRetry:{onBeforeRetry:null==i?void 0:i.onBeforeRetry,onResult:null==i?void 0:i.onResult,idbName:"beacons",attemptLimit:d.attemptLimit,statusCodes:d.statusCodes,maxNumber:d.maxNumber,batchEvictionNumber:d.batchEvictionNumber,throttleWait:d.throttleWait,useIdle:!0,measureIDB:{createStartMark:"idb_open_start",createSuccessMeasure:"idb_open_success_phase",createFailMeasure:"idb_open_fail_phase"}}},l=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Boolean(n.compress),r=Object.assign({attemptLimit:0,statusCodes:Nt,calculateRetryDelay:function(e,n){return 2e3*n}},n.inMemoryRetry)
if(n.retryDB)e=n.retryDB
else{var i=Object.assign({idbName:"beacon-transporter",attemptLimit:3,statusCodes:Pt,maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},n.persistenceRetry)
i.headerName=i.headerName||r.headerName,e=new Ot(i,{compress:n.compress,disablePersistenceRetry:n.disablePersistenceRetry})}return{beacon:function(i,a,o){var s
return pt()?new Ut(i,a,r,{db:e,disabled:Boolean(n.disablePersistenceRetry),statusCodes:(null===(s=n.persistenceRetry)||void 0===s?void 0:s.statusCodes)||Pt},t).send(o):Promise.resolve({type:"unknown",drop:!0})},database:e}}(u),p=l.beacon,f=l.database
return e.retryBeacon={shouldRetry:!0,beacon:p,database:f},"enabled"===r?(e.retryBeacon.shouldRetry=!1,!u.disablePersistenceRetry&&n.shouldAnonymizeMemberId()?f.peekQueue(1).then((function(e){if(Array.isArray(e)&&e[0]){var n=JSON.parse(e[0].body)
if(Array.isArray(n)&&n.some((function(e){return!e.eventInfo.shouldAnonymizeMemberId})))return f.clearQueue()}}),(function(){return f.clearQueue()})).then((function(){e.retryBeacon.shouldRetry=!0})).catch((function(e){ar("retry:idb",e)})):(e.retryBeacon.shouldRetry=!0,Promise.resolve())):void 0})).catch((function(e){ar("retry:setup",e)}))}(this.host,e,this.shouldCompressPayload(),t,n)}}},{key:"clearPersistedEventsOnLogout",value:function(){var e=this.host.retryBeacon
if(e&&e.shouldRetry)return e.shouldRetry=!1,e.database.clearQueue().catch((function(e){ar("retry:logout",e)}))}},{key:"sendPayload",value:function(e,n,t,r){var i,a=this.getRetryTreatment()
ft()&&"control"!==a&&null!==(i=this.host.retryBeacon)&&void 0!==i&&i.shouldRetry?this.sendPayloadWithRetry(e,n,t):this.sendPayloadFireForget(e,n,t,r)}},{key:"sendPayloadWithRetry",value:function(e,n,t){(!Array.isArray(n)||n.length>0)&&this.host.retryBeacon.beacon(e,JSON.stringify(n),t).catch((function(e){ar("retry:beacon",e)}))}},{key:"sendPayloadFireForget",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;(!Array.isArray(n)||n.length>0)&&(ir()?function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}
if("undefined"!=typeof window&&void 0!==window.XMLHttpRequest){var r=new XMLHttpRequest
if(r.open("POST",e,!0),r.withCredentials=!0,t.headers)for(var i=0,a=Object.keys(t.headers);i<a.length;i++){var o=a[i]
r.setRequestHeader(o,t.headers[o])}r.send(n)}}(e,JSON.stringify(n),{headers:t}):vt(e,JSON.stringify(n),t,this.shouldCompressPayload()).then((function(e){null==r||r.onResult(e,n)}),(function(){})))}},{key:"getRetryTreatment",value:function(){var e,n,t
if(!this.host.retryConfig)return"control"
var r=this.host.retryConfig.lixKey
return r?null!==(e=null===(n=(t=this.host).__getLixTreatment)||void 0===n?void 0:n.call(t,r))&&void 0!==e?e:"control":"enabled"}},{key:"shouldCompressPayload",value:function(){return!0!==this.host.disableCompression}},{key:"isBrowserPersistentRetryEnabled",value:function(){var e,n
return"control"!==this.getRetryTreatment()&&null!==(e=null===(n=this.host.retryBeacon)||void 0===n?void 0:n.shouldRetry)&&void 0!==e&&e&&or()&&"undefined"!=typeof globalThis&&!!globalThis.indexedDB}}]),e}(),cr="undefined"!=typeof window&&"undefined"!=typeof document,dr=/JSESSIONID="?([^";]+)"?/,ur="",lr=0
function pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.cacheLifeSpan,t=void 0===n?1e4:n,r=e.regex,i=void 0===r?dr:r
if(!ur||Date.now()-lr>t){var a=cr&&document.cookie.match(i)
ur=a&&a[1]||"",lr=Date.now()}return ur}var fr=function(){function e(n){cn(this,e),ln(this,"networkTransporter",void 0),ln(this,"inactive",void 0),ln(this,"mpName",void 0),ln(this,"endpoint",void 0),ln(this,"debug",void 0),this.networkTransporter=new sr(n),this.mpName=n.appId,this.inactive=n.inactive
var t=function(e){var n,t=!1
switch(e){case"https://www.linkedin.com/li/track":n=mr
break
case"https://www.linkedin-ei.com/li/track/validate":default:t=!0,n=hr
break
case"https://www.linkedin-ei.com/li/track":n=hr}return{endpoint:n,debug:t}}(n.endpoint)
this.endpoint=t.endpoint,this.debug=t.debug}return un(e,[{key:"fireFragment",value:function(e){var n
if(!this.inactive){var t={"content-type":"application/json; charset=UTF-8","x-li-track":JSON.stringify({mpName:this.mpName}),"csrf-token":pr(),"x-restli-protocol-version":"2.0.0"},r=[],i=null!==(n=null==e?void 0:e.stats)&&void 0!==n?n:{},a=i.failures,o=i.previousInstanceEventStats.reduce((function(e,n){return e.push.apply(e,rn(n.failures)),e}),[]);[].concat(rn(a),rn(o)).forEach((function(e){var n=e.reason,t=e.rawError,i=e.eventTopic,a=e.header,o=e.requestHeader
r.push({reason:n,rawError:t,failedTopicName:i,header:a,requestHeader:o})}))
var s={clientTrackingFailures:r,debug:this.debug}
this.networkTransporter.sendPayload(this.endpoint,s,t)}}}]),e}(),hr="https://www.linkedin-ei.com/trackingMonitoring/?action=reportClientFailures",mr="https://www.linkedin.com/trackingMonitoring/?action=reportClientFailures"
function yr(e){return"string"==typeof e}function gr(e){return yr(e)?e:e.topicName||e.eventName}function vr(e){return yr(e)?e:e.eventName}var br,Tr,_r=function(){function e(n){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
cn(this,e),ln(this,"host",void 0),ln(this,"cmoTransporter",void 0),ln(this,"clientMonitoringInstanceId",$t()),ln(this,"currentContext",{pageKey:"unknown",pageInstance:Xt("unknown")}),ln(this,"appState",{}),ln(this,"estimatedFragmentSize",0),ln(this,"fragmentSizeLimit",void 0),ln(this,"activeFragmentEvent",void 0),ln(this,"debounceTimer",void 0),this.host=n,this.cmoTransporter=r.cmoTransporter||new fr(n),this.fragmentSizeLimit=(null===(t=n.clientMonitoringConfig)||void 0===t?void 0:t.fragmentSizeLimit)||10240,this.activeFragmentEvent=Sr(this.clientMonitoringInstanceId,0,0,!1,this.getEventHeaders())}return un(e,[{key:"getCurrentInstanceId",value:function(){return this.clientMonitoringInstanceId}},{key:"scheduleDebouncedFiring",value:function(){var e,n,t=this
void 0!==this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=void 0),this.fragmentIsFull()&&this.fireFragmentEventIfFull(!0),this.debounceTimer=setTimeout((function(){t.fireFragmentEventIfFull()}),null!==(e=null===(n=this.host.batching)||void 0===n?void 0:n.debounceTime)&&void 0!==e?e:1)}},{key:"logEventGenerated",value:function(e){this.scheduleDebouncedFiring()
var n=this.activeFragmentEvent.stats,t=this.activeFragmentEvent.firstEventNumber+n.eventsGenerated
return n.eventTopics.push(e),n.eventsGenerated++,this.estimatedFragmentSize+=e.length,t}},{key:"logEventReadyToSend",value:function(e){this.activeFragmentEvent.stats.eventsReadyToSend+=e}},{key:"logEventSent",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId()
n===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.eventsSent+=e:this.findPreviousInstanceStat(n,(function(n){n.eventsSent+=e}))}},{key:"logNetworkResponseCode",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId(),t=this.activeFragmentEvent.stats.networkResponseStats
n!==this.getCurrentInstanceId()&&this.findPreviousInstanceStat(n,(function(e){t=e.networkResponseStats})),e>=200&&e<300?t.eventsWith2XXResponse++:400===e?t.eventsWith400Response++:408===e?t.eventsWith408Response++:429===e?t.eventsWith429Response++:e>400&&e<500?t.eventsWith4XXResponse++:500===e?t.eventsWith500Response++:502===e?t.eventsWith502Response++:503===e?t.eventsWith503Response++:504===e?t.eventsWith504Response++:e>500&&e<600&&t.eventsWith5XXResponse++}},{key:"findPreviousInstanceStat",value:function(e,n){var t,r=tn(this.activeFragmentEvent.stats.previousInstanceEventStats)
try{for(r.s();!(t=r.n()).done;){var i=t.value
if(i.instanceId===e)return void n(i)}}catch(e){r.e(e)}finally{r.f()}var a=this.getEventHeaders(),o=a.header,s=a.requestHeader,c={header:Object.assign(o,{memberId:-1}),requestHeader:s,instanceId:e,eventsSent:0,eventTopics:[],networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},failures:[]}
n(c),this.activeFragmentEvent.stats.previousInstanceEventStats.push(c)}},{key:"logFailedEvent",value:function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getCurrentInstanceId(),a=this.getEventHeaders(),o=a.header,s=a.requestHeader,c={header:Object.assign(o,{memberId:-1}),requestHeader:s,instanceId:i,instanceEventNumber:r,reason:e,rawError:t,eventName:vr(n),eventTopic:gr(n)}
this.estimatedFragmentSize+=JSON.stringify(c).length,i===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.failures.push(c):this.findPreviousInstanceStat(i,(function(e){e.failures.push(c)})),this.fireFragmentEventIfFull()}},{key:"flush",value:function(){this.activeFragmentEvent.isLastFragment=!0,this.fireFragmentEventIfFull(!0)}},{key:"fragmentIsFull",value:function(){return this.activeFragmentEvent.stats.eventsGenerated>=100||this.estimatedFragmentSize>=this.fragmentSizeLimit}},{key:"fireFragmentEventIfFull",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.fragmentIsFull()){this.debounceTimer=void 0
var e=this.getEventHeaders(),n=e.header,t=e.requestHeader,r=this.activeFragmentEvent
r.header=n,r.requestHeader=t,this.cmoTransporter.fireFragment(r),this.estimatedFragmentSize=0,this.activeFragmentEvent=Sr(this.clientMonitoringInstanceId,r.fragmentNumber+1,r.firstEventNumber+r.stats.eventsGenerated,!1,e)}}},{key:"setCurrentContext",value:function(e){this.currentContext=e}},{key:"updateAppState",value:function(e){this.host.api.assign(this.appState,e)}},{key:"getEventHeaders",value:function(){var e=void 0
this.appState.clientApplicationInstance&&((e=this.appState.clientApplicationInstance).trackingId=Cr(e.trackingId))
var n=this.currentContext.pageInstance
return n.trackingId=Cr(n.trackingId),{requestHeader:{interfaceLocale:this.host.locale,pageKey:this.currentContext.pageKey,path:this.host.api.location.pathname+this.host.api.location.search,referer:this.host.api.document.referrer},header:{applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:e,pageInstance:n,time:Date.now(),version:this.host.appVersion,server:"",service:"",guid:$t(),memberId:0}}}}]),e}()
function Er(e){return br||(br=new _r(e)),{getCurrentInstanceId:function(){return br.getCurrentInstanceId()},logEventGenerated:function(e){return br.logEventGenerated(e)},logEventReadyToSend:function(e){br.logEventReadyToSend(e)},logEventSent:function(e){br.logEventSent(e)},logPersistedEventSent:function(e,n){br.logEventSent(n,e)},logNetworkResponseCode:function(e){br.logNetworkResponseCode(e)},logPersistedNetworkResponseCode:function(e,n){var t
null===(t=br)||void 0===t||t.logNetworkResponseCode(n,e)},logFailedEvent:function(e,n,t,r){br.logFailedEvent(e,n,t,r)},logPersistedFailedEvent:function(e,n,t,r,i){br.logFailedEvent(n,t,r,i,e)},flush:function(){br.flush()},destroy:function(){br=void 0},isDestroyed:function(){return void 0===br},setCurrentContext:function(e){br.setCurrentContext(e)},updateAppState:function(e){br.updateAppState(e)}}}function Sr(e,n,t,r,i){return{fragmentNumber:n,firstEventNumber:t,isLastFragment:r,stats:{instanceId:e,eventsGenerated:0,eventsReadyToSend:0,eventsSent:0,networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},eventTopics:[],failures:[],previousInstanceEventStats:[]},requestHeader:i.requestHeader,header:i.header}}function Cr(e){return Array.isArray(e)?Qt(e):16===e.length?e:function(e){return"string"==typeof e&&!!e.match(Yt)}(e)?atob(e):Qt(function(e){return Tn(e)}(e))}!function(e){e.NONE="NONE",e.UNKNOWN_EXECUTION_ERROR="UNKNOWN_EXECUTION_ERROR",e.MISSING_REQUIRED_PROPERTIES="MISSING_REQUIRED_PROPERITES",e.STORAGE_WRITE_FAILURE="STORAGE_WRITE_FAILURE",e.RETRIES_EXCEEDED="RETRIES_EXCEEDED",e.EVENT_EVICTED_FROM_STORAGE="EVENT_EVICTED_FROM_STORAGE",e.STORAGE_UNAVAILABLE="STORAGE_UNAVAILABLE",e.SERIALIZATION_FAILURE="SERIALIZATION_FAILURE"}(Tr||(Tr={}))
var Ar,kr,Ir,Rr=["PageViewEvent","SponsoredImpressionEvent","JobViewEvent"],wr="PageViewEvent",xr=function(){function e(n){var t=this
cn(this,e),ln(this,"host",void 0),ln(this,"queue",void 0),ln(this,"preContextQueue",void 0),ln(this,"debounceTimer",void 0),ln(this,"unloadHandlers",void 0),ln(this,"maxQueueSize",void 0),ln(this,"flushDebounceTime",void 0),ln(this,"trackingEventListeners",[]),ln(this,"onHideHandler",(function(){t.forceFlush()})),ln(this,"networkTransporter",void 0),ln(this,"clientMonitoringConn",void 0),ln(this,"clientGlobalSequenceNumberCounter",void 0),ln(this,"clientTopicLocalSequenceNumberCountersMap",{}),ln(this,"isTimerRunning",void 0),ln(this,"enableSequenceNumberLix",void 0),this.host=n,this.queue=[],this.preContextQueue=[],this.unloadHandlers=[]
var r=n.batching
this.maxQueueSize=r&&r.maxSize||1,this.flushDebounceTime=r&&r.debounceTime||0,jt.on("internal:hide",this.onHideHandler),this.networkTransporter=new sr(n),this.isLixEnabled("pemberly.tracking.monitoring")&&n.clientMonitoringConfig&&!n.inactive&&(this.clientMonitoringConn=Er(n)),this.enableSequenceNumberLix=this.isLixEnabled("tracking.data-loss-web.sequence-number"),this.enableSequenceNumberLix&&(this.getSequenceNumberFromIDB(),this.updateSequenceNumberOnExit(),this.isTimerRunning=!1)}return un(e,[{key:"checkAndEnablePersistentRetry",value:function(e){var n,t=(n=this.clientMonitoringConn,{onIntermediateResult:function(e,t){var r
if(n&&!n.isDestroyed())try{if(r=JSON.parse(t),!Array.isArray(r)||0===r.length)return
e.statusCode&&n.logNetworkResponseCode(e.statusCode),!0===e.drop&&r.forEach((function(t){var r,i=t.eventInfo.eventName,a=t.eventInfo.topicName||i,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ")
n.logFailedEvent(Tr.UNKNOWN_EXECUTION_ERROR,{eventName:i,topicName:a},s,null!==(r=t.eventBody.header.clientMonitoringInstanceEventNumber)&&void 0!==r?r:-1)}))}catch(e){}},onBeforeRetry:function(e){var t
if(n&&!n.isDestroyed())try{if(t=JSON.parse(e),!Array.isArray(t)||0===t.length||!t[0].eventBody.header.clientMonitoringInstanceId)return
var r=t[0].eventBody.header.clientMonitoringInstanceId,i=t.length
n.logPersistedEventSent(r,i)}catch(e){}},onResult:function(e,t){var r
if(n)try{if(r=JSON.parse(t),!Array.isArray(r)||0===r.length||!r[0].eventBody.header.clientMonitoringInstanceId)return
var i=r[0].eventBody.header.clientMonitoringInstanceId
e.statusCode&&n.logPersistedNetworkResponseCode(i,e.statusCode),!0===e.drop&&r.forEach((function(t){var r=t.eventInfo.eventName,a=t.eventInfo.topicName||r,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ")
n.logPersistedFailedEvent(i,Tr.UNKNOWN_EXECUTION_ERROR,{eventName:r,topicName:a},s,t.eventBody.header.clientMonitoringInstanceEventNumber)}))}catch(e){}}})
this.networkTransporter.checkAndEnablePersistentRetry(e,t)}},{key:"clearPersistedEventsOnLogout",value:function(){return this.networkTransporter.clearPersistedEventsOnLogout()}},{key:"on",value:function(e){this.trackingEventListeners.push(e)}},{key:"fireEvent",value:function(e){var n=function(e){return e.meta.time=Date.now(),e}(e)
this.clientMonitoringConn&&(n.meta.clientMonitoringInstanceId=this.clientMonitoringConn.getCurrentInstanceId(),n.meta.clientMonitoringInstanceEventNumber=this.clientMonitoringConn.logEventGenerated(gr(e.id)))
var t,r=this.host,i=r.api.Promise,a=r.batching
return function(e){return!!e.meta.context}(n)?(this.prepareCompleteEnvelopeQueue(n),null===(t=this.clientMonitoringConn)||void 0===t||t.logEventReadyToSend(1),a?(this.batchFire(),i.resolve(!0)):(this.flush(!0),i.resolve(!0))):(this.preContextQueue.push(n),i.resolve(!0))}},{key:"callOnDestroy",value:function(e){this.unloadHandlers.push(e)}},{key:"destroy",value:function(){this.unloadHandlers.forEach((function(e){return e()})),this.forceFlush(),this.trackingEventListeners=[],this.clientMonitoringConn=void 0,jt.off("internal:hide",this.onHideHandler)}},{key:"forceFlush",value:function(e){var n=this
this.populatePreContextQueue({pageInstance:Xt("unknown"),pageKey:"unknown"}).forEach((function(t){Array.isArray(e)&&n.isLixEnabled("pemberly.tracking.even-batch")?e.push(t):n.queue.push(t)})),Array.isArray(e)&&e.length>0&&this.isLixEnabled("pemberly.tracking.even-batch")?this.sendPayload(e):this.flush(!0)}},{key:"isLixEnabled",value:function(e){var n,t
return"enabled"===(null===(n=(t=this.host).__getLixTreatment)||void 0===n?void 0:n.call(t,e))}},{key:"getSequenceNumberFromIDB",value:function(){var e=this
rr("read").then((function(n){var t
e.clientGlobalSequenceNumberCounter=null!==(t=null==n?void 0:n.sequenceNumber)&&void 0!==t?t:0,Rr.forEach((function(t){var r
e.clientTopicLocalSequenceNumberCountersMap[t]=null!==(r=null==n?void 0:n[t])&&void 0!==r?r:0}))})).catch((function(e){ar("sequence-number:idb-read",e)}))}},{key:"updateSequenceNumberToIDB",value:function(){rr("update",this.clientGlobalSequenceNumberCounter,this.clientTopicLocalSequenceNumberCountersMap).catch((function(e){ar("sequence-number:idb-update",e)}))}},{key:"updateSequenceNumberOnExit",value:function(){var e=this
"undefined"!=typeof window&&"undefined"!=typeof document&&window.addEventListener("beforeunload",(function n(){e.updateSequenceNumberToIDB(),window.removeEventListener("beforeunload",n)}))}},{key:"prepareCompleteEnvelopeQueue",value:function(e){var n=this,t=e.meta.context=er(e.meta.context,this.host.api)
"function"==typeof e.body&&(e.body=e.body(t)),this.preContextQueue.length>0&&this.populatePreContextQueue(t).forEach((function(e){return n.queue.push(e)})),this.queue.push(e)}},{key:"envelop",value:function(e,n,t){var r=this.host,i=r.appId,a=r.api,o={eventBody:n,eventInfo:"string"==typeof e?{appId:i,eventName:e,topicName:e}:a.assign({appId:i},e)}
return t.length>0&&this.host.api.assign(o,{clientBreadcrumbs:t}),o}},{key:"getBreadcrumbs",value:function(e){return e.clientBreadcrumbs||[]}},{key:"getGenericEventBody",value:function(e){var n,t=this.host,r=t.appVersion,i=t.locale,a=t.api,o=a.location,s=a.document,c=a.assign,d=e.meta.context,u=d.pageKey,l=d.pageInstance,p=function(e){return"string"==typeof e?e===wr:e.eventName===wr}(e.id)&&(null===(n=e.body.requestHeader)||void 0===n?void 0:n.pageKey)||u,f=null
"string"!=typeof i&&null!==this.host.locale||(f=i)
var h={interfaceLocale:f,pageKey:p,path:o.pathname+o.search,referer:s.referrer,isFlushOnCloseBrowserTabEnabled:!ir()&&(ft()||"undefined"!=typeof navigator&&"sendBeacon"in navigator),isBrowserPersistentRetryEnabled:this.networkTransporter.isBrowserPersistentRetryEnabled()},m={pageInstance:l,time:e.meta.time,version:r,server:"",service:"",guid:$t(),memberId:0}
"number"==typeof this.clientGlobalSequenceNumberCounter&&c(m,{clientGlobalSequenceNumber:this.clientGlobalSequenceNumberCounter})
var y=gr(e.id)
if(Rr.includes(y)){var g=this.clientTopicLocalSequenceNumberCountersMap[y]
"number"==typeof g&&c(m,{clientTopicLocalSequenceNumber:g})}var v={header:c(m,e.meta.header||{}),requestHeader:c(h,e.meta.requestHeader||{})},b=e.meta.clientMonitoringInstanceId,T=e.meta.clientMonitoringInstanceEventNumber
return b&&c(v.header,{clientMonitoringInstanceId:b,clientMonitoringInstanceEventNumber:T}),c(e.body,v)}},{key:"populatePreContextQueue",value:function(e){var n,t=this.preContextQueue
return this.preContextQueue=[],null===(n=this.clientMonitoringConn)||void 0===n||n.logEventReadyToSend(t.length),t.map((function(n){return n.meta.context=e,"function"==typeof n.body&&(n.body=n.body(e)),n}))}},{key:"trigger",value:function(e,n){this.trackingEventListeners.forEach((function(t){return t(e,n)}))}},{key:"requestFlush",value:function(e,n){var t=this
e((function(){t.forceFlush(n)}),{timeout:1e4})}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,t=this.host.api.requestIdleCallback
e||!t?this.sendPayload():Array.isArray(n)&&n.length>0?this.requestFlush(t,n):this.requestFlush(t)}},{key:"batchFire",value:function(){var e=this
if(this.queue.length>this.maxQueueSize)if(this.isLixEnabled("pemberly.tracking.even-batch")){var n=this.queue
this.queue=[],this.flush(!1,n)}else this.flush()
else this.debounceTimer&&clearTimeout(this.debounceTimer),this.isLixEnabled("pemberly.tracking.even-batch")?this.debounceTimer=setTimeout((function(){return e.flush(!0)}),this.flushDebounceTime):this.debounceTimer=setTimeout((function(){return e.flush()}),this.flushDebounceTime)}},{key:"sendPayload",value:function(e){var n,t=this
if(Array.isArray(e)?n=e:(n=this.queue,this.queue=[]),0!==n.length){this.enableSequenceNumberLix&&"undefined"!=typeof window&&!1===this.isTimerRunning&&(this.isTimerRunning=!0,setInterval((function(){t.updateSequenceNumberToIDB()}),5e3))
var r,i,a=[],o=[]
n.forEach((function(e){var n=t.getGenericEventBody(e),r=t.getBreadcrumbs(e),i=t.envelop(e.id,n,r)
t.trigger(i,e.meta)
var s=i.eventInfo.eventName
if("LixTreatmentsEvent"===s||"JavaScriptErrorEvent"===s?a.push(i):o.push(i),t.enableSequenceNumberLix){"number"==typeof t.clientGlobalSequenceNumberCounter&&t.clientGlobalSequenceNumberCounter++
var c=gr(e.id)
Rr.includes(c)&&"number"==typeof t.clientTopicLocalSequenceNumberCountersMap[c]&&t.clientTopicLocalSequenceNumberCountersMap[c]++}})),this.host.inactive||(this.clientMonitoringConn&&(this.clientMonitoringConn.logEventSent(a.length+o.length),i=this.clientMonitoringConn,r={onResult:function(e,n){i&&!i.isDestroyed()&&(e.statusCode&&i.logNetworkResponseCode(e.statusCode),!0===e.drop&&n.forEach((function(n){var t=n.eventInfo.eventName,r=n.eventInfo.topicName||t,a="rawError"in e?e.rawError:"null",o=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(a)].join(", ")
null==i||i.logFailedEvent(Tr.UNKNOWN_EXECUTION_ERROR,{eventName:t,topicName:r},o,n.eventBody.header.clientMonitoringInstanceEventNumber||-1)})))}}),this.networkTransporter.sendPayloadFireForget(this.host.endpoint,a,void 0,r),this.networkTransporter.sendPayload(this.host.endpoint,o,void 0,r))}}}]),e}(),Mr=function(){function e(n,t){cn(this,e),this.clientBreadcrumbType=n,this.id=t}return un(e,[{key:"builder",get:function(){return function(){var e={},n=new Proxy({},{get:function(t,r){return"build"===r?function(){return e}:function(t){return e[r.toString()]=t,n}}})
return n}().id(this.id).clientBreadcrumbType(this.clientBreadcrumbType)}}],[{key:"toPointer",value:function(e){return{id:e.id,type:e.clientBreadcrumbType}}}]),e}()
function Or(e){return"retryConfig"in e.host}!function(e){e.UNKNOWN="UNKNOWN",e.ME_NOTIFICATION="ME_NOTIFICATION",e.ME_NOTIFICATION_ACTION="ME_NOTIFICATION_ACTION"}(Ar||(Ar={})),un((function e(n,t){var r,i
if(cn(this,e),ln(this,"transporter",void 0),ln(this,"delegate",void 0),ln(this,"currentContext",void 0),ln(this,"appState",void 0),ln(this,"previousAppContext",void 0),ln(this,"customTransporters",void 0),ln(this,"clientMonitoringConn",void 0),this.transporter=n,this.delegate=t,this.appState={},this.customTransporters={},t&&t.customTransporterHosts)for(var a in t.customTransporterHosts)if(Object.prototype.hasOwnProperty.call(t.customTransporterHosts,a)){var o=this.transporter.host.api.assign({},this.transporter.host)
this.customTransporters[a]=new xr(this.transporter.host.api.assign(o,t.customTransporterHosts[a]))}"enabled"===(null===(r=(i=n.host).__getLixTreatment)||void 0===r?void 0:r.call(i,"pemberly.tracking.monitoring"))&&n.host.clientMonitoringConfig&&!n.host.inactive&&"location"in n.host.api&&(this.clientMonitoringConn=Er(n.host))}),[{key:"host",get:function(){return this.transporter.host}},{key:"checkAndEnablePersistentRetry",value:function(){Or(this.transporter)&&this.transporter.checkAndEnablePersistentRetry(this.delegate)}},{key:"flushAndClearPersistedEventsOnLogout",value:function(){this.forceFlush()
var e=Or(this.transporter)?this.transporter.clearPersistedEventsOnLogout():null
return null!=e?e:this.host.api.Promise.resolve()}},{key:"getCurrentContext",value:function(){if(this.currentContext)return er(this.currentContext,this.host.api)}},{key:"navigate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.navMetaFromSeed(e,function(e){if(!e)return{}
var n=e.trk,t=!1,r=e.licu&&decodeURIComponent(e.licu)
e.external_control&&(r="urn:li:externalControl:".concat(decodeURIComponent(e.external_control)),t=!0)
var i,a=e.lipi&&function(e){var n=decodeURIComponent(e).split(";")
if(n.length>1)return{pageUrn:n[0],trackingId:n[1]}}(e.lipi)
if(a?i={pageInstance:a,pageKey:n}:n&&(i={pageKey:n}),e.external_page&&e.external_page_instance){var o=decodeURIComponent(e.external_page)
i={pageInstance:{pageUrn:"urn:li:externalPage:".concat(o),trackingId:e.external_page_instance},pageKey:o},t=!0}var s=e.external_app&&e.external_app_instance?{applicationUrn:"urn:li:externalApplication:".concat(decodeURIComponent(e.external_app)),trackingId:e.external_app_instance,version:""}:void 0
return s&&((i=i||{}).applicationInstance=s),{fromExternalApp:t||!!s,previousApplicationInstance:s,previousContext:i,previousControlId:e.lici&&decodeURIComponent(e.lici),previousControlUrn:r}}(n))
if(this.setCurrentContext(r.to),!t.suppressEventsFiring)return this.fireNavEvents(r)}},{key:"setCurrentContext",value:function(e){var n
this.currentContext=er(e,this.host.api),null===(n=this.clientMonitoringConn)||void 0===n||n.setCurrentContext(er(e,this.host.api))}},{key:"updateAppState",value:function(e){var n
this.host.api.assign(this.appState,e),null===(n=this.clientMonitoringConn)||void 0===n||n.updateAppState(e)}},{key:"fireCIE",value:function(e,n,t,r,i){return this.fireEvent("ControlInteractionEvent",(function(t){var a=Jt(t.pageKey,e),o={controlTrackingId:r,controlUrn:a,interactionType:n}
return i&&i(a),o}),{context:t})}},{key:"fireEvent",value:function(e,n,t,r){if(!n){var i=gr(e),a=void 0===n?"undefined":null===n?"null":sn(n),o='Firing tracking event "'.concat(i,'" with invalid body, you fired "').concat(a,'"')
if(this.clientMonitoringConn){var s=this.clientMonitoringConn.logEventGenerated(i)
this.clientMonitoringConn.logFailedEvent(Tr.MISSING_REQUIRED_PROPERTIES,e,o,s)}throw new Error(o)}var c=r||[]
if(c.length>0){var d=c.map((function(e){return Mr.toPointer(e)}))
this.host.api.assign(n,{clientBreadcrumbPointers:d})}var u=c.length>0?this.generateEnvelopeWithBreadcrumbs(e,n,t,c):this.generateEnvelope(e,n,t)
return this.fireEnvelope(u)}},{key:"generateEnvelopeWithBreadcrumbs",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this.generateEnvelope(e,n,t)
return r.length>0?this.addBreadcrumbsToEnvelope(i,r):i}},{key:"addBreadcrumbsToEnvelope",value:function(e,n){var t=n.map((function(e){var n=e
return delete n.clientBreadcrumbType,n}))
return this.host.api.assign(e,{clientBreadcrumbs:t}),e}},{key:"fireEnvelope",value:function(e){var n,t
if(null!==(n=this.delegate)&&void 0!==n&&null!==(t=n.shouldAnonymizeMemberId)&&void 0!==t&&t.call(n))if(yr(e.id)){var r=e.id
e.id={eventName:r,topicName:r,shouldAnonymizeMemberId:!0}}else e.id.shouldAnonymizeMemberId=!0
var i=this.delegate&&this.delegate.preTransporter?this.delegate.preTransporter(e):e
if(i){var a=i.meta.transporterKey,o=a?this.customTransporters[a]:this.transporter
if(!o&&a){var s=gr(i.id),c="Could not find custom transporter: ".concat(a)
if(this.clientMonitoringConn){var d=this.clientMonitoringConn.logEventGenerated(s)
this.clientMonitoringConn.logFailedEvent(Tr.UNKNOWN_EXECUTION_ERROR,i.id,c,d)}throw new Error(c)}return o.fireEvent(i)}return this.host.api.Promise.resolve(!0)}},{key:"generatePageInstance",value:function(e,n){return Xt(e,n)}},{key:"firePVE",value:function(e,n,t){return this._firePVE(e,n,t)}},{key:"_firePVE",value:function(e,n,t){var r={pageType:"full",totalTime:0,trackingCode:this.getTrackingCode(),trackingInfo:{}},i=this.host.api.assign(r,n),a=this.generateEnvelope("PageViewEvent",i,{context:t})
return a.meta.requestHeader.pageKey=e,this.fireEnvelope(a)}},{key:"destroy",value:function(){for(var e in this.transporter.destroy(),this.customTransporters)this.customTransporters[e].destroy()
this.clientMonitoringConn&&(this.clientMonitoringConn.flush(),this.clientMonitoringConn.destroy(),this.clientMonitoringConn=void 0),jt.clear()}},{key:"forceFlush",value:function(){for(var e in this.transporter.forceFlush(),this.customTransporters)this.customTransporters[e].forceFlush()}},{key:"generateControlUrn",value:function(e,n){return Jt((n||this.currentContext||{pageKey:"unknown"}).pageKey,e)}},{key:"fireRawCIE",value:function(e,n,t,r){var i={controlTrackingId:r,controlUrn:e,interactionType:n}
return{beacon:this.fireEvent("ControlInteractionEvent",i,{context:t}),controlUrn:e}}},{key:"generateNavigationEvent",value:function(e){var n=e.triggerId,t=e.triggerUrn,r=e.from
return{previousPageInstance:r&&r.pageInstance,triggerControlTrackingId:n,triggerControlUrn:t}}},{key:"getTrackingCode",value:function(){return this.previousAppContext&&this.previousAppContext.pageKey}},{key:"navMetaFromSeed",value:function(e,n){var t="NavigationEvent"
this.previousAppContext=n.previousContext
var r=n.fromExternalApp?{eventName:t,topicName:"InboundNavigationEvent"}:t
return{from:n.previousContext,navEventId:r,to:{applicationInstance:n.applicationInstance,pageInstance:this.generatePageInstance(e,n.pageTrackingId),pageKey:e},triggerId:n.previousControlId,triggerUrn:n.previousControlUrn}}},{key:"fireNavEvents",value:function(e){var n=this.generateNavigationEvent(e),t=e.to,r=e.from,i=e.navEventId,a=this.generateEnvelope(i,n)
a.meta.requestHeader.pageKey=t.pageKey
var o=r&&r.applicationInstance
return o&&(a.meta.header.clientApplicationInstance=o),this.host.api.Promise.all([this._firePVE(t.pageKey),this.fireEnvelope(a)])}},{key:"generateEnvelope",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={directive:t.directive,transporterKey:t.transporterKey,context:t.context||this.currentContext&&er(this.currentContext,this.host.api),requestHeader:this.host.api.assign({trackingCode:this.getTrackingCode()},t.requestHeader||{}),header:this.host.api.assign({applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:this.appState.clientApplicationInstance},t.header||{})}
return{body:"function"==typeof n?n:function(){return n},id:e,meta:r}}}]),un((function e(n,t){var r,i=this
cn(this,e),ln(this,"core",void 0),ln(this,"protocol",void 0),ln(this,"throttleKeySet",new Set),ln(this,"config",void 0),ln(this,"reportTransporterError",(function(e){e.reason instanceof Error||(e.reason=new Error(e.reason||"An error occurred in the transporter")),i.reportError(e.reason,e.tags.concat(["info"])).catch((function(){}))})),this.core=n
var a=this.core.host.api.location.protocol
this.protocol=a.substring(0,a.length-1),this.config={throttleTime:null!==(r=null==t?void 0:t.throttleTime)&&void 0!==r?r:100},jt.on("internal:error",this.reportTransporterError)}),[{key:"reportError",value:function(e){var n,t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.callTreeId,o=void 0===a?"":a,s=i.responseHeaders,c=void 0===s?{}:s,d=e.message,u=e.name,l=e.stack,p=void 0===l?"":l,f=e.fileName,h=void 0===f?"":f,m=e.lineNumber,y=void 0===m?0:m,g=e.columnNumber,v=void 0===g?0:g,b=this.core.host,T=b.appId,_=b.appVersion,E=b.service,S=b.serviceInstance,C=b.treeID,A=void 0===C?"":C,k=b.api,I=k.Promise,R=k.location,w=R.host,x=R.pathname,M=R.search,O=R.hash,N=void 0===O?"":O
if(c){n={}
var P=new Map
Object.keys(c).forEach((function(e){P.set(e.toLowerCase(),c[e])})),n.callTreeId=P.get("x-li-uuid"),n.microsoftEdgeReference=P.get("x-msedge-ref"),n.pointOfPresenceId=P.get("x-li-pop"),n.fabric=P.get("x-li-fabric")}var U=function(){return t.core.fireEvent("JavaScriptErrorEvent",(function(e){return{appId:T,e:{c:v,l:y,m:d,s:p,t:u,u:h},h:N,l:t.protocol,o:w,p:x,pageKey:e.pageKey,q:M,service:E,serviceInstance:S,serviceVersion:_,t:r,trackingID:e.pageInstance.trackingId,treeID:A,callTreeId:o,responseTraceHeaders:n}}))}
if(this.config.throttleTime<0)return U()
var D=function(e){return e.split("").reduce((function(e,n){return(e<<5)-e+n.charCodeAt(0)|0}),0)}(u+d+p+r.join("")+o)
return this.throttleKeySet.has(D)?I.resolve(!1):(this.throttleKeySet.add(D),setTimeout((function(){return t.throttleKeySet.delete(D)}),this.config.throttleTime),U())}},{key:"flush",value:function(){this.core.forceFlush()}},{key:"destroy",value:function(){this.core.destroy(),jt.off("internal:error",this.reportTransporterError)}}]),function(e){e.RealUserMonitoringEvent="RealUserMonitoringEvent",e.FeaturePerformanceMeasurementEvent="FeaturePerformanceMeasurementEvent",e.ClientPerfMetricsEvent="ClientPerfMetricsEvent",e.WEB_UI_FRAMEWORK="web-ui-framework",e.APP_ID="app-id",e.APP_VERSION="app-version",e.IS_SINGLE_PAGE_APP="is-single-page-app",e.IS_APP_RENDER_FAILED="is-app-render-failed",e.APP_RENDER_MODE="app-render-mode",e.USER_TIMING_MARK_ENABLED="user-timing-mark-enabled",e.USER_TIMING_MEASURE_ENABLED="user-timing-measure-enabled",e.BEACON_SOURCE="beacon-source",e.BEACON_TIMEOUT="beacon-timeout",e.ENABLE_RS_TIMING="enable-rs-timing",e.ENABLE_CDN_TRACKING="enable-cdn-tracking",e.ASYNC_PLUGINS_TIMEOUT="async-plugins-timeout",e.ENABLE_MEMORY_MEASUREMENT="enable-memory-measurement",e.PAGE_KEY_PREFIX="pageKeyPrefix"}(kr||(kr={})),function(e){e.PageLoadStartEvent="PageLoadStartEvent",e.PageLoadEndEvent="PageLoadEndEvent",e.ResourceLoadEvent="ResourceLoadEvent",e.CustomMeasureEvent="CustomMeasureEvent",e.ViewLoadEvent="ViewLoadEvent"}(Ir||(Ir={}))
var Nr,Pr,Ur,Dr,Lr,Fr,Br=(ln(Ke={},"web-ui-framework","EMBER"),ln(Ke,"app-id","linkedin.rum.tracking"),ln(Ke,"app-version","unknown"),ln(Ke,"is-single-page-app",!0),ln(Ke,"user-timing-mark-enabled",!1),ln(Ke,"user-timing-measure-enabled",!0),ln(Ke,"beacon-source","apps"),ln(Ke,"enable-rs-timing",!0),ln(Ke,"enable-cdn-tracking",!1),ln(Ke,"async-plugins-timeout",5e3),ln(Ke,"beacon-timeout",3e4),ln(Ke,"enable-memory-measurement",!1),ln(Ke,"pageKeyPrefix",""),Ke),jr=["loadEventEnd","loadEventStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","responseEnd","responseStart","requestStart","secureConnectionStart","connectEnd","connectStart","domainLookupEnd","domainLookupStart","fetchStart","redirectEnd","redirectStart","unloadEventEnd","unloadEventStart","navigationStart"],qr={redirectStart:"REDIRECT_START",redirectEnd:"REDIRECT_END",fetchStart:"FETCH_START",domainLookupStart:"DOMAIN_LOOKUP_START",domainLookupEnd:"DOMAIN_LOOKUP_END",connectStart:"CONNECT_START",connectEnd:"CONNECT_END",secureConnectionStart:"SECURE_CONNECTION_START",requestStart:"REQUEST_START",responseStart:"RESPONSE_START",responseEnd:"RESPONSE_END",workerStart:"WORKER_START"},Vr={"http/0.9":"HTTP0_9","http/1.0":"HTTP1_0","http/1.1":"HTTP1_1",h2:"HTTP2"},Hr="rum token passed is invalid",Gr=function(){function e(){cn(this,e),ln(this,"userTimingEntries",[]),ln(this,"longTasks",[]),ln(this,"resourceTimingEntries",[]),ln(this,"cdnData",void 0)}return un(e,[{key:"reset",value:function(){this.userTimingEntries=[],this.longTasks=[],this.resourceTimingEntries=[]}},{key:"attachTreeIds",value:function(e){this.resourceTimingEntries.forEach((function(n){var t=e.get(n.name)
t&&(n.resourceTreeId=t)}))}},{key:"getData",value:function(){return{userTimingEntries:this.userTimingEntries,longTasks:this.longTasks,resourceTimingEntries:this.resourceTimingEntries.map(Wr),cdnData:this.cdnData}}}]),e}(),Kr=["resourceTreeId","name","entryType","startTime","duration","initiatorType","nextHopProtocol","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize","workerStart"]
function Wr(e){return Kr.reduce((function(n,t){var r=e[t]
return void 0!==r&&(n[t]=r),n}),{})}function zr(e,n,t){for(var r=null,i=[],a=e,o=0,s=function(){var e=ei(function(e){var n=e.getAttribute("id")
return n&&Lr.idName(n)?{name:"#"+li(n,{isIdentifier:!0}),penalty:0}:null}(a))||ei.apply(void 0,rn(function(e){return Array.from(e.attributes).filter((function(e){return Lr.attr(e.name,e.value)})).map((function(e){return{name:"["+li(e.name,{isIdentifier:!0})+'="'+li(e.value)+'"]',penalty:.5}}))}(a)))||ei.apply(void 0,rn(function(e){return Array.from(e.classList).filter(Lr.className).map((function(e){return{name:"."+li(e,{isIdentifier:!0}),penalty:1}}))}(a)))||ei(function(e){var n=e.tagName.toLowerCase()
return Lr.tagName(n)?{name:n,penalty:2}:null}(a))||[{name:"*",penalty:3}],s=function(e){var n=e.parentNode
if(!n)return null
var t=n.firstChild
if(!t)return null
for(var r=0;t&&(t.nodeType===Node.ELEMENT_NODE&&r++,t!==e);)t=t.nextSibling
return r}(a)
if(n===Dr.All)s&&(e=e.concat(e.filter(Zr).map((function(e){return Jr(e,s)}))))
else if(n===Dr.Two)e=e.slice(0,1),s&&(e=e.concat(e.filter(Zr).map((function(e){return Jr(e,s)}))))
else if(n===Dr.One){var c=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=t){var r,i,a=[],o=!0,s=!1
try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),1!==a.length);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e)||an(e,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e=e.slice(0,1))[0]
s&&Zr(c)&&(e=[Jr(c,s)])}var d,u=tn(e)
try{for(u.s();!(d=u.n()).done;)d.value.level=o}catch(e){u.e(e)}finally{u.f()}if(i.push(e),i.length>=Lr.seedMinLength&&(r=Qr(i,t)))return"break"
a=a.parentElement,o++};a&&a!==Lr.root.parentElement&&"break"!==s(););return r||(r=Qr(i,t)),r}function Qr(e,n){var t=ri(ti(e))
if(t.length>Lr.threshold)return n?n():null
var r,i=tn(t)
try{for(i.s();!(r=i.n()).done;){var a=r.value
if(Xr(a))return a}}catch(e){i.e(e)}finally{i.f()}return null}function $r(e){for(var n=e[0],t=n.name,r=1;r<e.length;r++){var i=e[r].level||0
t=n.level===i-1?"".concat(e[r].name," > ").concat(t):"".concat(e[r].name," ").concat(t),n=e[r]}return t}function Yr(e){return e.map((function(e){return e.penalty})).reduce((function(e,n){return e+n}),0)}function Xr(e){switch(Fr.querySelectorAll($r(e)).length){case 0:throw new Error("Can't select any node with this selector: ".concat($r(e)))
case 1:return!0
default:return!1}}function Jr(e,n){return{name:e.name+":nth-child(".concat(n,")"),penalty:e.penalty+1}}function Zr(e){return"html"!==e.name&&!e.name.startsWith("#")}function ei(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
var r=n.filter(ni)
return r.length>0?r:null}function ni(e){return null!=e}function ti(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
if(e.length>0){var t,r=[],i=tn(e[0])
try{for(i.s();!(t=i.n()).done;){var a=t.value
r=r.concat(ti(e.slice(1,e.length),n.concat(a)))}}catch(e){i.e(e)}finally{i.f()}return r}return[n]}function ri(e){return Array.from(e).sort((function(e,n){return Yr(e)-Yr(n)}))}function ii(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{counter:0,visited:new Map},r=[]
if(e.length>2&&e.length>Lr.optimizedMinLength)for(var i=1;i<e.length-1;i++){if(t.counter>Lr.maxNumberOfTries)return r
t.counter+=1
var a=rn(e)
a.splice(i,1)
var o=$r(a)
if(t.visited.has(o))return r
Xr(a)&&ai(a,n)&&(r.push(a),t.visited.set(o,!0),r=r.concat(ii(a,n,t)))}return r}function ai(e,n){return Fr.querySelector($r(e))===n}!function(e){e.HTTP0_9="HTTP0_9",e.HTTP1_0="HTTP1_0",e.HTTP1_1="HTTP1_1",e.HTTP2="HTTP2",e.UNKNOWN="UNKNOWN"}(Nr||(Nr={})),function(e){e.REDIRECT_START="REDIRECT_START",e.REDIRECT_END="REDIRECT_END",e.FETCH_START="FETCH_START",e.DOMAIN_LOOKUP_START="DOMAIN_LOOKUP_START",e.DOMAIN_LOOKUP_END="DOMAIN_LOOKUP_END",e.CONNECT_START="CONNECT_START",e.CONNECT_END="CONNECT_END",e.SECURE_CONNECTION_START="SECURE_CONNECTION_START",e.REQUEST_START="REQUEST_START",e.RESPONSE_START="RESPONSE_START",e.RESPONSE_END="RESPONSE_END",e.WORKER_START="WORKER_START"}(Pr||(Pr={})),function(e){e.redirectStart="redirectStart",e.redirectEnd="redirectEnd",e.fetchStart="fetchStart",e.domainLookupStart="domainLookupStart",e.domainLookupEnd="domainLookupEnd",e.connectStart="connectStart",e.connectEnd="connectEnd",e.secureConnectionStart="secureConnectionStart",e.requestStart="requestStart",e.responseStart="responseStart",e.responseEnd="responseEnd",e.workerStart="workerStart"}(Ur||(Ur={})),function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(Dr||(Dr={}))
var oi,si=/[ -,\.\/:-@\[-\^`\{-~]/,ci=/[ -,\.\/:-@\[\]\^`\{-~]/,di=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,ui={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1}
function li(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object.assign(Object.assign({},ui),n)
"single"!=t.quotes&&"double"!=t.quotes&&(t.quotes="single")
for(var r="double"==t.quotes?'"':"'",i=t.isIdentifier,a=e.charAt(0),o="",s=0,c=e.length;s<c;){var d=e.charAt(s++),u=d.charCodeAt(0),l=void 0
if(u<32||u>126){if(u>=55296&&u<=56319&&s<c){var p=e.charCodeAt(s++)
56320==(64512&p)?u=((1023&u)<<10)+(1023&p)+65536:s--}l="\\"+u.toString(16).toUpperCase()+" "}else l=t.escapeEverything?si.test(d)?"\\"+d:"\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(d)?"\\"+u.toString(16).toUpperCase()+" ":"\\"==d||!i&&('"'==d&&r==d||"'"==d&&r==d)||i&&ci.test(d)?"\\"+d:d
o+=l}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(a)&&(o="\\3"+a+" "+o.slice(1))),o=o.replace(di,(function(e,n,t){return n&&n.length%2?e:(n||"")+t})),!i&&t.wrap?r+o+r:o}function pi(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(e&&"function"==typeof e.now&&(e.timeOrigin||e.timing)){var t,r=e.now()
return t=!e.timing&&n?Math.floor(e.timeOrigin):e.timing.navigationStart,Math.round(r+t)}return Date.now()}function fi(e){var n=e||performance
return Math.round(n.now())}function hi(e){if(!e)return"null"
if(e.nodeType===Node.ELEMENT_NODE)try{return function(e,n){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.")
if("html"===e.tagName.toLowerCase())return"html"
var t={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,n){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4}
Lr=Object.assign(Object.assign({},t),{idName:function(e){return 0!==e.indexOf("ember")}}),Fr=function(e,n){return e.nodeType===Node.DOCUMENT_NODE?e:e===n.root?e.ownerDocument:e}(Lr.root,t)
var r=zr(e,Dr.All,(function(){return zr(e,Dr.Two,(function(){return zr(e,Dr.One)}))}))
if(r){var i=ri(ii(r,e))
return i.length>0&&(r=i[0]),$r(r)}throw new Error("Selector was not found.")}(e)}catch(e){return"serialization_error"}var n=hi(e.parentElement||void 0)
return"".concat(n," > nodeType(").concat(e.nodeType,")")}function mi(e,n,t,r){var i=[]
return e&&"function"==typeof e.getEntriesByType&&(n["user-timing-measure-enabled"]&&e.getEntriesByType("measure").forEach((function(e){var n=e.name,t=e.startTime,a=e.duration
i.push({entryType:"MEASURE",name:n,startTime:t,duration:a}),null==r||r({measurementName:n,measurementType:"MEASURE",measureProgressStates:[{measureProgressName:n,timestamp:t,duration:a}]})})),n["user-timing-mark-enabled"]&&e.getEntriesByType("mark").forEach((function(e){var n=e.name,t=e.startTime,a=e.duration
i.push({entryType:"MARK",name:n,startTime:t,duration:a}),null==r||r({measurementName:n,measurementType:"MARK",measureProgressStates:[{measureProgressName:n,timestamp:t}]})})),t&&(e.clearMeasures(),e.clearMarks())),i}function yi(e){var n=[]
return e.forEach((function(e){return n.push(e)})),n}var gi=function(){function e(n){cn(this,e),ln(this,"hostApis",void 0),ln(this,"hostnameProperties",void 0),ln(this,"usedHostnames",void 0),ln(this,"abortController",void 0),ln(this,"pendingPromises",void 0),this.hostApis=n
var t=n.AbortController
this.hostnameProperties={},this.usedHostnames=new Set,this.abortController=new t,this.pendingPromises=new Set}return un(e,[{key:"clearUsedHostnames",value:function(){this.usedHostnames=new Set}},{key:"getPresentData",value:function(){var e=this
return tr(this.usedHostnames).map((function(n){return e.hostnameProperties[n]||{hostname:n,provider:"",ipVersion:"",httpVersion:""}}))}},{key:"getDataWhenReady",value:function(e){var n=this,t=this.hostApis,r=t.AbortController,i=t.Promise,a=nr(tr(this.pendingPromises),i),o=setTimeout((function(){n.abortController.abort(),n.abortController=new r}),e)
return a.then((function(){return clearTimeout(o),n.getPresentData()}))}},{key:"inspectEntryForCdnData",value:function(e){var n=this
if(!(e.name.indexOf(".licdn.")<0)){var t,r,i=this.hostApis.assign,a=(t=e.name,r=this.hostApis.document,(oi=oi||r.createElement("a")).href=t,oi.hostname)
if(this.usedHostnames.add(a),!this.hostnameProperties[a]&&!this.isResourcePossiblyFromCache(e)){var o=this.fetchCdnFromUrl(e.name).then((function(e){var t=i({hostname:a},e)
return n.hostnameProperties[a]||(n.hostnameProperties[a]=t),n.pendingPromises.delete(o),t}))
this.pendingPromises.add(o)}}}},{key:"fetchCdnFromUrl",value:function(e){return(0,this.hostApis.fetch)(e,{method:"HEAD",signal:this.abortController.signal}).then((function(e){return{provider:e.headers.get("X-CDN")||"",ipVersion:e.headers.get("X-CDN-CLIENT-IP-VERSION")||"",httpVersion:e.headers.get("X-CDN-Proto")||""}}))}},{key:"isResourcePossiblyFromCache",value:function(e){return void 0!==e.transferSize?0===e.transferSize:e.domainLookupStart===e.domainLookupEnd&&e.connectEnd===e.connectStart&&0===e.secureConnectionStart}}]),e}(),vi=function(){function e(n,t,r,i,a,o,s){cn(this,e),ln(this,"hostApis",void 0),ln(this,"statics",void 0),ln(this,"options",void 0),ln(this,"allowTimingOrigin",void 0),ln(this,"fireCustomMeasureEvent",void 0),ln(this,"fireResourceLoadEvent",void 0),ln(this,"isTracerLixEnabled",void 0),ln(this,"collectResourceTimings",void 0),ln(this,"collectCdnData",void 0),ln(this,"perfObserver",void 0),ln(this,"renderTimings",new Map),ln(this,"urlToTreeId",new Map),ln(this,"cdnDataProvider",void 0),ln(this,"observables",new Gr),this.hostApis=n,this.statics=t,this.options=r,this.allowTimingOrigin=i,this.fireCustomMeasureEvent=a,this.fireResourceLoadEvent=o,this.isTracerLixEnabled=s,this.collectResourceTimings=r["enable-rs-timing"],this.collectCdnData=r["enable-cdn-tracking"],this.collectCdnData&&(this.cdnDataProvider=new gi(n))}return un(e,[{key:"recordTreeId",value:function(e,n){this.collectResourceTimings&&this.urlToTreeId.set(function(e,n){return(oi=oi||n.createElement("a")).href=e,oi.href}(n,this.hostApis.document),e)}},{key:"recordRenderStart",value:function(e,n){this.renderTimings.has(e)||this.renderTimings.set(e,{renderName:n,viewId:e,renderStart:pi(this.hostApis.performance,this.allowTimingOrigin)})}},{key:"recordRenderEnd",value:function(e,n,t){var r=this.renderTimings.get(e)
if(r&&(r.renderEnd=r.renderEnd||pi(this.hostApis.performance,this.allowTimingOrigin),n))return t?this.collectViewLoadEventData(r,t):void ar("ViewLoadEvent","pageLoadId does not exist")}},{key:"collectViewLoadEventData",value:function(e,n){var t=e.renderName,r=e.renderEnd,i=void 0===r?-1:r,a=e.renderStart,o=void 0===a?-1:a,s=[]
return s.push({viewProgressType:"RENDER_START",timestamp:o}),s.push({viewProgressType:"RENDER_END",timestamp:i}),{parentPageLoadId:n,viewHierarchy:[t],viewProgressStates:s}}},{key:"startObserving",value:function(){var e=this.hostApis,n=e.PerformanceObserver,t=e.performance
this.stopObserving(),n?this.setupPerformanceObserver(n):this.collectResourceTimings&&this.emulateResourceTimingObserver(t),this.collectResourceTimings&&this.processNewResourceTimings()}},{key:"stopObserving",value:function(){var e
null===(e=this.perfObserver)||void 0===e||e.disconnect(),this.reset()}},{key:"collect",value:function(e){var n=this,t=e.isInitial,r=e.immediate,i=this.collectSynchronousData(t)
if(r)return i
var a=this.collectAsynchronousData()
return"then"in a?a.then((function(e){return(0,n.hostApis.assign)(i,e),i})):i}},{key:"collectPageLoadStartData",value:function(e){var n=e.isInitial,t=e.rumKey,r=Object.create(null)
r.pageKey=t,r.pageLoadType=n?"INITIAL_LOAD":"SUBSEQUENT_LOAD",r.networkInformationMetrics=this.snapshot.networkInformationMetrics
var i=this.statics,a=i.webUIFramework,o=i.timeSource,s=i.isSinglePageApp,c=i.appRenderMode,d=i.isAppRenderFailed,u=i.isFromServiceWorker,l=i.treeId
return r.treeId=l,r.browserPageLoadStartContext={webUIFramework:a,timeSource:o,isSinglePageApp:s,appRenderMode:c,isAppRenderFailed:d,isFromServiceWorker:u},r}},{key:"collectPageLoadEndData",value:function(e){var n=Object.create(null),t=Object.create(null)
n.cdnData=[],n.browserPageLoadEndContext={},n.navigationTiming=Object.create(null)
var r=e.isInitial,i=e.immediate,a=this.hostApis.assign
if(r){var o=Ti(this.hostApis.performance),s=o.htmlMetrics,c=o.redirectCount,d=o.navigationType,u=o.workerStart
s&&(n.browserPageLoadEndContext.htmlMetrics=Object.create(null),a(n.browserPageLoadEndContext.htmlMetrics,s)),Object.prototype.hasOwnProperty.call(o,"redirectCount")&&(t.redirectCount=c),Object.prototype.hasOwnProperty.call(o,"navigationType")&&(t.navigationType=d),t.workerStart=null!=u?u:0,jr.forEach((function(e){Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})),a(n.navigationTiming,t)}if(!i){var l=this.collectAsynchronousData()
if("then"in l)return l.then((function(e){return a(n.cdnData,e.cdnData),n}))}var p=this.collectAsynchronousData(!0)
return a(n.cdnData,p.cdnData),n}},{key:"collectResourceLoadEvent",value:function(e){var n=e.name,t=e.transferSize,r=e.initiatorType,i=e.nextHopProtocol,a=e.encodedBodySize,o=e.decodedBodySize,s={}
s.resourceKey=n,s.isNetwork=!!t&&0!==t,s.loadType=r||"unknown"
var c={},d=this.urlToTreeId.get(n)
d&&(c.resourceTreeId=d)
var u=Vr[i]
c.nextHopProtocol=null!=u?u:"UNKNOWN",c.transferSize=t,c.encodedBodySize=a,c.decodedBodySize=o,s.resourceNetworkContext=c
var l=[]
return Object.keys(qr).forEach((function(n){var t
n in Ur&&void 0!==e[n]&&l.push({resourceProgressType:qr[n],timestamp:null!==(t=e[n])&&void 0!==t?t:-1})})),s.resourceProgressStates=l,s}},{key:"reset",value:function(){var e
this.observables.reset(),null===(e=this.cdnDataProvider)||void 0===e||e.clearUsedHostnames()}},{key:"collectSynchronousData",value:function(e){var n=this.hostApis,t=n.assign,r=n.PerformanceObserver,i=Object.create(null)
return this.statics.pageLoadMode=e?"INITIAL":"PARTIAL",r||(this.observables.userTimingEntries=mi(this.hostApis.performance,this.options,!0,this.fireCustomMeasureEvent),this.collectResourceTimings&&this.processNewResourceTimings()),this.observables.attachTreeIds(this.urlToTreeId),this.urlToTreeId.clear(),t(i,this.observables.getData(),this.snapshot,this.statics),e&&t(i,Ti(this.hostApis.performance)),t(i,this.collectAsynchronousData(!0)),i}},{key:"collectAsynchronousData",value:function(e){var n=this,t={cdnData:[],usedCDN:this.extractUsedCDN([])}
if(e){if(this.collectCdnData){var r=this.cdnDataProvider.getPresentData()
t.cdnData=r,t.usedCDN=this.extractUsedCDN(r)}return t}var i=[]
return this.collectCdnData&&i.push(this.cdnDataProvider.getDataWhenReady(this.options["async-plugins-timeout"]).then((function(e){t.cdnData=e,t.usedCDN=n.extractUsedCDN(e)}))),i.length>0?nr(i,Promise).then((function(){return t})):t}},{key:"setupPerformanceObserver",value:function(e){var n=this
this.perfObserver=new e((function(e){e.getEntries().forEach((function(e){var t=e.entryType,r=e.name,i=e.startTime,a=e.duration
"resource"===t?n.processSingleResourceTiming(e):"mark"===t?(n.observables.userTimingEntries.push({entryType:"MARK",name:r,startTime:i,duration:a}),n.fireCustomMeasureEvent({measurementName:r,measurementType:"MARK",measureProgressStates:[{measureProgressName:r,timestamp:i}]})):"measure"===t?(n.observables.userTimingEntries.push({entryType:"MEASURE",name:r,startTime:i,duration:a}),n.fireCustomMeasureEvent({measurementName:r,measurementType:"MEASURE",measureProgressStates:[{measureProgressName:r,timestamp:i,duration:a}]})):"longtask"===t&&(n.observables.longTasks.push({duration:a,name:r,startTime:i}),n.fireCustomMeasureEvent({measurementName:r,measurementType:"LONG_TASK",measureProgressStates:[{measureProgressName:r,timestamp:i,duration:a}]}))}))})),this.observables.userTimingEntries=mi(this.hostApis.performance,this.options,!1,this.fireCustomMeasureEvent)
var t=["longtask"];(this.collectResourceTimings||this.collectCdnData)&&t.push("resource"),this.options["user-timing-mark-enabled"]&&t.push("mark"),this.options["user-timing-measure-enabled"]&&t.push("measure"),this.perfObserver.observe({entryTypes:t})}},{key:"emulateResourceTimingObserver",value:function(e){var n=this
e&&"function"==typeof e.setResourceTimingBufferSize&&"function"==typeof e.onresourcetimingbufferfull&&(e.setResourceTimingBufferSize(100),e.onresourcetimingbufferfull=function(){return n.processNewResourceTimings()})}},{key:"processNewResourceTimings",value:function(){var e=this,n=this.hostApis.performance
"function"==typeof n.getEntriesByType&&"function"==typeof n.clearResourceTimings&&(n.getEntriesByType("resource").forEach((function(n){return e.processSingleResourceTiming(n)})),n.clearResourceTimings())}},{key:"processSingleResourceTiming",value:function(e){if(this.collectResourceTimings){this.observables.resourceTimingEntries.push(e)
var n=-1!==e.name.indexOf("/li/track")
if(this.isTracerLixEnabled&&!n){var t=this.collectResourceLoadEvent(e)
this.fireResourceLoadEvent(t)}}this.collectCdnData&&this.cdnDataProvider.inspectEntryForCdnData(e)}},{key:"extractUsedCDN",value:function(e){var n=e.filter((function(e){return e.hostname.indexOf("static")>=0})),t=n.length>0?n[0]:{hostname:"",provider:"",httpVersion:"",ipVersion:""}
return{static_domain:t.provider,http_version:t.httpVersion,ip_version:t.ipVersion}}},{key:"snapshot",get:function(){var e={detailedRenderTimingEntries:yi(this.renderTimings),networkInformationMetrics:bi(this.hostApis.connection)}
return this.renderTimings.clear(),e}}]),e}()
function bi(e){return e?{connectionType:e.type&&e.type.toUpperCase()||"UNKNOWN",effectiveType:function(e){switch(e){case"2g":return"TWO_G"
case"3g":return"THREE_G"
case"4g":return"FOUR_G"
default:return"SLOW_2G"}}(e.effectiveType),roundTripTime:e.rtt||-1,downlinkBandwidth:e.downlink||-1,downlinkMaxBandwidth:void 0===e.downlinkMax?-1:e.downlinkMax===1/0?0:e.downlinkMax}:void 0}function Ti(e){if(!e)return{navigationTimingApi:!1}
var n=Object.create({})
if("function"==typeof e.getEntriesByType){var t=e.getEntriesByType("navigation")[0]
t&&(["fetchStart","responseEnd","decodedBodySize","encodedBodySize","transferSize"].every((function(e){return"number"==typeof t[e]}))&&(n.htmlMetrics={htmlFetchStart:t.fetchStart,htmlResponseEnd:t.responseEnd,htmlDecodedBodySize:t.decodedBodySize,htmlEncodedBodySize:t.encodedBodySize,htmlTransferSize:t.transferSize}),n.workerStart=t.workerStart)}var r=e.timing,i=e.navigation
return r&&i?(n.navigationTimingApi=!0,jr.forEach((function(e){e in r&&(n[e]=r[e])})),n.navigationType=i.type,n.redirectCount=i.redirectCount):n.navigationTimingApi=!1,n}var _i=function(){function e(n,t,r){cn(this,e),ln(this,"featureName",void 0),ln(this,"trackingCore",void 0),ln(this,"rumConfig",void 0),ln(this,"observing",!1),ln(this,"basePageTreeId",void 0),ln(this,"startPageInstance",void 0),ln(this,"startMemory",void 0),ln(this,"reportTimeouts",[]),this.featureName=n,this.trackingCore=t,this.rumConfig=r}return un(e,[{key:"startObserving",value:function(){var n,t=this,r=this.getMemory()
r&&!this.observing&&(this.basePageTreeId=this.trackingCore.host.treeID||"",this.startPageInstance=(null===(n=this.trackingCore.getCurrentContext())||void 0===n?void 0:n.pageInstance)||Xt("unknown"),this.startMemory=r,this.reportTimeouts=e.checkpoints.map((function(e){return setTimeout((function(){return t.reportMemory(e)}),60*e*1e3)})))}},{key:"stopObserving",value:function(){this.reportTimeouts.forEach((function(e){return clearTimeout(e)})),this.observing=!1}},{key:"reportMemory",value:function(e){var n={name:this.featureName,basePageTreeId:this.basePageTreeId,startTime:fi(this.trackingCore.host.api.performance),duration:0,startPageInstance:this.startPageInstance,marks:this.createMemoryMarks("-".concat(e,"min")),spans:[]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"FeaturePerformanceMeasurementEvent"},n)}},{key:"createMemoryMarks",value:function(e){var n=this.getMemory(),t=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"].map((function(t){return{name:t+e,startTime:n[t]}})),r=n.usedJSHeapSize-this.startMemory.usedJSHeapSize
return t.push({name:(r<0?"usedJSHeapSizeDecrease":"usedJSHeapSizeIncrease")+e,startTime:Math.abs(r)},{name:"utilization"+e,startTime:Math.round(n.usedJSHeapSize/n.totalJSHeapSize*100)}),t}},{key:"getMemory",value:function(){return this.trackingCore.host.api.performance.memory}}]),e}()
ln(_i,"checkpoints",[1,3,10,30,90,180,300])
var Ei,Si,Ci,Ai,ki,Ii=un((function e(n,t,r){cn(this,e),ln(this,"webUIFramework",void 0),ln(this,"timeSource",void 0),ln(this,"isSinglePageApp",void 0),ln(this,"appRenderMode",void 0),ln(this,"isAppRenderFailed",void 0),ln(this,"pageLoadMode","INITIAL"),ln(this,"isSSL",void 0),ln(this,"treeId",void 0),ln(this,"isFromServiceWorker",void 0),this.webUIFramework=t["web-ui-framework"],this.timeSource=t["beacon-source"],this.isSinglePageApp=t["is-single-page-app"],this.appRenderMode=n["app-render-mode"],this.isAppRenderFailed=n["is-app-render-failed"],this.isSSL="https:"===r.api.location.protocol?1:0,this.treeId=r.treeID,this.isFromServiceWorker=r.isFromServiceWorker})),Ri=function(e,n){return{name:e,value:void 0===n?-1:n,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},wi=function(e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return
var t=new PerformanceObserver((function(e){return e.getEntries().map(n)}))
return t.observe({type:e,buffered:!0}),t}}catch(e){}},xi=function(e,n){var t=function t(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),n&&(removeEventListener("visibilitychange",t,!0),removeEventListener("pagehide",t,!0)))}
addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Mi=function(e){addEventListener("pageshow",(function(n){n.persisted&&e(n)}),!0)},Oi=function(e,n,t){var r
return function(i){n.value>=0&&(i||t)&&(n.delta=n.value-(r||0),(n.delta||void 0===r)&&(r=n.value,e(n)))}},Ni=-1,Pi=function(){return"hidden"===document.visibilityState?0:1/0},Ui=function(){xi((function(e){var n=e.timeStamp
Ni=n}),!0)},Di=function(){return Ni<0&&(Ni=Pi(),Ui(),Mi((function(){setTimeout((function(){Ni=Pi(),Ui()}),0)}))),{get firstHiddenTime(){return Ni}}},Li=!1,Fi=-1,Bi=function(e,n){Li||(function(e,n){var t,r=Di(),i=Ri("FCP"),a=function(e){"first-contentful-paint"===e.name&&(s&&s.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=e.startTime,i.entries.push(e),t(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],s=o?null:wi("paint",a);(o||s)&&(t=Oi(e,i,n),o&&a(o),Mi((function(r){i=Ri("FCP"),t=Oi(e,i,n),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,t(!0)}))}))})))}((function(e){Fi=e.value})),Li=!0)
var t,r=function(n){Fi>-1&&e(n)},i=Ri("CLS",0),a=0,o=[],s=function(e){if(!e.hadRecentInput){var n=o[0],r=o[o.length-1]
a&&e.startTime-r.startTime<1e3&&e.startTime-n.startTime<5e3?(a+=e.value,o.push(e)):(a=e.value,o=[e]),a>i.value&&(i.value=a,i.entries=o,t())}},c=wi("layout-shift",s)
c&&(t=Oi(r,i,n),xi((function(){c.takeRecords().map(s),t(!0)})),Mi((function(){a=0,Fi=-1,i=Ri("CLS",0),t=Oi(r,i,n)})))},ji={passive:!0,capture:!0},qi=new Date,Vi=function(e,n){Ei||(Ei=n,Si=e,Ci=new Date,Ki(removeEventListener),Hi())},Hi=function(){if(Si>=0&&Si<Ci-qi){var e={entryType:"first-input",name:Ei.type,target:Ei.target,cancelable:Ei.cancelable,startTime:Ei.timeStamp,processingStart:Ei.timeStamp+Si}
Ai.forEach((function(n){n(e)})),Ai=[]}},Gi=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp
"pointerdown"==e.type?function(e,n){var t=function(){Vi(e,n),i()},r=function(){i()},i=function(){removeEventListener("pointerup",t,ji),removeEventListener("pointercancel",r,ji)}
addEventListener("pointerup",t,ji),addEventListener("pointercancel",r,ji)}(n,e):Vi(n,e)}},Ki=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(n){return e(n,Gi,ji)}))},Wi=function(e,n){var t,r=Di(),i=Ri("FID"),a=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),t(!0))},o=wi("first-input",a)
t=Oi(e,i,n),o&&xi((function(){o.takeRecords().map(a),o.disconnect()}),!0),o&&Mi((function(){var r
i=Ri("FID"),t=Oi(e,i,n),Ai=[],Si=-1,Ei=null,Ki(addEventListener),r=a,Ai.push(r),Hi()}))},zi={},Qi=function(e,n){var t,r=Di(),i=Ri("LCP"),a=function(e){var n=e.startTime
n<r.firstHiddenTime&&(i.value=n,i.entries.push(e)),t()},o=wi("largest-contentful-paint",a)
if(o){t=Oi(e,i,n)
var s=function(){zi[i.id]||(o.takeRecords().map(a),o.disconnect(),zi[i.id]=!0,t(!0))};["keydown","click"].forEach((function(e){addEventListener(e,s,{once:!0,capture:!0})})),xi(s,!0),Mi((function(r){i=Ri("LCP"),t=Oi(e,i,n),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,zi[i.id]=!0,t(!0)}))}))}))}},$i=["LCP","FID","CLS"],Yi={LCP:"LargestContentfulPaint",FID:"FirstInputDelay",CLS:"CumulativeLayoutShift"},Xi={},Ji=function(){var e
if(!cr)return""
var n=window.performance,t=void 0
if("function"==typeof(null==n?void 0:n.getEntriesByType)){var r,i=null===(r=window.performance)||void 0===r?void 0:r.getEntriesByType("navigation");(null==i?void 0:i.length)>0&&(t=i[0])}return(null===(e=t)||void 0===e?void 0:e.name)||window.location.href}(),Zi=!1,ea=[],na={LCP:"largest-contentful-paint",FID:"first-input",CLS:"layout-shift"}
function ta(){var e=!0===window.__test__resetWebVitalsState
if(!Zi||e){e&&(ea=[]),$i.forEach(ra)
var n=Symbol()
ki=n,[Qi,Wi,Bi].forEach((function(e){return e(ia.bind(null,n),!0)})),[Qi,Wi,Bi].forEach((function(e){return e(aa.bind(null,n))})),Zi=!0}}function ra(e){Xi[e]={name:e,value:-1,updateHistory:[]}
var n=na[e]
"undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&"string"==typeof n&&PerformanceObserver.supportedEntryTypes.indexOf(n)>-1||(Xi[e].value=-2)}function ia(e,n){if(e===ki){var t=Xi[n.name],r=fi()
t&&(t.updateHistory.push({time:r,data:n}),t.value=n.value),ea.forEach((function(e){return e(n,r,!1)}))}}function aa(e,n){e===ki&&ea.forEach((function(e){return e(n,fi(),!0)}))}var oa=function(){function e(n,t){cn(this,e),ln(this,"basePageTreeId",void 0),ln(this,"basePageKey",void 0),ln(this,"observing",!1),ln(this,"appContextMap",new Map),ln(this,"rumConfig",void 0),ln(this,"trackingCore",void 0),this.trackingCore=n,this.rumConfig=t}return un(e,[{key:"startObserving",value:function(){var e,n,t=this
ta(),this.observing||(this.observing=!0,this.basePageTreeId=this.trackingCore.host.treeID||"_unknown",this.basePageKey=(null===(e=this.trackingCore.getCurrentContext())||void 0===e?void 0:e.pageKey)||"_unknown",$i.forEach((function(e){var n;-2===(null===(n=Xi[e])||void 0===n?void 0:n.value)&&t.reportMetric(e)})),n=this.onMetricUpdate.bind(this),ea.push(n))}},{key:"stopObserving",value:function(){this.observing=!1}},{key:"onMetricUpdate",value:function(e,n,t){var r
this.observing&&(t?this.reportMetric(e.name):this.appContextMap.set(n,{time:n,url:location.href,pageKey:null===(r=this.trackingCore.getCurrentContext())||void 0===r?void 0:r.pageKey}))}},{key:"reportMetric",value:function(e){var n=Xi[e],t={name:Yi[e]||e}
"CLS"===e?t.doubleValue=n.value:t.longValue=Math.round(n.value)
var r=Xi[e]
if(r){var i=function(e,n,t,r,i){var a={basePageTreeId:e,basePageKey:n,basePageUrl:Ji},o=null
switch(t.name){case"LCP":o=function(e,n){var t
if(0===e.updateHistory.length)return null
var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,a=i[i.length-1],o={pageKey:(null===(t=n.get(r.time))||void 0===t?void 0:t.pageKey)||"_unknown",element:hi(a.element),renderTime:Math.round(a.renderTime),loadTime:Math.round(a.loadTime),size:Math.round(a.size)}
return a.url&&(o.url=a.url),o}(t,r)
break
case"FID":o=function(e,n){var t
if(0===e.updateHistory.length)return null
var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,a=i[i.length-1]
return{pageKey:(null===(t=n.get(r.time))||void 0===t?void 0:t.pageKey)||"_unknown",processingStart:Math.round(a.processingStart),processingEnd:Math.round(a.processingEnd),target:hi(a.target)}}(t,r)
break
case"CLS":o=function(e,n){if(0===e.updateHistory.length)return null
var t=e.updateHistory.map((function(e){return e.data.entries})).flat()
if(0===t.length)return null
var r=t.reduce((function(e,n){return e&&e.value>n.value?e:n})),i=e.updateHistory.find((function(e){return e.data.entries.includes(r)})),a=null
r&&r.sources&&r.sources.length&&(a=r.sources.reduce((function(e,n){return e.node&&e.previousRect.width*e.previousRect.height>n.previousRect.width*n.previousRect.height?e:n})))
var o,s=n.get(i.time)
return a&&s?{shiftCount:t.length,"largestShift.value":r.value,"largestShift.hadRecentInput":r.hadRecentInput,"largestShift.largestSource.node":hi(null===(o=a)||void 0===o?void 0:o.node),"largestShift.pageKey":s.pageKey||"_unknown","largestShift.url":s.url,"largestShift.startTime":Math.round(r.startTime)}:null}(t,r)}if(o){var s={}
return i(s,a,o),s}return a}(this.basePageTreeId,this.basePageKey,r,this.appContextMap,this.trackingCore.host.api.assign)
t.metadata=function(e){var n={}
return Object.keys(e).forEach((function(t){var r=e[t]
n[t]="string"==typeof r?r:JSON.stringify(r)})),n}(i)}var a={scope:{scopeType:"APPLICATION_INSTANCE",scopeKey:this.basePageTreeId},metrics:[t]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"ClientPerfMetricsEvent"},a)}}]),e}()
un((function e(n,t,r){var i,a
cn(this,e),ln(this,"core",void 0),ln(this,"config",void 0),ln(this,"collector",void 0),ln(this,"boomerangStart",-1),ln(this,"webVitalsObserver",void 0),ln(this,"appMemoryObserver",void 0),ln(this,"pageMemoryObserver",void 0),ln(this,"liveTokens",new Set),ln(this,"stateWM",new WeakMap),ln(this,"activeToken",void 0),ln(this,"isInitial",void 0),ln(this,"shouldTrackCustomMeasureEvent",void 0),ln(this,"pageLoadId",void 0),ln(this,"initialResourcesEvents",[]),ln(this,"initialCustomMeasureEvents",[]),ln(this,"beforeHideHandlerBound",this.beforeHideHandler.bind(this)),ln(this,"fireCustomMeasureEventBound",this.fireCustomMeasureEvent.bind(this)),ln(this,"fireResourceLoadEventBound",this.fireResourceLoadEvent.bind(this)),this.core=r,this.config=function(e,n){for(var t in e)void 0!==n[t]&&(e[t]=n[t])
return e}(r.host.api.assign({},Br),t)
var o="enabled"===(null===(i=(a=this.core.host).__getLixTreatment)||void 0===i?void 0:i.call(a,"pemberly.tracking.time-origin-epoch-time"))
this.collector=new vi(r.host.api,new Ii(n,this.config,r.host),this.config,o,this.fireCustomMeasureEventBound,this.fireResourceLoadEventBound,this.isTracerLixEnabled),this.collector.startObserving(),jt.before("internal:hide",this.beforeHideHandlerBound)}),[{key:"isTracerLixEnabled",get:function(){var e,n
return"enabled"===(null===(e=(n=this.core.host).__getLixTreatment)||void 0===e?void 0:e.call(n,"pemberly.tracking.generic-tracers"))}},{key:"pingCDN",value:function(){}},{key:"recordTreeId",value:function(e,n){e&&this.collector.recordTreeId(e,n)}},{key:"recordRenderStart",value:function(e,n){this.collector.recordRenderStart(e,n||e)}},{key:"recordRenderEnd",value:function(e){var n=this.collector.recordRenderEnd(e,this.isTracerLixEnabled,this.pageLoadId)
n&&this.isTracerLixEnabled&&this.core.fireEvent({appId:this.config["app-id"],eventName:"ViewLoadEvent"},n)}},{key:"start",value:function(){var e,n
this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.isInitial=void 0===this.isInitial,this.isInitial||this.collector.reset()
var t,r=Object.create(null),i="enabled"===(null===(e=(n=this.core.host).__getLixTreatment)||void 0===e?void 0:e.call(n,"pemberly.tracking.time-origin-epoch-time"))
return this.activeToken=r,this.liveTokens.add(r),this.stateWM.set(r,{isInitial:this.isInitial,startTime:pi(this.core.host.api.performance,i)}),this.config["enable-memory-measurement"]&&(null===(t=this.pageMemoryObserver)||void 0===t||t.stopObserving(),this.pageMemoryObserver=new _i("page-memory",this.core,this.config),this.pageMemoryObserver.startObserving(),void 0===this.appMemoryObserver&&(this.appMemoryObserver=new _i("application-memory",this.core,this.config),this.appMemoryObserver.startObserving())),r}},{key:"observeWebVitals",value:function(){void 0===this.webVitalsObserver&&(this.webVitalsObserver=new oa(this.core,this.config),this.webVitalsObserver.startObserving())}},{key:"end",value:function(e){var n,t,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0
if(e&&this.activeToken&&this.activeToken===e){var o=this.stateWM.get(e),s="enabled"===(null===(n=(t=this.core.host).__getLixTreatment)||void 0===n?void 0:n.call(t,"pemberly.tracking.time-origin-epoch-time")),c=pi(this.core.host.api.performance,s)
o.endProps={renderCompleteTime:c,isImpactedByHiddenWindow:i,rumKey:a}
var d=this.activeToken
o.fireRumEventTimeout=setTimeout((function(){if(r.isTracerLixEnabled){var e=r.collector.collectPageLoadEndData({isInitial:o.isInitial})
"then"in e?e.then((function(e){r.firePageLoadEndEvent(e,d)})):r.firePageLoadEndEvent(e,d)}var n=r.collector.collect({isInitial:o.isInitial})
"then"in n?n.then((function(e){r.fireRumEvent(e,d)})):r.fireRumEvent(n,d)}),this.config["beacon-timeout"]),this.activeToken=void 0}else ar("rum-end",Hr)}},{key:"firePageLoadStartEvent",value:function(e,n){if(e&&this.activeToken&&this.activeToken===e){this.shouldTrackCustomMeasureEvent=!0
var t=this.stateWM.get(e)
this.pageLoadId=$t()
var r=this.collector.collectPageLoadStartData({isInitial:t.isInitial,rumKey:n})
r.pageLoadId=this.pageLoadId,this.core.fireEvent({appId:this.config["app-id"],eventName:"PageLoadStartEvent"},r)}else ar("PageLoadStartEvent",Hr)}},{key:"destroy",value:function(){var e,n,t
jt.offBefore("internal:hide",this.beforeHideHandlerBound),this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.collector.stopObserving(),null===(e=this.webVitalsObserver)||void 0===e||e.stopObserving(),null===(n=this.appMemoryObserver)||void 0===n||n.stopObserving(),null===(t=this.pageMemoryObserver)||void 0===t||t.stopObserving(),this.core.destroy()}},{key:"abort",value:function(e){var n
if(!e||this.activeToken!==e)throw new Error("RUM abort: rum token passed is invalid")
if(null!==(n=this.stateWM.get(e))&&void 0!==n&&n.endProps)throw new Error("RUM abort: Can't abort a session that was already ended")
this.activeToken=void 0,this.stateWM.delete(e),this.liveTokens.delete(e)}},{key:"flushEndedSessions",value:function(){var e=this
this.liveTokens.forEach((function(n){var t=e.stateWM.get(n)
if(t.endProps){if(e.isTracerLixEnabled){var r=e.collector.collectPageLoadEndData({isInitial:t.isInitial,immediate:!0})
e.firePageLoadEndEvent(r,n)}var i=e.collector.collect({isInitial:t.isInitial,immediate:!0})
e.fireRumEvent(i,n)}}))}},{key:"firePageLoadEndEvent",value:function(e,n){if(this.stateWM.get(n)){var t=this.core.host.api.assign,r=this.stateWM.get(n),i=r.startTime,a=r.endProps
if(a){var o=a.renderCompleteTime,s=a.isImpactedByHiddenWindow,c=a.rumKey
if(e.pageLoadId=this.pageLoadId,e.browserPageLoadEndContext&&(e.browserPageLoadEndContext.isImpactedByHiddenWindow=s),e.navigationTiming){var d,u=null===(d=e.navigationTiming)||void 0===d?void 0:d.navigationStart,l=this.boomerangStart=u||this.boomerangStart,p=u||i,f=o-p
e.navigationTiming.boomerangStart=l,e.navigationTiming.timeDone=f,e.navigationTiming.navigationStart=p,void 0===e.navigationTiming.workerStart&&(e.navigationTiming.workerStart=0)}this.core.fireEvent({appId:this.config["app-id"],eventName:"PageLoadEndEvent"},(function(n){return t({pageKey:c||n.pageKey},e)})),this.shouldTrackCustomMeasureEvent=!1}else this.abort(n)}}},{key:"fireCustomMeasureEvent",value:function(e){var n=this
if(this.isTracerLixEnabled&&this.shouldTrackCustomMeasureEvent){if(!this.pageLoadId)return void this.initialCustomMeasureEvents.push(e)
this.initialCustomMeasureEvents.length>0&&(this.initialCustomMeasureEvents.forEach((function(e){e.parentPageLoadId=n.pageLoadId,n.core.fireEvent({appId:n.config["app-id"],eventName:"CustomMeasureEvent"},e)})),this.initialCustomMeasureEvents=[]),e.parentPageLoadId=this.pageLoadId,this.core.fireEvent({appId:this.config["app-id"],eventName:"CustomMeasureEvent"},e)}}},{key:"fireResourceLoadEvent",value:function(e){var n=this
if(this.isTracerLixEnabled){if(!this.pageLoadId)return void this.initialResourcesEvents.push(e)
this.initialResourcesEvents.length>0&&(this.initialResourcesEvents.forEach((function(e){e.parentPageLoadId=n.pageLoadId,n.core.fireEvent({appId:n.config["app-id"],eventName:"ResourceLoadEvent"},e)})),this.initialResourcesEvents=[]),e.parentPageLoadId=this.pageLoadId,this.core.fireEvent({appId:this.config["app-id"],eventName:"ResourceLoadEvent"},e)}}},{key:"fireRumEvent",value:function(e,n){if(this.stateWM.get(n)){var t=this.core.host.api.assign,r=this.stateWM.get(n),i=r.startTime,a=r.endProps
if(a){var o=a.renderCompleteTime,s=a.isImpactedByHiddenWindow,c=a.rumKey,d=this.boomerangStart=e.navigationStart||this.boomerangStart,u=e.navigationStart||i,l=o-u,p=this.config["app-version"]
this.core.fireEvent({appId:this.config["app-id"],eventName:"RealUserMonitoringEvent"},(function(n){return t({pageKey:c||n.pageKey,isImpactedByHiddenWindow:s,appVersion:p,timeDone:l,navigationStart:u,boomerangStart:d,renderCompleteTime:o},e)})),r.fireRumEventTimeout&&clearTimeout(r.fireRumEventTimeout),this.liveTokens.delete(n),this.stateWM.delete(n)}else this.abort(n)}}},{key:"beforeHideHandler",value:function(){this.flushEndedSessions()}}])
var sa="undefined"!=typeof window&&"undefined"!=typeof performance,ca="undefined"!=typeof location&&-1!==location.search.indexOf("_LI_MEASURE_DEBUG")
un((function e(n,t){cn(this,e),ln(this,"trackingCore",void 0),ln(this,"endPageInstance",void 0),ln(this,"startPageInstance",void 0),ln(this,"featureIdentifier",void 0),ln(this,"marks",[]),ln(this,"spans",[]),ln(this,"spanStarts",new Map),ln(this,"started",!1),ln(this,"ended",!1),ln(this,"featureKey",void 0),ln(this,"productName",void 0),ln(this,"flushOnEnd",void 0),ln(this,"basePageTreeId",void 0),ln(this,"debounceFlush",void 0),ln(this,"disableAutoFlush",void 0),ln(this,"isCanceled",!1),ln(this,"isClosed",!1),this.trackingCore=n
var r=t.featureKey,i=t.productName,a=t.flushDebounceMilliseconds,o=t.flushOnEnd
this.featureKey=r,this.productName=i,this.flushOnEnd=o
var s=i?"::".concat(i):""
this.featureIdentifier="".concat(r).concat(s)
var c=void 0!==a?a:3e3
c>0&&(this.debounceFlush=function(e,n,t){var r,i,a
void 0===n&&(n=50),void 0===t&&(t={})
var o=null!=(r=t.isImmediate)&&r,s=null!=(i=t.callback)&&i,c=t.maxWait,d=Date.now(),u=[]
function l(){if(void 0!==c){var e=Date.now()-d
if(e+n>=c)return c-e}return n}var p=function(){var n=[].slice.call(arguments),t=this
return new Promise((function(r,i){var c=o&&void 0===a
if(void 0!==a&&clearTimeout(a),a=setTimeout((function(){if(a=void 0,d=Date.now(),!o){var r=e.apply(t,n)
s&&s(r),u.forEach((function(e){return(0,e.resolve)(r)})),u=[]}}),l()),c){var p=e.apply(t,n)
return s&&s(p),r(p)}u.push({resolve:r,reject:i})}))}
return p.cancel=function(e){void 0!==a&&clearTimeout(a),u.forEach((function(n){return(0,n.reject)(e)})),u=[]},p}(this.flush.bind(this),c)),this.disableAutoFlush=c<0}),[{key:"start",value:function(e){var n
if(sa){if(this.started)throw new Error("Same PerfMeasurement (".concat(this.featureIdentifier,") cannot be started twice"))
this.startPageInstance=e||(null===(n=this.trackingCore.getCurrentContext())||void 0===n?void 0:n.pageInstance),this.spanStart("load"),this.started=!0}}},{key:"end",value:function(e){var n
if(!this.isClosed){if(this.isClosed=!0,this.isCanceled)throw new Error('[rum measurement] cannot end a canceled measurement "'.concat(this.featureIdentifier,'"'))
if(sa){if(this.ended)throw new Error("Same PerfMeasurement (".concat(this.featureIdentifier,") should not be ended twice"))
this.endPageInstance=e||(null===(n=this.trackingCore.getCurrentContext())||void 0===n?void 0:n.pageInstance),this.spanEnd("load"),this.ended=!0,this.flushOnEnd&&this.flush()}}}},{key:"mark",value:function(e){sa&&(this.marks.push({name:e,startTime:fi()}),ca&&(performance.mark("LI:".concat(this.featureIdentifier,"-mark-").concat(e)),performance.measure("LI:".concat(this.featureIdentifier,"-mark-").concat(e),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-mark-").concat(e))),this.handleNewData())}},{key:"spanStart",value:function(e){sa&&(this.spanStarts.set(e,fi()),ca&&performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start")))}},{key:"spanEnd",value:function(e,n){if(sa&&this.spanStarts.has(e)){var t=this.spanStarts.get(e),r=n||e
this.spans.push({name:r,startTime:t,duration:fi()-t}),ca&&(performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")),performance.measure("LI:".concat(this.featureIdentifier,"-span-").concat(n||e),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start"),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end"))),this.handleNewData()}}},{key:"addSpan",value:function(e){this.spans.push(e),this.handleNewData()}},{key:"setBasePageTreeId",value:function(e){this.basePageTreeId=e}},{key:"getTimestamp",value:function(){return fi()}},{key:"flush",value:function(){0===this.marks.length&&0===this.spans.length||(this.fireEvent(),this.marks=[],this.spans=[],this.debounceFlush&&this.debounceFlush.cancel())}},{key:"handleNewData",value:function(){this.debounceFlush?this.debounceFlush().catch((function(e){})):this.disableAutoFlush||this.flush()}},{key:"fireEvent",value:function(){var e=this,n=this.endPageInstance&&{header:{pageInstance:this.endPageInstance}}
this.trackingCore.fireEvent("FeaturePerformanceMeasurementEvent",(function(n){var t=e.startPageInstance||n.pageInstance||Xt("unknown"),r={name:e.featureKey,startTime:-1,duration:-1,startPageInstance:t,marks:e.marks,spans:e.spans}
return e.productName&&(r.productName=e.productName),e.basePageTreeId&&(r.basePageTreeId=e.basePageTreeId),r}),n)}},{key:"cancel",value:function(){this.isCanceled=!0}},{key:"check",value:function(){if(sa){if(this.isCanceled)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" has been canceled'))
if(!this.isClosed)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is still open'))}}}])
var da,ua=function(){return Wt()},la=function(){function e(n){ge(this,e),Te(this,"fireEventTracking",void 0),this.fireEventTracking=n}return be(e,[{key:"fireRealtimeTracking",value:function(e,n){var t=n.topic,r=n.publisherTrackingId,i=n.trackingId,a={publisherTrackingId:r,realtimeEventId:n.id,realtimeTrackingId:i,topicUrn:t,receivedTime:n.receivedTime}
this.fireEventTracking(e,a)}}]),e}(),pa=Ve((function(e,n){!function(t){var r=t.setTimeout,i=t.clearTimeout,a=t.XMLHttpRequest,o=t.XDomainRequest,s=t.ActiveXObject,c=t.EventSource,d=t.document,u=t.Promise,l=t.fetch,p=t.Response,f=t.TextDecoder,h=t.TextEncoder,m=t.AbortController
if("undefined"==typeof window||void 0===d||"readyState"in d||null!=d.body||(d.readyState="loading",window.addEventListener("load",(function(e){d.readyState="complete"}),!1)),null==a&&null!=s&&(a=function(){return new s("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(e){function n(){}return n.prototype=e,new n}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==m){var y=l
l=function(e,n){var t=n.signal
return y(e,{headers:n.headers,credentials:n.credentials,cache:n.cache}).then((function(e){var n=e.body.getReader()
return t._reader=n,t._aborted&&t._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return n}}}}))},m=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(e){function n(e,n,t){if(1===t)return e>=128>>n&&e<<n<=2047
if(2===t)return e>=2048>>n&&e<<n<=55295||e>=57344>>n&&e<<n<=65535
if(3===t)return e>=65536>>n&&e<<n<=1114111
throw new Error}function t(e,n){if(6===e)return n>>6>15?3:n>31?2:1
if(12===e)return n>15?3:2
if(18===e)return 3
throw new Error}for(var r=65533,i="",a=this.bitsNeeded,o=this.codePoint,s=0;s<e.length;s+=1){var c=e[s]
0!==a&&(c<128||c>191||!n(o<<6|63&c,a-6,t(a,o)))&&(a=0,o=r,i+=String.fromCharCode(o)),0===a?(c>=0&&c<=127?(a=0,o=c):c>=192&&c<=223?(a=6,o=31&c):c>=224&&c<=239?(a=12,o=15&c):c>=240&&c<=247?(a=18,o=7&c):(a=0,o=r),0===a||n(o,a,t(a,o))||(a=0,o=r)):(a-=6,o=o<<6|63&c),0===a&&(o<=65535?i+=String.fromCharCode(o):(i+=String.fromCharCode(55296+(o-65535-1>>10)),i+=String.fromCharCode(56320+(o-65535-1&1023))))}return this.bitsNeeded=a,this.codePoint=o,i},null!=f&&null!=h&&function(){try{return"test"===(new f).decode((new h).encode("test"),{stream:!0})}catch(e){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1}()||(f=g)
var v=function(){}
function b(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onload=v,this.onerror=v,this.onreadystatechange=v,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=v}function T(e){return e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))}function _(e){for(var n=Object.create(null),t=e.split("\r\n"),r=0;r<t.length;r+=1){var i=t[r].split(": "),a=i.shift(),o=i.join(": ")
n[T(a)]=o}this._map=n}function E(){}function S(e){this._headers=e}function C(){}function A(){this._listeners=Object.create(null)}function k(e){r((function(){throw e}),0)}function I(e){this.type=e,this.target=void 0}function R(e,n){I.call(this,e),this.data=n.data,this.lastEventId=n.lastEventId}function w(e,n){I.call(this,e),this.status=n.status,this.statusText=n.statusText,this.headers=n.headers}function x(e,n){I.call(this,e),this.error=n.error}b.prototype.open=function(e,n){this._abort(!0)
var t=this,o=this._xhr,s=1,c=0
this._abort=function(e){0!==t._sendTimeout&&(i(t._sendTimeout),t._sendTimeout=0),1!==s&&2!==s&&3!==s||(s=4,o.onload=v,o.onerror=v,o.onabort=v,o.onprogress=v,o.onreadystatechange=v,o.abort(),0!==c&&(i(c),c=0),e||(t.readyState=4,t.onabort(null),t.onreadystatechange())),s=0}
var d=function(){if(1===s){var e=0,n="",r=void 0
if("contentType"in o)e=200,n="OK",r=o.contentType
else try{e=o.status,n=o.statusText,r=o.getResponseHeader("Content-Type")}catch(t){e=0,n="",r=void 0}0!==e&&(s=2,t.readyState=2,t.status=e,t.statusText=n,t._contentType=r,t.onreadystatechange())}},u=function(){if(d(),2===s||3===s){s=3
var e=""
try{e=o.responseText}catch(e){}t.readyState=3,t.responseText=e,t.onprogress()}},l=function(e,n){if(null!=n&&null!=n.preventDefault||(n={preventDefault:v}),u(),1===s||2===s||3===s){if(s=4,0!==c&&(i(c),c=0),t.readyState=4,"load"===e)t.onload(n)
else if("error"===e)t.onerror(n)
else{if("abort"!==e)throw new TypeError
t.onabort(n)}t.onreadystatechange()}},p=function(){c=r((function(){p()}),500),3===o.readyState&&u()}
"onload"in o&&(o.onload=function(e){l("load",e)}),"onerror"in o&&(o.onerror=function(e){l("error",e)}),"onabort"in o&&(o.onabort=function(e){l("abort",e)}),"onprogress"in o&&(o.onprogress=u),"onreadystatechange"in o&&(o.onreadystatechange=function(e){!function(e){null!=o&&(4===o.readyState?"onload"in o&&"onerror"in o&&"onabort"in o||l(""===o.responseText?"error":"load",e):3===o.readyState?"onprogress"in o||u():2===o.readyState&&d())}(e)}),!("contentType"in o)&&"ontimeout"in a.prototype||(n+=(-1===n.indexOf("?")?"?":"&")+"padding=true"),o.open(e,n,!0),"readyState"in o&&(c=r((function(){p()}),0))},b.prototype.abort=function(){this._abort(!1)},b.prototype.getResponseHeader=function(e){return this._contentType},b.prototype.setRequestHeader=function(e,n){var t=this._xhr
"setRequestHeader"in t&&t.setRequestHeader(e,n)},b.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},b.prototype.send=function(){if("ontimeout"in a.prototype&&("sendAsBinary"in a.prototype||"mozAnon"in a.prototype)||null==d||null==d.readyState||"complete"===d.readyState){var e=this._xhr
"withCredentials"in e&&(e.withCredentials=this.withCredentials)
try{e.send(void 0)}catch(e){throw e}}else{var n=this
n._sendTimeout=r((function(){n._sendTimeout=0,n.send()}),4)}},_.prototype.get=function(e){return this._map[T(e)]},null!=a&&null==a.HEADERS_RECEIVED&&(a.HEADERS_RECEIVED=2),E.prototype.open=function(e,n,t,r,i,o,s){e.open("GET",i)
var c=0
for(var d in e.onprogress=function(){var n=e.responseText.slice(c)
c+=n.length,t(n)},e.onerror=function(e){e.preventDefault(),r(new Error("NetworkError"))},e.onload=function(){r(null)},e.onabort=function(){r(null)},e.onreadystatechange=function(){if(e.readyState===a.HEADERS_RECEIVED){var t=e.status,r=e.statusText,i=e.getResponseHeader("Content-Type"),o=e.getAllResponseHeaders()
n(t,r,i,new _(o))}},e.withCredentials=o,s)Object.prototype.hasOwnProperty.call(s,d)&&e.setRequestHeader(d,s[d])
return e.send(),e},S.prototype.get=function(e){return this._headers.get(e)},C.prototype.open=function(e,n,t,r,i,a,o){var s=null,c=new m,d=c.signal,p=new f
return l(i,{headers:o,credentials:a?"include":"same-origin",signal:d,cache:"no-store"}).then((function(e){return s=e.body.getReader(),n(e.status,e.statusText,e.headers.get("Content-Type"),new S(e.headers)),new u((function(e,n){var r=function(){s.read().then((function(n){if(n.done)e(void 0)
else{var i=p.decode(n.value,{stream:!0})
t(i),r()}})).catch((function(e){n(e)}))}
r()}))})).catch((function(e){return"AbortError"===e.name?void 0:e})).then((function(e){r(e)})),{abort:function(){null!=s&&s.cancel(),c.abort()}}},A.prototype.dispatchEvent=function(e){e.target=this
var n=this._listeners[e.type]
if(null!=n)for(var t=n.length,r=0;r<t;r+=1){var i=n[r]
try{"function"==typeof i.handleEvent?i.handleEvent(e):i.call(this,e)}catch(e){k(e)}}},A.prototype.addEventListener=function(e,n){e=String(e)
var t=this._listeners,r=t[e]
null==r&&(r=[],t[e]=r)
for(var i=!1,a=0;a<r.length;a+=1)r[a]===n&&(i=!0)
i||r.push(n)},A.prototype.removeEventListener=function(e,n){e=String(e)
var t=this._listeners,r=t[e]
if(null!=r){for(var i=[],a=0;a<r.length;a+=1)r[a]!==n&&i.push(r[a])
0===i.length?delete t[e]:t[e]=i}},R.prototype=Object.create(I.prototype),w.prototype=Object.create(I.prototype),x.prototype=Object.create(I.prototype)
var M=/^text\/event\-stream(;.*)?$/i,O=function(e,n){var t=null==e?n:parseInt(e,10)
return t!=t&&(t=n),N(t)},N=function(e){return Math.min(Math.max(e,1e3),18e6)},P=function(e,n,t){try{"function"==typeof n&&n.call(e,t)}catch(e){k(e)}}
function U(e,n){A.call(this),n=n||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(e,n,t){n=String(n)
var s=Boolean(t.withCredentials),c=t.lastEventIdQueryParameterName||"lastEventId",d=N(1e3),u=O(t.heartbeatTimeout,45e3),l="",p=d,f=!1,h=0,m=t.headers||{},y=t.Transport,g=D&&null==y?void 0:new b(null!=y?new y:null!=a&&"withCredentials"in a.prototype||null==o?new a:new o),v=null!=y&&"string"!=typeof y?new y:null==g?new C:new E,T=void 0,_=0,S=-1,A="",k="",I="",U="",L=0,F=0,B=0,j=function(n,t,r,i){if(0===S)if(200===n&&null!=r&&M.test(r)){S=1,f=Date.now(),p=d,e.readyState=1
var a=new w("open",{status:n,statusText:t,headers:i})
e.dispatchEvent(a),P(e,e.onopen,a)}else{var o=""
200!==n?(t&&(t=t.replace(/\s+/g," ")),o="EventSource's response has a status "+n+" "+t+" that is not 200. Aborting the connection."):o="EventSource's response has a Content-Type specifying an unsupported type: "+(null==r?"-":r.replace(/\s+/g," "))+". Aborting the connection.",H(),a=new w("error",{status:n,statusText:t,headers:i}),e.dispatchEvent(a),P(e,e.onerror,a),console.error(o)}},q=function(n){if(1===S){for(var t=-1,a=0;a<n.length;a+=1)(c=n.charCodeAt(a))!=="\n".charCodeAt(0)&&c!=="\r".charCodeAt(0)||(t=a)
var o=(-1!==t?U:"")+n.slice(0,t+1)
U=(-1===t?U:"")+n.slice(t+1),""!==n&&(f=Date.now(),h+=n.length)
for(var s=0;s<o.length;s+=1){var c=o.charCodeAt(s)
if(-1===L&&c==="\n".charCodeAt(0))L=0
else if(-1===L&&(L=0),c==="\r".charCodeAt(0)||c==="\n".charCodeAt(0)){if(0!==L){1===L&&(B=s+1)
var m=o.slice(F,B-1),y=o.slice(B+(B<s&&o.charCodeAt(B)===" ".charCodeAt(0)?1:0),s)
"data"===m?(A+="\n",A+=y):"id"===m?k=y:"event"===m?I=y:"retry"===m?(d=O(y,d),p=d):"heartbeatTimeout"===m&&(u=O(y,u),0!==_&&(i(_),_=r((function(){G()}),u)))}if(0===L){if(""!==A){l=k,""===I&&(I="message")
var g=new R(I,{data:A.slice(1),lastEventId:k})
if(e.dispatchEvent(g),"open"===I?P(e,e.onopen,g):"message"===I?P(e,e.onmessage,g):"error"===I&&P(e,e.onerror,g),2===S)return}A="",I=""}L=c==="\r".charCodeAt(0)?-1:0}else 0===L&&(F=s,L=1),1===L?c===":".charCodeAt(0)&&(B=s+1,L=2):2===L&&(L=3)}}},V=function(n){if(1===S||0===S){S=-1,0!==_&&(i(_),_=0),_=r((function(){G()}),p),p=N(Math.min(16*d,2*p)),e.readyState=0
var t=new x("error",{error:n})
e.dispatchEvent(t),P(e,e.onerror,t),null!=n&&console.error(n)}},H=function(){S=2,null!=T&&(T.abort(),T=void 0),0!==_&&(i(_),_=0),e.readyState=2},G=function(){if(_=0,-1===S){f=!1,h=0,_=r((function(){G()}),u),S=0,A="",I="",k=l,U="",F=0,B=0,L=0
var t=n
if("data:"!==n.slice(0,5)&&"blob:"!==n.slice(0,5)&&""!==l){var i=n.indexOf("?")
t=-1===i?n:n.slice(0,i+1)+n.slice(i+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,(function(e,n){return n===c?"":e})),t+=(-1===n.indexOf("?")?"?":"&")+c+"="+encodeURIComponent(l)}var a=e.withCredentials,o={Accept:"text/event-stream"},s=e.headers
if(null!=s)for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])
try{T=v.open(g,j,q,V,t,a,o)}catch(e){throw H(),e}}else if(f||null==T){var p=Math.max((f||Date.now())+u-Date.now(),1)
f=!1,_=r((function(){G()}),p)}else V(new Error("No activity within "+u+" milliseconds. "+(0===S?"No response received.":h+" chars received.")+" Reconnecting.")),null!=T&&(T.abort(),T=void 0)}
e.url=n,e.readyState=0,e.withCredentials=s,e.headers=m,e._close=H,G()}(this,e,n)}var D=null!=l&&null!=p&&"body"in p.prototype
U.prototype=Object.create(A.prototype),U.prototype.CONNECTING=0,U.prototype.OPEN=1,U.prototype.CLOSED=2,U.prototype.close=function(){this._close()},U.CONNECTING=0,U.OPEN=1,U.CLOSED=2,U.prototype.withCredentials=void 0
var L=c
null==a||null!=c&&"withCredentials"in c.prototype||(L=U),function(t){var r=function(e){e.EventSourcePolyfill=U,e.NativeEventSource=c,e.EventSource=L}(n)
void 0!==r&&(e.exports=r)}()}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:qe:globalThis)})),fa={domain:"",mpInfo:{name:"common-time",version:"3.5.0",id:"common-time"},detectMissedHeartbeat:!0,heartbeatPollInterval:15e3,heartbeatGapThreshold:3e4,reconnectGapThreshold:3e4,sessionHeartbeat:3e5,coverageGap:18e4,acceptableErrorCount:2,alertChannelErrors:!1,maxRetryCount:2,connectHeaders:{},urlQueryParams:"?rc=1",enableCustomRetry:!1},ha=xe()?window.EventSource:void 0,ma=function(){function e(n){var t,r=this
ge(this,e),Te(this,"_options",void 0),Te(this,"_events",{}),Te(this,"_eventSourceErrorCount",0),Te(this,"_api",void 0),Te(this,"_eventSource",null),Te(this,"_lastHeartBeatReceivedAt",null),Te(this,"_heartBeatMonitor",void 0),Te(this,"_reconnectTask",void 0),Te(this,"_reconnectDelay",void 0),Te(this,"_realtimeTracking",null),Te(this,"_subscribedNonAuthTopics",[]),Te(this,"_subscribedAuthBroadcastTopics",{}),Te(this,"_personalTopicsTypes",[]),Te(this,"_lastConnectedStatus",!1),Te(this,"_explicitlyConnected",!1),Te(this,"_autoReconnect","FAIL-ON-ERROR"),Te(this,"_realtimeChannelDisconnectedTime",void 0),Te(this,"_lastTimeConnectionLost",void 0),Te(this,"_boundUnloadHandler",null),Te(this,"eventSourceOnmessage",(function(e){var n=r.parseMessage(e),t=n.type,i=n.eventData
switch(t){case Ie.invalid:r.triggerEvent("error",{status:500,message:i})
break
case Ie.clientConnection:we("âš¡ï¸ Received clientConnection event")
var a=i.id,o=i.personalTopics
r._personalTopicsTypes=Ee(o),r._api.setConnectionId(a),r._subscribedNonAuthTopics.length>0&&r.restoreSubscriptions(),Object.keys(r._subscribedAuthBroadcastTopics).length>0&&r.restoreAuthSubscriptions(),r._lastHeartBeatReceivedAt=Date.now(),r.triggerEvent("connect",{id:a,personalTopicsTypes:r._personalTopicsTypes})
var s=r.getRealtimeChannelDisconnectedTime()
s>r.options.reconnectGapThreshold&&r.triggerEvent("reconnected",s),r._realtimeChannelDisconnectedTime=null,r._api.syncRealtimeServerClockTime()
break
case Ie.heartbeat:r._lastHeartBeatReceivedAt=Date.now(),r.triggerEvent("heartbeat",r._lastHeartBeatReceivedAt)
break
case Ie.decoratedEvent:default:var c=function(e){return function(n){var t=He.extractEntityInfoFromUrn(n).type
return e.includes(t)}}(r._personalTopicsTypes)
if(r._subscribedNonAuthTopics.includes(i.topic)||c(i.topic)||r.isAuthBroadcastTopic(i.topic)){if(r.triggerEvent("topic",ye({},i)),r.realtimeTracking){var d=r.serverClockTime
i.receivedTime=d,r.realtimeTracking.fireRealtimeTracking("RealtimeEventDeliveredEvent",i)}}else r.triggerEvent("error",{status:600,message:'Received a message for "'.concat(i.topic,'" that was not subscribed to')})}})),Te(this,"triggerEvent",(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
var i=n[0],a=n[1]
return!!r._events[i]&&(r._events[i].forEach((function(e){return e(i,a)})),!0)})),Te(this,"eventSourceOnError",(function(e){var n,t
r._eventSourceErrorCount++,r.detectConnectionLost(),Ge(e)?(r.itShouldRetry(e.error.status)&&r.scheduleReconnect(),r.triggerEvent("error",{status:null!==(n=e.error.status)&&void 0!==n?n:500,message:"EventSource error - ".concat(null!==(t=e.error.message)&&void 0!==t?t:"unknown"),originalEvent:e.error})):(r.itShouldRetry()&&r.scheduleReconnect(),r.options.alertChannelErrors&&r.triggerEvent("error",{status:900,message:"Unknown EventSource connection error/warning event",originalEvent:e}))})),Te(this,"parseMessage",(function(e){var n
try{n=JSON.parse(e.data)}catch(e){var t=e instanceof Error?e.message:"JSON not valid"
return{type:Ie.invalid,eventData:"Error while parsing event data - ".concat(t)}}var r=Object.keys(n)[0]
return{type:r,eventData:n[r]}})),Te(this,"_reconnectHandler",(function(e){r.triggerEvent("reconnecting",null),r._internalConnect().catch((function(n){var t,i
r._eventSource=null
var a={status:null!==(t=n.status)&&void 0!==t?t:900,message:"EventSource connection failed - ".concat(null!==(i=n.message)&&void 0!==i?i:"unknown reason"),originalEvent:n}
r.itShouldRetry(a.status)?(r.options.alertChannelErrors&&r.triggerEvent("error",a),e(r._reconnectDelay())):r.triggerEvent("error",a)}))})),Te(this,"_heartbeatCheck",(function(e){if(null===r._realtimeChannelDisconnectedTime){if(null===r._lastHeartBeatReceivedAt)return void r.scheduleReconnect()
var n=Date.now()-r._lastHeartBeatReceivedAt
if(n>r.options.heartbeatGapThreshold)return r.triggerEvent("poorRealtimeConnectionDetected",n),void r.scheduleReconnect()}e()})),Te(this,"scheduleReconnect",(function(){r._options.enableCustomRetry&&(r.disconnectAndClose(),r._reconnectTask.start(r._reconnectDelay()))})),Te(this,"startHeartBeatMonitoring",(function(){r._options.detectMissedHeartbeat&&r._heartBeatMonitor.start(r.options.heartbeatPollInterval)})),Te(this,"setupLeaveGuard",(function(){r._boundUnloadHandler&&window.removeEventListener("beforeunload",r._boundUnloadHandler),r._boundUnloadHandler=r.beforeUnloadHandler.bind(r),window.addEventListener("beforeunload",r._boundUnloadHandler)})),Te(this,"setupOnlineGuard",(function(){window.addEventListener("offline",r.handleLoseInternetConnection.bind(r)),window.addEventListener("online",r.handleGainInternetConnection.bind(r))})),this._options=ye(ye({},fa),n),this._options.connectHeaders["x-li-realtime-session"]=this.sessionId,this._options.sessionHeartbeat=Ye(this._options.sessionHeartbeat,null,6e4),this._options.reconnectGapThreshold=Math.max(0,null!==(t=this._options.reconnectGapThreshold)&&void 0!==t?t:fa.reconnectGapThreshold),this._options.heartbeatGapThreshold=Math.max(2*this._options.heartbeatPollInterval,this.options.heartbeatGapThreshold),this._reconnectDelay=function(e){var n=0
return function(){var e=++n-Math.max(1,0)
if(e<=0)return 0
var t=4*Math.random()
return 1===e?1e3*(5+t):1e3*(10+t)}}(),this._api=new en(this._options.domain,this._options.connectHeaders,this._options.mpInfo),this._heartBeatMonitor=new nn(this._heartbeatCheck.bind(this)),this._reconnectTask=new nn(this._reconnectHandler.bind(this)),this._lastTimeConnectionLost=null,this._realtimeChannelDisconnectedTime=null,this._options.tracking&&(this._realtimeTracking=new la(this._options.tracking.fireEventCallback)),this.setupLeaveGuard(),this.setupOnlineGuard(),this.setNewSessionId(ua()),this.startConnectivityTracker()}return be(e,[{key:"options",get:function(){return this._options}},{key:"realtimeTracking",get:function(){return this._realtimeTracking}},{key:"connected",get:function(){return null!==this._eventSource&&this._eventSource.readyState===Re.OPEN}},{key:"sessionId",get:function(){return e._realtimeSessionId}},{key:"realtimeConnectUrl",get:function(){var e=this._options.domain.endsWith("/")?"":"/"
return"".concat(this._options.domain).concat(e,"realtime/connect").concat(this._options.urlQueryParams)}},{key:"eventSourceUrl",get:function(){return this.realtimeConnectUrl}},{key:"serverClockTime",get:function(){return this._api.getServerClockTime()}},{key:"sessionHeartbeatInterval",get:function(){return this._options.sessionHeartbeat}},{key:"HeartbeatGapThreshold",get:function(){return this._options.heartbeatGapThreshold}},{key:"addSubscriptions",value:function(e,n){var t=n?this.filterSubscriptionListForAuthTopics(e,n,this._subscribedAuthBroadcastTopics):this.filterSubscriptionListForNonAuthTopics(e,this._subscribedNonAuthTopics)
if(0===t.length)return Promise.resolve({succeeded:[],failed:[]})
if(this._api.connectionId)return this.apiSubscribe(t,n,1)
if(void 0!==n){var r,i=null!==(r=this._subscribedAuthBroadcastTopics[n])&&void 0!==r?r:[]
this._subscribedAuthBroadcastTopics[n]=[].concat(Ee(i),Ee(t))}else this._subscribedNonAuthTopics=[].concat(Ee(this._subscribedNonAuthTopics),Ee(t))
return Promise.resolve({succeeded:t,failed:[]})}},{key:"removeSubscriptions",value:function(e){var n=this
return new Promise((function(t,r){var i,a=(e instanceof Array?e:[e]).filter(We).filter((i=n._subscribedNonAuthTopics,function(e){return i.includes(e)}))
if(0===a.length)return t({succeeded:[],failed:[]})
n._api.unsubscribe(a).then((function(e){var r=_e(e,2),i=r[0],a=r[1]
i.forEach((function(e){return n.triggerEvent("unsubscribe",e)})),a.forEach((function(e){return n.triggerEvent("unsubscribeFailed",e)})),n._subscribedNonAuthTopics=n._subscribedNonAuthTopics.filter(ze(i)),t({succeeded:i,failed:a})})).catch((function(e){n.triggerEvent("error",e),r(e)}))}))}},{key:"updateAuthToken",value:function(e,n){this._subscribedAuthBroadcastTopics[n]&&(this._subscribedAuthBroadcastTopics[e]=this._subscribedAuthBroadcastTopics[n],delete this._subscribedAuthBroadcastTopics[n])}},{key:"addEventListener",value:function(){for(var e=this,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r]
var i=t[0],a=t[1]
return this._events[i]||(this._events[i]=[]),this._events[i].includes(a)?null:(this._events[i].push(a),function(){return e.removeEventListener.apply(e,Ee([i,a]))})}},{key:"removeEventListener",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
var r=n[0],i=n[1]
if(!this._events[r])return!1
var a=this._events[r].length
return this._events[r]=this._events[r].filter((function(e){return e!==i})),a!==this._events[r].length}},{key:"_getConnectionHandler",value:function(e,n,t){var r=this
return function(i){t.removeEventListener("error",n),t.addEventListener("error",r.eventSourceOnError.bind(r)),r.startHeartBeatMonitoring(),r.triggerEvent("open",null),r._lastConnectedStatus=r.connected,e()}}},{key:"connect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FAIL-ON-ERROR"
return"RETRY"===this._autoReconnect?Promise.resolve():(this._explicitlyConnected=!0,this._autoReconnect=e,this._internalConnect(e))}},{key:"_internalConnect",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FAIL-ON-ERROR"
return this.setNewSessionId(this.sessionId),this._eventSource?Promise.resolve():new Promise((function(t,r){e._lastConnectedStatus=!0
var i=e.connectEventSource()
if(i.readyState!==Re.CONNECTING){var a=new Error("EventSource readyState is incorrect: ".concat(i.readyState))
e.triggerEvent("error",a),r(a)}else{var o=function(t,r){return function(i){"FAIL-ON-ERROR"===n?r(Ge(i)?i.error:i):(e.eventSourceOnError(i),t())}}(t,r)
i.addEventListener("error",o),i.addEventListener("open",e._getConnectionHandler(t,o,i)),i.addEventListener("message",e.eventSourceOnmessage.bind(e))}}))}},{key:"disconnectAndClose",value:function(){this._realtimeChannelDisconnectedTime||this.recordConnectionLostTime(),this._heartBeatMonitor.cancel(),this._reconnectTask.cancel(),this._eventSource&&(this._api.disconnect(),this._eventSource.close(),this._eventSource=null),this._eventSourceErrorCount=0,this.triggerEvent("close",null)}},{key:"setNewSessionId",value:function(n){e._realtimeSessionId=n,this._options.connectHeaders["x-li-realtime-session"]=this.sessionId,this._api.setSessionId(this.sessionId)}},{key:"updateOptions",value:function(n){if(e.singleton){var t=this.options.sessionHeartbeat
this._options=ye(ye(ye({},e.singleton._options),Me(n)),{},{tracking:e.singleton._options.tracking,sessionHeartbeat:Ye(n.sessionHeartbeat,this.options.sessionHeartbeat,6e4)}),this._api.setMpInfo(this._options.mpInfo),t!==this.options.sessionHeartbeat&&this.startConnectivityTracker()}}},{key:"startConnectivityTracker",value:function(){var n=this,t=!0
e._connectivityTrackingTimer&&(clearInterval(e._connectivityTrackingTimer),e._connectivityTrackingTimer=0,t=!1),this._options.sessionHeartbeat&&(t&&this._api.trackActiveConnection(this.sessionId,"FIRST_BEAT").then((function(e){e&&"WARNING_INFO"===e.type&&n.triggerEvent("warning",e)})),e._connectivityTrackingTimer=setInterval((function(){n._api.trackActiveConnection(n.sessionId,"ALIVE").then((function(e){e&&"WARNING_INFO"===e.type&&n.triggerEvent("warning",e)}))}),this._options.sessionHeartbeat))}},{key:"stopConnectivityTracker",value:function(){e._connectivityTrackingTimer&&(clearInterval(e._connectivityTrackingTimer),e._connectivityTrackingTimer=0,this._api.trackActiveConnection(this.sessionId,"FINAL_BEAT"))}},{key:"handleLoseInternetConnection",value:function(){this.disconnectAndClose(),this.stopConnectivityTracker(),this.setNewSessionId(ua())}},{key:"handleGainInternetConnection",value:function(){var e=this
if(this.startConnectivityTracker(),this._explicitlyConnected){var n,t=Date.now()-this.options.reconnectGapThreshold-1
this._realtimeChannelDisconnectedTime=Math.min(t,null!==(n=this._realtimeChannelDisconnectedTime)&&void 0!==n?n:t),setTimeout((function(){e._internalConnect(e._autoReconnect)}),3e3)}}},{key:"filterSubscriptionListForNonAuthTopics",value:function(e,n){var t,r=(t=this._personalTopicsTypes,function(e){var n=He.extractEntityInfoFromUrn(e).type
return!t.includes(n)}),i=ze(n)
return(e instanceof Array?e:[e]).filter(We).filter(r).filter(i)}},{key:"filterSubscriptionListForAuthTopics",value:function(e,n,t){var r=e instanceof Array?e:[e]
return t[n]?r.filter(We).filter(ze(t[n])):r.filter(We)}},{key:"isAuthBroadcastTopic",value:function(e){var n=this
return void 0!==Object.keys(this._subscribedAuthBroadcastTopics).find((function(t){return n._subscribedAuthBroadcastTopics[t].includes(e)}))}},{key:"getTimeSinceLastDisconnect",value:function(){var e
if(null===this._lastTimeConnectionLost)return 0
var n=Date.now()
return n-(null!==(e=this._lastTimeConnectionLost)&&void 0!==e?e:n)}},{key:"getRealtimeChannelDisconnectedTime",value:function(){return this._realtimeChannelDisconnectedTime?Date.now()-this._realtimeChannelDisconnectedTime:0}},{key:"recordConnectionLostTime",value:function(){this._lastConnectedStatus=!1,this._realtimeChannelDisconnectedTime=Date.now(),this._lastTimeConnectionLost=Date.now(),we("RT connection lost at",this._lastTimeConnectionLost)}},{key:"restoreSubscriptions",value:function(){var e=this,n=this.filterSubscriptionListForNonAuthTopics(this._subscribedNonAuthTopics,[])
return 0===n.length?Promise.resolve({succeeded:[],failed:[]}):this.apiSubscribe(n).then((function(t){return e.getTimeSinceLastDisconnect()>=e._options.reconnectGapThreshold&&e.triggerEvent("topicsResubscribed",{topics:n,timeGapMs:e.getTimeSinceLastDisconnect()}),t}))}},{key:"restoreAuthSubscriptions",value:function(){var e=this
return Object.keys(this._subscribedAuthBroadcastTopics).reduce((function(n,t){var r=t.substring(Math.max(t.length-20,0))
return n.then((function(n){return we("restoring auth subscriptions with token","...".concat(r)),e.apiSubscribe(e._subscribedAuthBroadcastTopics[t],t).then((function(i){return e.getTimeSinceLastDisconnect()>=e.options.reconnectGapThreshold&&e.triggerEvent("topicsResubscribed",{token:t,topics:e._subscribedAuthBroadcastTopics[t],timeGapMs:e.getTimeSinceLastDisconnect()}),we("auth subscription for [...".concat(r,"]"),i.succeeded.length,"succeeded",i.failed.length,"failed"),[].concat(Ee(n),[i])}))}))}),Promise.resolve([]))}},{key:"apiSubscribe",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1
return new Promise((function(i,a){e._api.subscribe(n,t).then((function(n){var o=_e(n,4),s=o[0],c=o[1],d=o[2],u=o[3]
if(t&&0===$e(u).length){var l,p=e.filterSubscriptionListForAuthTopics(s,t,e._subscribedAuthBroadcastTopics)
e._subscribedAuthBroadcastTopics[t]=[].concat(Ee(null!==(l=e._subscribedAuthBroadcastTopics[t])&&void 0!==l?l:[]),Ee(p))}else if(t&&$e(u).length>0){var f=Object.entries(u).find((function(e){return 403===e[1].status}))
f&&f.length>0&&(e._subscribedAuthBroadcastTopics[t]&&delete e._subscribedAuthBroadcastTopics[t],e.triggerEvent("authSubscribeFailed",t))}else e._subscribedNonAuthTopics=[].concat(Ee(e._subscribedNonAuthTopics),Ee(s.filter(ze(e._subscribedNonAuthTopics))))
s.forEach((function(n){return e.triggerEvent("subscribe",n)})),d.length>0&&r<e.options.maxRetryCount?e.apiSubscribe(d,t,r+1).then((function(e){i({succeeded:[].concat(Ee(s),Ee(e.succeeded)),failed:[].concat(Ee(c),Ee(e.failed))})})).catch(a):(c.forEach((function(n){return e.triggerEvent("subscribeFailed",n)})),i({succeeded:s,failed:[].concat(Ee(c),Ee(d))}))})).catch((function(t){412===t.status?(e.scheduleReconnect(),i({succeeded:[],failed:n})):(e.triggerEvent("error",t),a(t))}))}))}},{key:"connectEventSource",value:function(){return this._eventSource||(this._eventSource=new EventSource(this.realtimeConnectUrl,{withCredentials:!0,headers:this.options.connectHeaders})),this._eventSource}},{key:"itShouldRetry",value:function(e){return!(null!=e&&e>=400&&e<500)&&(!this._eventSource||this._eventSource.readyState===Re.CLOSE||this._eventSourceErrorCount>this.options.acceptableErrorCount)}},{key:"lostConnection",value:function(){return this._lastConnectedStatus&&null===this._eventSource}},{key:"detectConnectionLost",value:function(){var e=this.lostConnection()
return e&&(this._lastConnectedStatus=this.connected,this.recordConnectionLostTime()),e}},{key:"beforeUnloadHandler",value:function(){e.close()}}],[{key:"getOrUpdateClient",value:function(n){return e.singleton?e.singleton.updateOptions(n):e.create(n),e.singleton}},{key:"create",value:function(n){var t
if(!xe())throw new Error("common-time client can only be used in a browser environment\n\nFor more information please reference https://go/github%20multiproduct/common-time#user-content-node-compatibility")
var r=null!==(t=n.eventSource)&&void 0!==t?t:pa.EventSourcePolyfill
if("undefined"!=typeof globalThis?globalThis.EventSource=r:window.EventSource=r,!(Object.keys(n).length>0&&n.mpInfo))throw new Error("Unable to create common-time client - mailbox 'options' is empty or missing required data: ".concat(JSON.stringify({options:n})))
return function(e){var n,t,r,i,a,o,s=[]
if(!e||!Object.keys(e).length)throw new Error("Required header ".concat(e," not supplied: }"))
if("x-li-track"in e||s.push("x-li-track"),"x-li-query-map"in e&&!("x-li-query-accept"in e)&&s.push("x-li-query-accept"),"x-li-recipe-map"in e&&!("x-li-recipe-accept"in e)&&s.push("x-li-recipe-accept"),"x-li-query-map"in e&&"x-li-recipe-map"in e){var c=JSON.parse(e["x-li-query-map"]).topicToGraphQLQueryParams,d=(n=JSON.parse(e["x-li-recipe-map"]),t=c,r=Object.keys(n),i=Object.keys(t),a=new Set(r),o=new Set(i),Ee(a).filter((function(e){return o.has(e)})))
d.length>0&&s.push("x-li-query and x-li-recipe map headers are supplied with the same topic: ".concat(d.join(", ")))}if(s.length>0)throw new Error("Required headers not supplied: ".concat(s.join(", ")))}(n.connectHeaders),e.singleton=new e(n),e.singleton}},{key:"close",value:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
if(!e.singleton||!xe())return Promise.resolve(!1)
var t=Promise.resolve(),r=e.singleton
return e._connectivityTrackingTimer&&r&&(clearInterval(e._connectivityTrackingTimer),e._connectivityTrackingTimer=0,n&&(t=r._api.trackActiveConnection(r.sessionId,"FINAL_BEAT"))),r._boundUnloadHandler&&window.removeEventListener("beforeunload",r._boundUnloadHandler),window.removeEventListener("offline",r.handleLoseInternetConnection.bind(r)),window.removeEventListener("online",r.handleGainInternetConnection.bind(r)),r.disconnectAndClose(),r._realtimeTracking=null,e.singleton=null,xe()&&ha&&("undefined"!=typeof globalThis?globalThis.EventSource=ha:window.EventSource=ha),Oe(t)}}]),e}()
function ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return ma.getOrUpdateClient(e)}Te(ma,"singleton",void 0),Te(ma,"_realtimeSessionId",ua()),Te(ma,"_connectivityTrackingTimer",0)
var ga={MISSING_DATA_FROM_RESPONSE:{message:"Some data was missing or invalid from the response",code:100},ERRORS_IN_RESPONSE:{message:"Some errors were returned in the response",code:101},RESPONSE_INVALID_JSON:{message:"Failed to parse a JSON response",code:102},NO_RESPONSE_RECEIVED:{message:"No response received",code:103},NETWORK_ERROR:{message:"Network Error",code:104}},va={FEATURE_NOT_YET_AVAILABLE:{message:"This feature is not yet available",code:613},MAILBOX_CONNECT_FAILED:{message:"Connecting to the Mailbox failed",code:614},MESSAGE_DECORATE_FAILED:{message:"Decoration of messages failed",code:600},CONVERSATION_DECORATE_FAILED:{message:"Decoration of conversation failed",code:601},MAILBOX_DECORATE_FAILED:{message:"Decoration of mailbox failed",code:602},CONVERSATION_DOES_NOT_EXIST:{message:"The conversation does not exist",code:603},DRAFT_MESSAGE_IS_EMPTY:{message:"The draft message is empty",code:604},MESSAGE_SEND_FAILED:{message:"Could not send the message",code:605},MESSAGE_DELETE_FAILED:{message:"Could not delete the message",code:606},MESSAGE_EDIT_FAILED:{message:"Could not edit the message",code:607},MESSAGE_DOES_NOT_EXIST:{message:"The message does not exist",code:608},DRAFT_CONVERSATION_NOT_FOUND:{message:"The draft conversation could not be found",code:610},PARTICIPANTS_DECORATE_FAILED:{message:"Decoration of participants failed",code:611},TOO_MANY_CATEGORIES:{message:"Too many categories specified and no keywords for find conversations",code:612},CANNOT_CREATE_FILTERED_MAILBOX:{message:"Cannot create a FilteredMailbox from a non-root mailbox",code:616},LOAD_OLDER_MESSAGES_FAILED:{message:"Cannot load older messages",code:617},RETRY_CANCELLED:{message:"The exponential backoff retry was cancelled",code:618},SENDING_QUEUE_IN_PROGRESS:{message:"The sending queue is already in progress. Cannot sendPendingMessages.",code:619},CANNOT_ADD_MESSAGES_IN_CONVERSATION:{message:"The draft conversation is in the process of sending the first message and creating a saved conversation. Cannot add more messages.",code:620},CANNOT_ADD_PARTICIPANTS_IN_CONVERSATION:{message:"Cannot add participants in conversation",code:621},CANNOT_REMOVE_PARTICIPANTS_FROM_CONVERSATION:{message:"Cannot remove participants from conversation",code:622},CANNOT_DISMISS_INLINE_WARNING:{message:"Cannot dismiss inline warning",code:623},MESSAGE_LIST_SYNC_FAILED:{message:"Message list sync failed",code:624},CHAIN_SYNC_FAILED:{message:"Chain sync failed",code:625},GET_REACTORS_FAILED:{message:"Get reactors by message and emoji failed",code:627},REACTION_LIMIT_REACHED:{message:"Cannot react to message because the reaction limit has been reached on this message",code:628},CONTENT_IS_NOT_ATTRIBUTED_TEXT:{message:"Content is not in the proper format of an AttributedTextFragment",code:629},INVALID_URL:{message:"Invalid restli or graphql URL",code:630},CHAIN_SYNC_CANNOT_START:{message:"Chain sync cannot start because missing syncToken",code:631},INVALID_TYPE_ARGUMENT:{message:"Invalid type argument",code:632},COMPOSE_BY_RECIPIENTS_FAILED:{message:"composeByRecipients failed: The conversation found could not be added to the Mailbox State",code:633}},ba={CANNOT_QUERY_FRAGMENT:{message:"Cannot submit a GraphQL request with a fragment query",code:800},GRAPHQL_ERROR_PAYLOAD:{message:"Error in GraphQL response",code:801},GRAPHQL_INVALID_LOOKUP:{message:"Could not lookup the graphql query - invalid query",code:802}},Ta={CANNOT_CONNECT:{message:"Connection to Realtime failed",code:700},PAYLOAD_DATA_DOES_NOT_EXIST:{message:"Realtime response decorated payload data does not exist",code:701},PAYLOAD_DECORATION_DOES_NOT_EXIST:{message:"Realtime response decorated payload decoration does not exist",code:702},PAYLOAD_RESULT_DOES_NOT_EXIST:{message:"Realtime response decorated payload result does not exist",code:703},COMMON_TIME_ERROR:{message:"Error event emitted from common-time",code:704},EVENT_ERROR:{message:"Event data received from Realtime is invalid",code:705},EVENT_RESPONSE_ERROR:{message:"Event data contains GraphQL decoration errors",code:706}},_a=function(e){return e instanceof Error},Ea=function(e){return e instanceof Aa},Sa=function(e){var n=e
return void 0!==n.status&&null!==n.status}
da=Symbol.toPrimitive
var Ca,Aa=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&l(e,n)}(t,h(Error))
var n=function(e){var n=p()
return function(){var t,r=u(e)
if(n){var i=u(this).constructor
t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments)
return function(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n
if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")
return y(e)}(this,t)}}(t)
function t(e,r,i,a,s){var c
return o(this,t),c=n.call(this,"[web-messenger-data] ".concat(i.trim()," (").concat(r,")").concat(a?Array.isArray(a)?" - ".concat(a.map((function(e){return e.message})).join()):" - ".concat(a.message):"")),d(y(c),"namespace",void 0),d(y(c),"code",void 0),d(y(c),"originalStatusCodes",void 0),d(y(c),"cause",void 0),c.name="MDError",c.code=r,c.namespace=e,c.cause=a,c.originalStatusCodes=s,Object.setPrototypeOf(y(c),(this instanceof t?this.constructor:void 0).prototype),c}return c(t,[{key:"id",get:function(){return"".concat(this.namespace,":").concat(this.code)}},{key:da,value:function(e){return"string"===e?this.toString():null}}],[{key:"fromUnknown",value:function(e,n){var r=va[n],i=r.code,a=r.message
return _a(e)?new t("client",i,"".concat(a," - ").concat(e.message)):new t("client",i,a)}},{key:"fromMDResponseError",value:function(e,n,r){var i=n.message||n.code,a=void 0!==i?"".concat(e," ").concat(i):e
return new t("api",null!=r?r:n.status,a)}},{key:"fromClientErrorMemo",value:function(e,n){var r=va[e]
return new t("client",r.code,r.message,n)}},{key:"fromInvalidType",value:function(e,n,r){var i=va.INVALID_TYPE_ARGUMENT,a=i.code,o=i.message,s="".concat(e,"() invalid argument ").concat(n," not a ").concat(r,"'")
return new t("client",a,"".concat(o," - ").concat(s))}},{key:"fromApiErrorMemo",value:function(e,n){var r=ga[e],i=r.code,a=r.message
return new t("api",i,"".concat(a).concat(null!=n&&n.msg?" - "+n.msg:""),null==n?void 0:n.cause,null==n?void 0:n.originalStatusCodes)}},{key:"fromGraphQLErrorMemo",value:function(e,n){var r=ba[e]
return new t("graphql",r.code,r.message,n)}},{key:"fromRealtimeErrorMemo",value:function(e,n){var r=Ta[e]
return new t("realtime",r.code,r.message,n)}},{key:"buildCommonTimeError",value:function(e){var n=Ta.COMMON_TIME_ERROR.message,r=e.message?"".concat(n," - ").concat(e.message):n,i=g(Sa(e)?[e.originalEvent,e.status]:[void 0,Ta.COMMON_TIME_ERROR.code],2),a=i[0]
return new t("realtime",i[1],r,a)}},{key:"buildGraphQLPayloadError",value:function(e,n){var r,i,a=ba.GRAPHQL_ERROR_PAYLOAD.message,o=e.message,s='"'.concat(n,'" ').concat(a," - ").concat(null!=o?o:"")
return new t("graphql",null!==(r=null===(i=e.extensions)||void 0===i?void 0:i.status)&&void 0!==r?r:ba.GRAPHQL_ERROR_PAYLOAD.code,s)}}]),t}(),ka=function(e,n,t){return Promise.reject(Aa.fromMDResponseError(e,n,t))},Ia={fullyLoaded:!1,loading:!1,nextCursor:null,syncToken:null,lastRequestId:0},Ra={},wa=function(e){return function(n){return!!z(n)&&n.entityUrn===e}},xa=function(e){return function(n){return!!z(n)&&e.includes(n.entityUrn)}},Ma=function(e){return function(n){return e===(Y(e)?n.entityUrn:n.clientId)}},Oa=function(e){return function(n){return void 0!==e.find((function(e){return n.categories.includes(e)}))}},Na=function(e){return function(n){return n.entityUrn===e}},Pa=function(e){return function(n){return e.includes(n.entityUrn)}},Ua=function(e){return function(n){return n.clientId===e}},Da=function(e){return function(n){return void 0!==e[n.clientId]&&null!==e[n.clientId]}},La=function(e){return void 0!==e.conversationUrn},Fa=function(e){return void 0!==e.messageUrn},Ba=function(e){return Fa(e)||La(e)},ja=function(e,n){var t,r,i,a,o,s,c,d
return{renderContent:"ADD"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ADD")?[].concat(v(e.renderContent),v(n.renderContent)):n.renderContent,messageRequestContextByRecipient:null!==(t=n.messageRequestContextByRecipient)&&void 0!==t?t:e.messageRequestContextByRecipient,quickActionContextUrn:null!==(r=n.quickActionContextUrn)&&void 0!==r?r:e.quickActionContextUrn,invitationUrn:null!==(i=n.invitationUrn)&&void 0!==i?i:e.invitationUrn,forwardedMessageUrn:null!==(a=n.forwardedMessageUrn)&&void 0!==a?a:e.forwardedMessageUrn,conversationState:null!==(o=n.conversationState)&&void 0!==o?o:e.conversationState,conversationTitle:null!==(s=n.conversationTitle)&&void 0!==s?s:e.conversationTitle,hostMessageCreateContent:null!==(c=n.hostMessageCreateContent)&&void 0!==c?c:e.hostMessageCreateContent,messageSubject:null!==(d=n.messageSubject)&&void 0!==d?d:e.messageSubject}},qa=function(e){return function(n){var t
return n?i(i(i({},n),e),{},{optionalSendData:e.optionalSendData?ja(n.optionalSendData,e.optionalSendData,"REPLACE"):n.optionalSendData,status:"Delivered"===n.status?"Delivered":null!==(t=e.status)&&void 0!==t?t:n.status,additionalData:e.additionalData||n.additionalData,entityUrn:n.entityUrn||e.entityUrn,clientId:n.clientId}):e}},Va=function(e){return e.connected.api},Ha=function(e){return e.slice().sort((function(e,n){return"Delivered"===e.status&&"Delivered"!==n.status?-1:"Delivered"!==e.status&&"Delivered"===n.status?1:e.deliveredAt.getTime()-n.deliveredAt.getTime()}))},Ga=function(e){return e.slice().sort((function(e,n){return n.lastActivityAt.getTime()-e.lastActivityAt.getTime()}))},Ka=function(e){return function(n){return e.entityUrn===n.entityUrn}},Wa=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FilteredMailboxState"
return function(t){return void 0===e.find(Ka(t),n)}},za=function(e){return e.reduce((function(e,n){return[].concat(v(e),v(n.messages))}),[])},Qa=function(e){return void 0===e.messages&&void 0!==e.status},$a=function(e){return"Draft"===e.status||"Pending"===e.status||"Sending"===e.status},Ya=function(e,n){var t,r,a,o,s
if(n.lastActivityAt&&n.lastActivityAt<e.lastActivityAt)return e
var c=to(null!==(t=e.seenReceiptsMap)&&void 0!==t?t:{},null!==(r=n.seenReceiptsMap)&&void 0!==r?r:{})
return i(i(i({},e),n),{},{participants:n.participants&&n.participants.length>0?n.participants:e.participants,lastActivityAt:null!==(a=n.lastActivityAt)&&void 0!==a?a:e.lastActivityAt,status:i(i({},e.status),n.status),metadata:{prevCursor:null!==(o=n.metadata)&&void 0!==o&&o.prevCursor&&""!==n.metadata.prevCursor?n.metadata.prevCursor:e.metadata.prevCursor,syncToken:null!==(s=n.metadata)&&void 0!==s&&s.syncToken&&""!==n.metadata.syncToken?n.metadata.syncToken:e.metadata.syncToken},seenReceiptsMap:c,quickReplies:n.quickReplies&&n.quickReplies.length>0?n.quickReplies:e.quickReplies})},Xa=function(e,n){var t,r,a,o
if(Qa(n))return i(i({},e),{},{status:i(i({},e.status),n.status)})
var s=n.participants||[],c=v(n.messages||[]),d=n.matchingSearches||[]
return i(i(i({},e),n),{},{participants:s.length>0?M(e.participants,s).filter((function(e){return void 0!==e})).sort():e.participants,messages:c.length>0?e.messages.add(c):e.messages,clientId:e.clientId,draftMessage:e.draftMessage,matchingSearches:d.length>0?M(e.matchingSearches,d):e.matchingSearches,metadata:{prevCursor:null!==(t=n.metadata)&&void 0!==t&&t.prevCursor&&""!==(null===(r=n.metadata)||void 0===r?void 0:r.prevCursor)?n.metadata.prevCursor:e.metadata.prevCursor,syncToken:null!==(a=n.metadata)&&void 0!==a&&a.syncToken&&""!==(null===(o=n.metadata)||void 0===o?void 0:o.syncToken)?n.metadata.syncToken:e.metadata.syncToken},quickReplies:n.quickReplies&&n.quickReplies.length>0?n.quickReplies:e.quickReplies})},Ja=function(e,n){return function(t){var r=t.entityUrn?e.get(t.entityUrn):void 0,i=n.get(t.clientId)
return void 0!==r||void 0!==i&&(void 0===i.entityUrn||void 0===t.entityUrn)}},Za=function(e,n){return function(t){var r=e.state.draftConversations.get(n)||e.state.conversations.getByIdentifier(n,"FullMailboxState")
if(!r)throw Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST")
return void 0!==r.messages.getByIdentifier(t)}},eo=function(e,n,t){if(0===n.length)return[]
var r=n[0].message,i=e.messages.last()
if(!i)return[]
var a=i.entityUrn
return t&&t.deliveredAt&&(a=i.deliveredAt.getTime()>t.deliveredAt.getTime()?i.entityUrn:t.entityUrn),a===r.entityUrn?n:[]},no=function(){ma.close(!1),function(){try{for(var e in Ra)delete Ra[e]}catch(e){console.error("clearStateTable",e)}}()},to=function(e,n){var t=n?function(e,n){var t=i({},e)
return N(n).forEach((function(e){var r
t[e]?(r=t[e]).push.apply(r,v(n[e])):(t[e]=n[e],t[e].sort((function(e,n){return e.seenAt-n.seenAt})))})),t}(e,n):e
return function(e){var n=function(e){var n={}
return N(e).forEach((function(t){n[e[t].messageUrn]?n[e[t].messageUrn].push({participantUrn:t,seenAt:e[t].seenAt}):n[e[t].messageUrn]=[{participantUrn:t,seenAt:e[t].seenAt}]})),n}(function(e){var n={}
return N(e).forEach((function(t){e[t].forEach((function(e){var r=e.participantUrn
if(n[r]){var i=n[r].seenAt
new Date(e.seenAt)>new Date(i)&&(n[r]={messageUrn:t,seenAt:e.seenAt})}else n[r]={messageUrn:t,seenAt:e.seenAt}}))})),n}(e))
return n}(t)},ro=function(e,n){return e.lastActivityAt.getTime()>=n},io=function(e,n){var t=e.reduce((function(e,n){return i(i({},e),{},d({},n.hostIdentityUrn,n))}),{}),r=n.reduce((function(e,n){return i(i({},e),{},d({},n.hostIdentityUrn,n))}),t)
return P(r)},ao=function(e){var n=e.participants.find((function(e){return e.includes("UNKNOWN")}))
return n&&F("messenger-data","Realtime âš¡ï¸","New Message conversation update contains invalid participants."),n?i(i({},e),{},{participants:[]}):e},oo=function(e){return[e.filter(La).map((function(e){return e.conversationUrn})).sort(),e.filter(Fa).map((function(e){return e.messageUrn})).sort()]},so=function(){return uo.fromConversationArray([])},co=function(e){return!0}
Ca=Symbol.iterator
var uo=function(){function e(n,t){o(this,e),d(this,"_conversations",void 0),d(this,"_filterPredicate",void 0),d(this,"_entityUrnIndex",new Map),d(this,"_clientIdIndex",new Map),d(this,"_idx",0),this._conversations=Ga(n),this._filterPredicate=t||co,this._entityUrnIndex=new Map(this._conversations.map((function(e){return[e.entityUrn,e]}))),this._clientIdIndex=new Map(this._conversations.map((function(e){return[e.clientId,e]})))}return c(e,[{key:"getByIdentifier",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FilteredMailboxState",t=Y(e)?this._entityUrnIndex.get(e):this._clientIdIndex.get(e)
return"FullMailboxState"===n||t&&this._filterPredicate(t)?t:void 0}},{key:"filterPredicate",get:function(){return this._filterPredicate}},{key:"filtered",value:function(n){return new e(this._conversations,n)}},{key:Ca,value:function(){return this}},{key:"next",value:function(){for(;this._idx<this._conversations.length&&!this._filterPredicate(this._conversations[this._idx]);)this._idx++
return this._idx<this._conversations.length?{done:!1,value:this._conversations[this._idx++]}:(this._idx=0,{done:!0,value:void 0})}},{key:"last",value:function(){if(0!==this._conversations.length){for(var e=this._conversations.length-1;e>=0&&!this._filterPredicate(this._conversations[e]);)e--
return e>=0?this._conversations[e]:void 0}}},{key:"first",value:function(){if(0!==this._conversations.length){for(var e=0;e<this._conversations.length&&!this._filterPredicate(this._conversations[e]);)e++
return e<this._conversations.length?this._conversations[e]:void 0}}},{key:"find",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FilteredMailboxState"
return this._conversations.filter("FilteredMailboxState"===n?this._filterPredicate:function(){return!0}).find(e)}},{key:"findMessage",value:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FilteredMailboxState"
return null===(n=this._conversations.filter("FilteredMailboxState"===t?this._filterPredicate:function(){return!0}).find((function(n){return void 0!==n.messages.getByIdentifier(e)})))||void 0===n?void 0:n.messages.getByIdentifier(e)}},{key:"filter",value:function(e){return this._conversations.filter(this._filterPredicate).filter(e)}},{key:"updateItem",value:function(n,t){return new e(k(n,t,this._conversations))}},{key:"updateItemByIdentifier",value:function(n,t){var r
if(!(r=Y(n)?this._entityUrnIndex.get(n):this._clientIdIndex.get(n)))throw Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST")
var i=this._conversations.map((function(e){return e.clientId===r.clientId?Ya(e,t):e}))
return new e(i,this._filterPredicate)}},{key:"addItem",value:function(n){var t=!1,r=this._conversations.map((function(e){return e.entityUrn===n.entityUrn?(t=!0,Xa(e,n)):e}))
return new e(t?r:[].concat(v(this._conversations),[n]),this._filterPredicate)}},{key:"addItems",value:function(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=g(w(Wa(this._conversations))(n),2),a=r[0],o=r[1],s=t?a:a.map((function(e){return i(i({},e),{},{categories:[]})})),c=this._conversations.map((function(e){var n=o.find(wa(e.entityUrn))
return n?Xa(e,n):e}))
return new e([].concat(v(c),v(s)),this._filterPredicate)}},{key:"updateAny",value:function(n,t){return new e(k(n,t,this._conversations))}},{key:"deleteItems",value:function(n){return new e(this._conversations.filter(this._filterPredicate).filter((function(e){return!n(e)})),this._filterPredicate)}},{key:"map",value:function(e){return this._conversations.filter(this._filterPredicate).map(e)}},{key:"reduce",value:function(e,n){return this._conversations.filter(this._filterPredicate).reduce(e,n)}},{key:"splitCollection",value:function(n){var t=g(w(n)(this._conversations.filter(this._filterPredicate)),2),r=t[0],i=t[1]
return[new e(r),new e(i)]}},{key:"length",get:function(){return this._conversations.filter(this._filterPredicate).length}},{key:"toString",value:function(){return this.map((function(e){return e.toString()})).toString()}}],[{key:"fromConversationArray",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1?arguments[1]:void 0)}},{key:"fromConversationIterable",value:function(n){return new e(n._conversations,n._filterPredicate)}},{key:"merge",value:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:co
return new e([].concat(v(n),v(t)),r)}}]),e}(),lo=function(e,n){var t=void 0,r=void 0
return function(){for(var i=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s]
t?r=e:(e.apply(this,o),r=void 0,t=setTimeout((function(){r&&(r.apply(i,o),r=void 0),t=void 0}),n))}}
function po(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var fo,ho="function"==typeof Symbol&&Symbol.observable||"@@observable",mo=function(){return Math.random().toString(36).substring(7).split("").join(".")},yo={INIT:"@@redux/INIT"+mo(),REPLACE:"@@redux/REPLACE"+mo(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mo()}}
function go(e,n,t){var r
if("function"==typeof n&&"function"==typeof t||"function"==typeof t&&"function"==typeof arguments[3])throw new Error(po(0))
if("function"==typeof n&&void 0===t&&(t=n,n=void 0),void 0!==t){if("function"!=typeof t)throw new Error(po(1))
return t(go)(e,n)}if("function"!=typeof e)throw new Error(po(2))
var i=e,a=n,o=[],s=o,c=!1
function d(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(po(3))
return a}function l(e){if("function"!=typeof e)throw new Error(po(4))
if(c)throw new Error(po(5))
var n=!0
return d(),s.push(e),function(){if(n){if(c)throw new Error(po(6))
n=!1,d()
var t=s.indexOf(e)
s.splice(t,1),o=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1
for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n)
return Object.getPrototypeOf(e)===n}(e))throw new Error(po(7))
if(void 0===e.type)throw new Error(po(8))
if(c)throw new Error(po(9))
try{c=!0,a=i(a,e)}finally{c=!1}for(var n=o=s,t=0;t<n.length;t++)(0,n[t])()
return e}return p({type:yo.INIT}),(r={dispatch:p,subscribe:l,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(po(10))
i=e,p({type:yo.REPLACE})}})[ho]=function(){var e,n=l
return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(po(11))
function t(){e.next&&e.next(u())}return t(),{unsubscribe:n(t)}}})[ho]=function(){return this},e},r}function vo(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
return 0===n.length?function(e){return e}:1===n.length?n[0]:n.reduce((function(e,n){return function(){return e(n.apply(void 0,arguments))}}))}function bo(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(!t){if(Array.isArray(e)||(t=_o(e))||n&&e&&"number"==typeof e.length){t&&(e=t)
var r=0,i=function(){}
return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1
return{s:function(){t=t.call(e)},n:function(){var e=t.next()
return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function To(e){return function(e){if(Array.isArray(e))return Eo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(e,n){if(e){if("string"==typeof e)return Eo(e,n)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Eo(e,n):void 0}}function Eo(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}function So(e){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ao(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,n,t){return n&&Ao(e.prototype,n),t&&Ao(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Io(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ro,wo=new Uint8Array(16)
function xo(){if(!Ro&&!(Ro="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return Ro(wo)}var Mo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i
function Oo(e){return"string"==typeof e&&Mo.test(e)}for(var No=[],Po=0;Po<256;++Po)No.push((Po+256).toString(16).slice(1))
function Uo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
return(No[e[n+0]]+No[e[n+1]]+No[e[n+2]]+No[e[n+3]]+"-"+No[e[n+4]]+No[e[n+5]]+"-"+No[e[n+6]]+No[e[n+7]]+"-"+No[e[n+8]]+No[e[n+9]]+"-"+No[e[n+10]]+No[e[n+11]]+No[e[n+12]]+No[e[n+13]]+No[e[n+14]]+No[e[n+15]]).toLowerCase()}function Do(e){if(!Oo(e))throw TypeError("Invalid UUID")
var n,t=new Uint8Array(16)
return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=255&n,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=255&n,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=255&n,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=255&n,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=255&n,t}function Lo(e,n,t){function r(e,r,i,a){var o
if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e))
for(var n=[],t=0;t<e.length;++t)n.push(e.charCodeAt(t))
return n}(e)),"string"==typeof r&&(r=Do(r)),16!==(null===(o=r)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")
var s=new Uint8Array(16+e.length)
if(s.set(r),s.set(e,r.length),(s=t(s))[6]=15&s[6]|n,s[8]=63&s[8]|128,i){a=a||0
for(var c=0;c<16;++c)i[a+c]=s[c]
return i}return Uo(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function Fo(e){return 14+(e+64>>>9<<4)+1}function Bo(e,n){var t=(65535&e)+(65535&n)
return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}function jo(e,n,t,r,i,a){return Bo((o=Bo(Bo(n,e),Bo(r,a)))<<(s=i)|o>>>32-s,t)
var o,s}function qo(e,n,t,r,i,a,o){return jo(n&t|~n&r,e,n,i,a,o)}function Vo(e,n,t,r,i,a,o){return jo(n&r|t&~r,e,n,i,a,o)}function Ho(e,n,t,r,i,a,o){return jo(n^t^r,e,n,i,a,o)}function Go(e,n,t,r,i,a,o){return jo(t^(n|~r),e,n,i,a,o)}Lo("v3",48,(function(e){if("string"==typeof e){var n=unescape(encodeURIComponent(e))
e=new Uint8Array(n.length)
for(var t=0;t<n.length;++t)e[t]=n.charCodeAt(t)}return function(e){for(var n=[],t=32*e.length,r="0123456789abcdef",i=0;i<t;i+=8){var a=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(a>>>4&15)+r.charAt(15&a),16)
n.push(o)}return n}(function(e,n){e[n>>5]|=128<<n%32,e[Fo(n)-1]=n
for(var t=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var s=t,c=r,d=i,u=a
t=qo(t,r,i,a,e[o],7,-680876936),a=qo(a,t,r,i,e[o+1],12,-389564586),i=qo(i,a,t,r,e[o+2],17,606105819),r=qo(r,i,a,t,e[o+3],22,-1044525330),t=qo(t,r,i,a,e[o+4],7,-176418897),a=qo(a,t,r,i,e[o+5],12,1200080426),i=qo(i,a,t,r,e[o+6],17,-1473231341),r=qo(r,i,a,t,e[o+7],22,-45705983),t=qo(t,r,i,a,e[o+8],7,1770035416),a=qo(a,t,r,i,e[o+9],12,-1958414417),i=qo(i,a,t,r,e[o+10],17,-42063),r=qo(r,i,a,t,e[o+11],22,-1990404162),t=qo(t,r,i,a,e[o+12],7,1804603682),a=qo(a,t,r,i,e[o+13],12,-40341101),i=qo(i,a,t,r,e[o+14],17,-1502002290),t=Vo(t,r=qo(r,i,a,t,e[o+15],22,1236535329),i,a,e[o+1],5,-165796510),a=Vo(a,t,r,i,e[o+6],9,-1069501632),i=Vo(i,a,t,r,e[o+11],14,643717713),r=Vo(r,i,a,t,e[o],20,-373897302),t=Vo(t,r,i,a,e[o+5],5,-701558691),a=Vo(a,t,r,i,e[o+10],9,38016083),i=Vo(i,a,t,r,e[o+15],14,-660478335),r=Vo(r,i,a,t,e[o+4],20,-405537848),t=Vo(t,r,i,a,e[o+9],5,568446438),a=Vo(a,t,r,i,e[o+14],9,-1019803690),i=Vo(i,a,t,r,e[o+3],14,-187363961),r=Vo(r,i,a,t,e[o+8],20,1163531501),t=Vo(t,r,i,a,e[o+13],5,-1444681467),a=Vo(a,t,r,i,e[o+2],9,-51403784),i=Vo(i,a,t,r,e[o+7],14,1735328473),t=Ho(t,r=Vo(r,i,a,t,e[o+12],20,-1926607734),i,a,e[o+5],4,-378558),a=Ho(a,t,r,i,e[o+8],11,-2022574463),i=Ho(i,a,t,r,e[o+11],16,1839030562),r=Ho(r,i,a,t,e[o+14],23,-35309556),t=Ho(t,r,i,a,e[o+1],4,-1530992060),a=Ho(a,t,r,i,e[o+4],11,1272893353),i=Ho(i,a,t,r,e[o+7],16,-155497632),r=Ho(r,i,a,t,e[o+10],23,-1094730640),t=Ho(t,r,i,a,e[o+13],4,681279174),a=Ho(a,t,r,i,e[o],11,-358537222),i=Ho(i,a,t,r,e[o+3],16,-722521979),r=Ho(r,i,a,t,e[o+6],23,76029189),t=Ho(t,r,i,a,e[o+9],4,-640364487),a=Ho(a,t,r,i,e[o+12],11,-421815835),i=Ho(i,a,t,r,e[o+15],16,530742520),t=Go(t,r=Ho(r,i,a,t,e[o+2],23,-995338651),i,a,e[o],6,-198630844),a=Go(a,t,r,i,e[o+7],10,1126891415),i=Go(i,a,t,r,e[o+14],15,-1416354905),r=Go(r,i,a,t,e[o+5],21,-57434055),t=Go(t,r,i,a,e[o+12],6,1700485571),a=Go(a,t,r,i,e[o+3],10,-1894986606),i=Go(i,a,t,r,e[o+10],15,-1051523),r=Go(r,i,a,t,e[o+1],21,-2054922799),t=Go(t,r,i,a,e[o+8],6,1873313359),a=Go(a,t,r,i,e[o+15],10,-30611744),i=Go(i,a,t,r,e[o+6],15,-1560198380),r=Go(r,i,a,t,e[o+13],21,1309151649),t=Go(t,r,i,a,e[o+4],6,-145523070),a=Go(a,t,r,i,e[o+11],10,-1120210379),i=Go(i,a,t,r,e[o+2],15,718787259),r=Go(r,i,a,t,e[o+9],21,-343485551),t=Bo(t,s),r=Bo(r,c),i=Bo(i,d),a=Bo(a,u)}return[t,r,i,a]}(function(e){if(0===e.length)return[]
for(var n=8*e.length,t=new Uint32Array(Fo(n)),r=0;r<n;r+=8)t[r>>5]|=(255&e[r/8])<<r%32
return t}(e),8*e.length))}))
var Ko={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}
function Wo(e,n,t){if(Ko.randomUUID&&!n&&!e)return Ko.randomUUID()
var r=(e=e||{}).random||(e.rng||xo)()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0
for(var i=0;i<16;++i)n[t+i]=r[i]
return n}return Uo(r)}function zo(e,n,t,r){switch(e){case 0:return n&t^~n&r
case 1:case 3:return n^t^r
case 2:return n&t^n&r^t&r}}function Qo(e,n){return e<<n|e>>>32-n}Lo("v5",80,(function(e){var n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520]
if("string"==typeof e){var r=unescape(encodeURIComponent(e))
e=[]
for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e))
e.push(128)
for(var a=e.length/4+2,o=Math.ceil(a/16),s=new Array(o),c=0;c<o;++c){for(var d=new Uint32Array(16),u=0;u<16;++u)d[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3]
s[c]=d}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295
for(var l=0;l<o;++l){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=s[l][f]
for(var h=16;h<80;++h)p[h]=Qo(p[h-3]^p[h-8]^p[h-14]^p[h-16],1)
for(var m=t[0],y=t[1],g=t[2],v=t[3],b=t[4],T=0;T<80;++T){var _=Math.floor(T/20),E=Qo(m,5)+zo(_,y,g,v)+b+n[_]+p[T]>>>0
b=v,v=g,g=Qo(y,30)>>>0,y=m,m=E}t[0]=t[0]+m>>>0,t[1]=t[1]+y>>>0,t[2]=t[2]+g>>>0,t[3]=t[3]+v>>>0,t[4]=t[4]+b>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,255&t[0],t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,255&t[1],t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,255&t[2],t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,255&t[3],t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,255&t[4]]}))
var $o=Uint8Array,Yo=Uint16Array,Xo=Uint32Array,Jo=new $o([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zo=new $o([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),es=new $o([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ns=function(e,n){for(var t=new Yo(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1]
var i=new Xo(t[30])
for(r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r
return[t,i]},ts=ns(Jo,2),rs=ts[0],is=ts[1]
rs[28]=258,is[258]=28
for(var as=ns(Zo,0)[1],os=new Yo(32768),ss=0;ss<32768;++ss){var cs=(43690&ss)>>>1|(21845&ss)<<1
cs=(61680&(cs=(52428&cs)>>>2|(13107&cs)<<2))>>>4|(3855&cs)<<4,os[ss]=((65280&cs)>>>8|(255&cs)<<8)>>>1}var ds=function(e,n,t){for(var r=e.length,i=0,a=new Yo(n);i<r;++i)e[i]&&++a[e[i]-1]
var o,s=new Yo(n)
for(i=0;i<n;++i)s[i]=s[i-1]+a[i-1]<<1
if(t){o=new Yo(1<<n)
var c=15-n
for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],u=n-e[i],l=s[e[i]-1]++<<u,p=l|(1<<u)-1;l<=p;++l)o[os[l]>>>c]=d}else for(o=new Yo(r),i=0;i<r;++i)e[i]&&(o[i]=os[s[e[i]-1]++]>>>15-e[i])
return o},us=new $o(288)
for(ss=0;ss<144;++ss)us[ss]=8
for(ss=144;ss<256;++ss)us[ss]=9
for(ss=256;ss<280;++ss)us[ss]=7
for(ss=280;ss<288;++ss)us[ss]=8
var ls=new $o(32)
for(ss=0;ss<32;++ss)ls[ss]=5
var ps=ds(us,9,0),fs=ds(ls,5,0),hs=function(e){return(e+7)/8|0},ms=function(e,n,t){t<<=7&n
var r=n/8|0
e[r]|=t,e[r+1]|=t>>>8},ys=function(e,n,t){t<<=7&n
var r=n/8|0
e[r]|=t,e[r+1]|=t>>>8,e[r+2]|=t>>>16},gs=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]})
var i=t.length,a=t.slice()
if(!i)return[Cs,0]
if(1==i){var o=new $o(t[0].s+1)
return o[t[0].s]=1,[o,1]}t.sort((function(e,n){return e.f-n.f})),t.push({s:-1,f:25001})
var s=t[0],c=t[1],d=0,u=1,l=2
for(t[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=i-1;)s=t[t[d].f<t[l].f?d++:l++],c=t[d!=u&&t[d].f<t[l].f?d++:l++],t[u++]={s:-1,f:s.f+c.f,l:s,r:c}
var p=a[0].s
for(r=1;r<i;++r)a[r].s>p&&(p=a[r].s)
var f=new Yo(p+1),h=vs(t[u-1],f,0)
if(h>n){r=0
var m=0,y=h-n,g=1<<y
for(a.sort((function(e,n){return f[n.s]-f[e.s]||e.f-n.f}));r<i;++r){var v=a[r].s
if(!(f[v]>n))break
m+=g-(1<<h-f[v]),f[v]=n}for(m>>>=y;m>0;){var b=a[r].s
f[b]<n?m-=1<<n-f[b]++-1:++r}for(;r>=0&&m;--r){var T=a[r].s
f[T]==n&&(--f[T],++m)}h=n}return[new $o(f),h]},vs=function e(n,t,r){return-1==n.s?Math.max(e(n.l,t,r+1),e(n.r,t,r+1)):t[n.s]=r},bs=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new Yo(++n),r=0,i=e[0],a=1,o=function(e){t[r++]=e},s=1;s<=n;++s)if(e[s]==i&&s!=n)++a
else{if(!i&&a>2){for(;a>138;a-=138)o(32754)
a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304)
a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i)
a=1,i=e[s]}return[t.subarray(0,r),n]},Ts=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r]
return t},_s=function(e,n,t){var r=t.length,i=hs(n+2)
e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1]
for(var a=0;a<r;++a)e[i+a+4]=t[a]
return 8*(i+4+r)},Es=function(e,n,t,r,i,a,o,s,c,d,u){ms(n,u++,t),++i[256]
for(var l=gs(i,15),p=l[0],f=l[1],h=gs(a,15),m=h[0],y=h[1],g=bs(p),v=g[0],b=g[1],T=bs(m),_=T[0],E=T[1],S=new Yo(19),C=0;C<v.length;++C)S[31&v[C]]++
for(C=0;C<_.length;++C)S[31&_[C]]++
for(var A=gs(S,7),k=A[0],I=A[1],R=19;R>4&&!k[es[R-1]];--R);var w,x,M,O,N=d+5<<3,P=Ts(i,us)+Ts(a,ls)+o,U=Ts(i,p)+Ts(a,m)+o+14+3*R+Ts(S,k)+(2*S[16]+3*S[17]+7*S[18])
if(N<=P&&N<=U)return _s(n,u,e.subarray(c,c+d))
if(ms(n,u,1+(U<P)),u+=2,U<P){w=ds(p,f,0),x=p,M=ds(m,y,0),O=m
var D=ds(k,I,0)
for(ms(n,u,b-257),ms(n,u+5,E-1),ms(n,u+10,R-4),u+=14,C=0;C<R;++C)ms(n,u+3*C,k[es[C]])
u+=3*R
for(var L=[v,_],F=0;F<2;++F){var B=L[F]
for(C=0;C<B.length;++C){var j=31&B[C]
ms(n,u,D[j]),u+=k[j],j>15&&(ms(n,u,B[C]>>>5&127),u+=B[C]>>>12)}}}else w=ps,x=us,M=fs,O=ls
for(C=0;C<s;++C)if(r[C]>255){j=r[C]>>>18&31,ys(n,u,w[j+257]),u+=x[j+257],j>7&&(ms(n,u,r[C]>>>23&31),u+=Jo[j])
var q=31&r[C]
ys(n,u,M[q]),u+=O[q],q>3&&(ys(n,u,r[C]>>>5&8191),u+=Zo[q])}else ys(n,u,w[r[C]]),u+=x[r[C]]
return ys(n,u,w[256]),u+x[256]},Ss=new Xo([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Cs=new $o(0),As=function(){for(var e=new Int32Array(256),n=0;n<256;++n){for(var t=n,r=9;--r;)t=(1&t&&-306674912)^t>>>1
e[n]=t}return e}(),ks=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},Is="undefined"!=typeof TextDecoder&&new TextDecoder
try{Is.decode(Cs,{stream:!0})}catch(qd){}function Rs(){return"undefined"!=typeof window&&"function"==typeof window.fetch}function ws(){try{return Rs()&&"keepalive"in new Request("")}catch(e){return!1}}function xs(e){var n=e.body,t=e.keepalive,r=e.headers,i=e.compress
r["content-type"]||(r["content-type"]="text/plain;charset=UTF-8")
var a=n
if(i&&"undefined"!=typeof TextEncoder)try{a=function(e,n){n||(n={})
var t=function(){var e=-1
return{p:function(n){for(var t=e,r=0;r<n.length;++r)t=As[255&t^n[r]]^t>>>8
e=t},d:function(){return~e}}}(),r=e.length
t.p(e)
var i,a,o,s=(i=e,a=n,o=function(e){return 10+(e.filename&&e.filename.length+1||0)}(n),function(e,n,t,r,i,a){var o=e.length,s=new $o(r+o+5*(1+Math.ceil(o/7e3))+8),c=s.subarray(r,s.length-8),d=0
if(!n||o<8)for(var u=0;u<=o;u+=65535){var l=u+65535
l>=o&&(c[d>>3]=true),d=_s(c,d+1,e.subarray(u,l))}else{for(var p=Ss[n-1],f=p>>>13,h=8191&p,m=(1<<t)-1,y=new Yo(32768),g=new Yo(m+1),v=Math.ceil(t/3),b=2*v,T=function(n){return(e[n]^e[n+1]<<v^e[n+2]<<b)&m},_=new Xo(25e3),E=new Yo(288),S=new Yo(32),C=0,A=0,k=(u=0,0),I=0,R=0;u<o;++u){var w=T(u),x=32767&u,M=g[w]
if(y[x]=M,g[w]=x,I<=u){var O=o-u
if((C>7e3||k>24576)&&O>423){d=Es(e,c,0,_,E,S,A,k,R,u-R,d),k=C=A=0,R=u
for(var N=0;N<286;++N)E[N]=0
for(N=0;N<30;++N)S[N]=0}var P=2,U=0,D=h,L=x-M&32767
if(O>2&&w==T(u-L))for(var F=Math.min(f,O)-1,B=Math.min(32767,u),j=Math.min(258,O);L<=B&&--D&&x!=M;){if(e[u+P]==e[u+P-L]){for(var q=0;q<j&&e[u+q]==e[u+q-L];++q);if(q>P){if(P=q,U=L,q>F)break
var V=Math.min(L,q-2),H=0
for(N=0;N<V;++N){var G=u-L+N+32768&32767,K=G-y[G]+32768&32767
K>H&&(H=K,M=G)}}}L+=(x=M)-(M=y[x])+32768&32767}if(U){_[k++]=268435456|is[P]<<18|as[U]
var W=31&is[P],z=31&as[U]
A+=Jo[W]+Zo[z],++E[257+W],++S[z],I=u+P,++C}else _[k++]=e[u],++E[e[u]]}}d=Es(e,c,true,_,E,S,A,k,R,u-R,d)}return function(e,n,t){(null==n||n<0)&&(n=0),(null==t||t>e.length)&&(t=e.length)
var r=new(2==e.BYTES_PER_ELEMENT?Yo:4==e.BYTES_PER_ELEMENT?Xo:$o)(t-n)
return r.set(e.subarray(n,t)),r}(s,0,r+hs(d)+8)}(i,null==a.level?6:a.level,null==a.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+a.mem,o)),c=s.length
return function(e,n){var t=n.filename
if(e[0]=31,e[1]=139,e[2]=8,e[8]=n.level<2?4:9==n.level?2:0,e[9]=3,0!=n.mtime&&ks(e,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),t){e[3]=8
for(var r=0;r<=t.length;++r)e[r+10]=t.charCodeAt(r)}}(s,n),ks(s,c-8,t.d()),ks(s,c-4,r),s}((new TextEncoder).encode(n)),r["content-encoding"]="gzip"}catch(e){}return{body:a,keepalive:t,credentials:"include",headers:r,method:"POST",mode:"cors"}}function Ms(e){return e&&"message"in e?e.message:"UNKNOWN_ERROR"}var Os,Ns="undefined"!=typeof navigator&&"sendBeacon"in navigator,Ps=ws()?function(e,n,t,r){return new Promise((function(i){fetch(e,xs({body:n,keepalive:!0,headers:t,compress:r})).catch((function(){return fetch(e,xs({body:n,keepalive:!1,headers:t,compress:r}))})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:e.status}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:Ms(e)})}))}))}:function(e,n,t,r){return new Promise((function(i){if(Ns){var a=!1
try{a=navigator.sendBeacon(e,n)}catch(e){}if(a)return void i({type:"unknown",drop:!1})}fetch(e,xs({body:n,keepalive:!1,headers:t,compress:r})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:200}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:Ms(e)})}))}))}
function Us(e){return new Promise((function(n,t){e.oncomplete=e.onsuccess=function(){return n(e.result)},e.onabort=e.onerror=function(){return t(e.error)}}))}function Ds(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r=arguments.length>3?arguments[3]:void 0,i=indexedDB.open(e)
i.onupgradeneeded=function(){try{i.result.createObjectStore(n,{keyPath:t})}catch(e){null==r||r.onError(e)}}
var a=new Promise((function(e,n){i.onsuccess=function(){var n=i.result
n.onversionchange=function(){return n.close()},e(n),null==r||r.onSuccess()},i.onerror=function(){n(i.error),null==r||r.onError(i.error)}}))
return function(e,t){return a.then((function(r){return t(r.transaction(n,e).objectStore(n))}))}}function Ls(){return Os||(Os=Ds("idb-queue","default")),Os}function Fs(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},t=0,r=null
return e.openKeyCursor().onsuccess=function(){var i=this.result
i&&t++<n.batchEvictionNumber?(r=i.key,i.continue()):null!=r&&e.delete(IDBKeyRange.upperBound(r))},Us(e.transaction)}var Bs=!1
function js(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ls()
return t("readwrite",(function(t){return t.put(e),Us(t.count()).then((function(e){if(!(e<=n.maxNumber))return Fs(t,n)}))})).catch((function(e){if(e&&"QuotaExceededError"===e.name)return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxNumber:1e3,batchEvictionNumber:300}
return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ls())("readwrite",(function(n){return Fs(n,e)}))}(n,t)}))}function qs(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ls()
return Bs?Promise.resolve():js(e,n,t)}function Vs(e,n,t){return n("readonly",(function(n){var r=[]
return n.openCursor(null,t).onsuccess=function(){var n=this.result
n&&(r.push(n.value),(e<0||r.length<e)&&n.continue())},Us(n.transaction).then((function(){return r}))}))}function Hs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0
return!n||t<1||(e[n]=JSON.stringify({attempt:t,errorCode:r})),e}function Gs(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.debug("[beacon-transporter] ",e())}function Ks(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.error("[beacon-transporter] ",e())}function Ws(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeRemaining:5,timeout:1e4}
"undefined"==typeof requestIdleCallback?setTimeout(e,n.fallbackTimeout||10):function t(){requestIdleCallback((function(r){r.timeRemaining()>n.timeRemaining||r.didTimeout?e():t()}),{timeout:n.timeout})}()}var zs=function(){function e(n){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
Co(this,e),Io(this,"config",void 0),Io(this,"compress",void 0),Io(this,"throttleControl",void 0),Io(this,"withStore",void 0),Io(this,"disablePersistence",!1),this.config=n,this.compress=r
var i=n.measureIDB
i&&performance.mark(i.createStartMark),this.withStore=Ds(n.idbName,"beacons","timestamp",{onSuccess:function(){i&&performance.measure(i.createSuccessMeasure,i.createStartMark)},onError:function(){i&&performance.measure(i.createFailMeasure,i.createStartMark),t.disablePersistence=!0}}),this.throttleControl=function(e,n){var t=0
return{throttledFn:function(){var r=Date.now()
r-t>n&&(Gs((function(){return"[throttle] Run fn() at "+String(r)})),e(),t=r)},resetThrottle:function(){t=0}}}(this.replayEntries.bind(this),n.throttleWait)}return ko(e,[{key:"onNotify",value:function(){this.disablePersistence||this.throttleControl.throttledFn()}},{key:"push",value:function(e){var n=this
if(!this.disablePersistence){var t=function(){Gs((function(){return"Persisting to DB "+e.url})),qs(e,n.config,n.withStore).then((function(){n.throttleControl.resetThrottle(),Gs((function(){return"push completed"}))})).catch((function(){n.disablePersistence=!0,Ks((function(){return"push failed"}))}))}
this.config.useIdle?Ws(t):t()}}},{key:"clear",value:function(){var e=this
return this.disablePersistence?Promise.resolve():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ls()
return Bs=!0,e("readwrite",(function(e){return e.clear(),Us(e.transaction).finally((function(){return Bs=!1}))}))}(this.withStore).catch((function(){e.disablePersistence=!0,Ks((function(){return"clear failed"}))}))}},{key:"peek",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
return this.disablePersistence?Promise.resolve([]):function(){return Vs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ls(),"next")}(n,this.withStore).catch((function(){return e.disablePersistence=!0,Ks((function(){return"peek failed"})),[]}))}},{key:"peekBack",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
return this.disablePersistence?Promise.resolve([]):function(){return Vs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ls(),"prev")}(n,this.withStore).catch((function(){return e.disablePersistence=!0,Ks((function(){return"peekBack failed"})),[]}))}},{key:"replayEntries",value:function(){var e=this
if(!this.disablePersistence){var n=function(){Gs((function(){return"Replaying entry: shift from store"})),function(){return function(e,n,t){return n("readwrite",(function(n){var t=[]
return n.openCursor(null,"next").onsuccess=function(){var n=this.result
n&&(t.push(n.value),n.delete(),(e<0||t.length<e)&&n.continue())},Us(n.transaction).then((function(){return t}))}))}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ls())}(1,e.withStore).then((function(n){if(n.length>0){var t,r,i=n[0],a=i.url,o=i.body,s=i.headers,c=i.timestamp,d=i.statusCode,u=i.attemptCount
return Gs((function(){return"header: ".concat(String(e.config.headerName),"; attemptCount: ").concat(u)})),null===(t=(r=e.config).onBeforeRetry)||void 0===t||t.call(r,o),Ps(a,o,Hs(s,e.config.headerName,u,d),e.compress).then((function(n){if("unknown"===n.type||"success"===n.type){var t,r
null===(t=(r=e.config).onResult)||void 0===t||t.call(r,n,o),e.replayEntries()}else{var i,s,l,p,f,h
if(u+1>e.config.attemptLimit)return Gs((function(){return"Exceeded attempt count, dropping the entry: "+JSON.stringify({url:a,timestamp:c,statusCode:d},null,2)})),n.drop=!0,void(null===(i=(s=e.config).onResult)||void 0===i||i.call(s,n,o))
if("network"===n.type||e.config.statusCodes.includes(n.statusCode))return n.drop=!1,null===(l=(p=e.config).onResult)||void 0===l||l.call(p,n,o),Gs((function(){return"Replaying the entry failed, pushing back to IDB: "+JSON.stringify({url:a,timestamp:c,statusCode:d},null,2)})),qs({url:a,body:o,timestamp:c,statusCode:d,attemptCount:u+1},e.config,e.withStore)
n.drop=!0,null===(f=(h=e.config).onResult)||void 0===f||f.call(h,n,o)}}))}})).catch((function(n){e.disablePersistence=!0,n&&n.message&&Ks((function(){return"Replay entry failed: ".concat(n.message)}))}))}
this.config.useIdle?Ws(n):n()}}}]),e}(),Qs=function(){function e(){Co(this,e)}return ko(e,[{key:"onNotify",value:function(){}},{key:"push",value:function(){}},{key:"clear",value:function(){return Promise.resolve()}},{key:"peek",value:function(){return Promise.resolve([])}},{key:"peekBack",value:function(){return Promise.resolve([])}}]),e}(),$s=function(){function e(n,t){Co(this,e),Io(this,"queue",void 0),Io(this,"beaconListeners",new Set),this.queue=e.hasSupport&&!t.disablePersistenceRetry?new zs(n,t.compress):new Qs}return ko(e,[{key:"pushToQueue",value:function(e){this.queue.push(e)}},{key:"notifyQueue",value:function(){this.queue.onNotify()}},{key:"clearQueue",value:function(){return this.beaconListeners.forEach((function(e){return e()})),this.queue.clear()}},{key:"peekQueue",value:function(e){return this.queue.peek(e)}},{key:"peekBackQueue",value:function(e){return this.queue.peekBack(e)}},{key:"onClear",value:function(e){this.beaconListeners.add(e)}},{key:"removeOnClear",value:function(e){this.beaconListeners.delete(e)}}]),e}()
Io($s,"hasSupport","undefined"!=typeof globalThis&&!!globalThis.indexedDB)
var Ys=[502,504],Xs=[429,503],Js=function(){function e(n,t,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4]
Co(this,e),Io(this,"url",void 0),Io(this,"body",void 0),Io(this,"config",void 0),Io(this,"persistenceConfig",void 0),Io(this,"compress",void 0),Io(this,"timestamp",void 0),Io(this,"isClearQueuePending",!1),Io(this,"onClearCallback",void 0),this.url=n,this.body=t,this.config=r,this.persistenceConfig=i,this.compress=o,this.timestamp=Date.now(),this.onClearCallback=function(){return a.isClearQueuePending=!0}}return ko(e,[{key:"send",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.persistenceConfig.db.onClear(this.onClearCallback)
var t=this.retryLimit
return this.retry((function(n){return Ps(e.url,e.body,n,e.compress)}),t,n).finally((function(){Gs((function(){return"beacon finished"})),e.persistenceConfig.db.removeOnClear(e.onClearCallback)}))}},{key:"retryLimit",get:function(){return this.config.attemptLimit}},{key:"getAttemptCount",value:function(e){return this.retryLimit-e+1}},{key:"retry",value:function(e,n,t,r){var i=this,a=this.getAttemptCount(n)-1
return e(Hs(t,this.config.headerName,a,r)).then((function(r){var a,o,s,c
if(r.drop=!1,"unknown"===r.type||"success"===r.type)i.isClearQueuePending||i.persistenceConfig.disabled||i.persistenceConfig.db.notifyQueue(),s=r
else if(Gs((function(){return"retry rejected "+JSON.stringify(r)})),i.shouldPersist(n,r))i.persistenceConfig.db.pushToQueue({url:i.url,body:i.body,headers:t,statusCode:r.statusCode,timestamp:i.timestamp,attemptCount:i.getAttemptCount(n)}),s={type:"persisted",drop:!1,statusCode:r.statusCode}
else{if(n>0&&i.isRetryableError(r)){var d,u
null===(d=(u=i.config).onIntermediateResult)||void 0===d||d.call(u,r,i.body)
var l=i.config.calculateRetryDelay(i.getAttemptCount(n),n)
return Gs((function(){return"in memory retry in ".concat(l,"ms")})),(c=l,new Promise((function(e){return setTimeout(e,c)}))).then((function(){return i.retry(e,n-1,t,r.statusCode)}))}(s=r).drop=!0}return null===(a=(o=i.config).onIntermediateResult)||void 0===a||a.call(o,s,i.body),s}))}},{key:"isRetryableError",value:function(e){return!("network"!==e.type&&!this.config.statusCodes.includes(e.statusCode))}},{key:"shouldPersist",value:function(e,n){return!(this.isClearQueuePending||this.persistenceConfig.disabled||navigator.onLine&&(0!==e||"network"!==n.type)&&("response"!==n.type||!this.persistenceConfig.statusCodes.includes(n.statusCode)))}}]),e}()
function Zs(e,n,t){var r=e.get(n)
r&&r.push(t)||e.set(n,[t])}function ec(e,n,t){var r=e.get(n)
r&&r.splice(r.indexOf(t)>>>0,1)}var nc,tc,rc=(nc=new Map,tc=new Map,{on:function(e,n){Zs(nc,e,n)},before:function(e,n){Zs(tc,e,n)},off:function(e,n){ec(nc,e,n)},offBefore:function(e,n){ec(tc,e,n)},emit:function(e,n){(tc.get(e)||[]).concat(nc.get(e)||[]).slice().map((function(e){e(n)}))},clear:function(){tc.clear(),nc.clear()}})
if("undefined"!=typeof document&&"undefined"!=typeof window){var ic=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||rc.emit("internal:hide",e)}
document.addEventListener("visibilitychange",ic),window.addEventListener("pagehide",ic)}var ac=null
if("undefined"==typeof crypto||!crypto.getRandomValues){var oc=("undefined"!=typeof FastBoot?FastBoot.require:require)("crypto")
if(oc){var sc=new Uint8Array(256),cc=sc.length
ac={rng:function(){return cc>sc.length-16&&(oc.randomFillSync(sc),cc=0),sc.slice(cc,cc+=16)}}}}var dc="object"===("undefined"==typeof crypto?"undefined":So(crypto))&&"function"==typeof crypto.randomUUID?function(){return crypto.randomUUID()}:function(){return function(e){return function(e){var n=Uo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)
if(!Oo(n))throw TypeError("Stringified UUID is invalid")
return n}(e)}(uc())}
function uc(){return Wo(ac,new Array(16),0)}function lc(e){return To(e).map((function(e){return String.fromCharCode(e)})).join("")}function pc(){return lc(uc())}var fc=/^[a-zA-Z0-9/+]+[=]+$/
function hc(e){return Do(e)}function mc(e,n){return{pageUrn:gc(e),trackingId:n||function(e){for(var n,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[],i=0,a=e.length,o=a%3,s=a-o;i<s;)n=e[i]<<16,n|=e[i+1]<<8,n|=e[i+2],r.push(t.charAt(n>>>18&63)),r.push(t.charAt(n>>>12&63)),r.push(t.charAt(n>>>6&63)),r.push(t.charAt(63&n)),i+=3
switch(o){case 2:n=e[i]<<16,n|=e[i+1]<<8,r.push(t.charAt(n>>>18&63)),r.push(t.charAt(n>>>12&63)),r.push(t.charAt(n>>>6&63)),r.push("=")
break
case 1:n=e[i]<<16,r.push(t.charAt(n>>>18&63)),r.push(t.charAt(n>>>12&63)),r.push("="),r.push("=")}return r.join("")}(uc())}}function yc(e,n){return"urn:li:control:".concat(e,"-").concat(n)}function gc(e){return"urn:li:page:".concat(e)}function vc(e,n){return{pageInstance:n.assign({},e.pageInstance),pageKey:e.pageKey,applicationInstance:e.applicationInstance}}function bc(e,n){return void 0!==n.allSettled?n.allSettled(e):function(e){return new Promise((function(n){var t=new Set,r=function(e){t.delete(e),0===t.size&&n()}
0===e.length?n():e.map((function(e){return e.then((function(){return r(e)})).catch((function(){return r(e)}))}))}))}(e)}function Tc(e){var n=[]
return e.forEach((function(e){return n.push(e)})),n}function _c(e,n,t){if("undefined"!=typeof window&&window.indexedDB){var r="sequenceNumber",i=window.indexedDB.open(r)
return new Promise((function(a,o){i.onupgradeneeded=function(){var e=i.result
e.objectStoreNames.contains(r)||e.createObjectStore(r,{autoIncrement:!0})},i.onsuccess=function(){var s=i.result,c=s.transaction(r,"readwrite"),d=c.objectStore(r),u=d.get(1)
u.onsuccess=function(){var r=u.result
if(r){if("read"===e)return a(r)
if("update"!==e)return a(null)
var i,s=Object.assign({},r),c=!1,l=null!==(i=s.sequenceNumber)&&void 0!==i?i:0
if(void 0!==n&&n>l&&(s.sequenceNumber=n,c=!0),t&&Object.keys(t).forEach((function(e){var n,r=null!==(n=s[e])&&void 0!==n?n:0,i=t[e]
i>r&&(s[e]=i,c=!0)})),c){var p=d.put(s,1)
p.onsuccess=function(){return a(null)},p.onerror=function(){o(p.error)}}}else{var f={sequenceNumber:0}
t&&Object.keys(t).forEach((function(e){f[e]=0}))
var h=d.add(f)
h.onsuccess=function(){return a(0)},h.onerror=function(){o(h.error)}}},u.onerror=function(){return s.close(),o(new Error("Error: get sequence number from indexedDB ".concat(String(u.error))))},c.oncomplete=function(){return s.close()}},i.onerror=function(){return a(null)}}))}return Promise.resolve(null)}function Ec(){return"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1||!Rs()||"undefined"==typeof Promise}function Sc(e,n){rc.emit("internal:error",{tags:["core-web-tracking:".concat(e)],reason:n instanceof Error?n:new Error("".concat(e,": ").concat(n))})}function Cc(){if("undefined"==typeof Promise||"undefined"==typeof navigator)return!1
var e=navigator.userAgent.indexOf("Chrome")>-1,n=navigator.cookieEnabled,t=navigator.storage
return e&&ws()&&n&&t}var Ac=function(){function e(n){Co(this,e),Io(this,"host",void 0),this.host=n}return ko(e,[{key:"checkAndEnablePersistentRetry",value:function(e,n){if("function"==typeof(null==e?void 0:e.shouldAnonymizeMemberId)&&!this.host.retryBeacon){var t=this.getRetryTreatment()
this.host.retryConfig&&function(e,n,t,r,i){"control"!==r&&e.retryConfig&&Cc()&&navigator.storage.estimate().then((function(a){if(!((a.quota||0)-(a.usage||0)>52428800))return function(e){var n=window.indexedDB.deleteDatabase("beacons")
return new Promise((function(e,t){n.onsuccess=function(){return e()},n.onerror=function(){return t(n.error)}}))}()
var o,s,c=null!==(o=e.retryConfig.inMemory)&&void 0!==o?o:{attemptLimit:4,statusCodes:[502,504]},d=null!==(s=e.retryConfig.persist)&&void 0!==s?s:{attemptLimit:3,statusCodes:[429,503],maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},u={compress:t,inMemoryRetry:{onIntermediateResult:null==i?void 0:i.onIntermediateResult,attemptLimit:c.attemptLimit,statusCodes:c.statusCodes,headerName:"x-li-retry-context",calculateRetryDelay:function(e){return function(e){return 1e3*Math.pow(2,e)}(e)}},disablePersistenceRetry:e.retryConfig.disablePersistence,persistenceRetry:{onBeforeRetry:null==i?void 0:i.onBeforeRetry,onResult:null==i?void 0:i.onResult,idbName:"beacons",attemptLimit:d.attemptLimit,statusCodes:d.statusCodes,maxNumber:d.maxNumber,batchEvictionNumber:d.batchEvictionNumber,throttleWait:d.throttleWait,useIdle:!0,measureIDB:{createStartMark:"idb_open_start",createSuccessMeasure:"idb_open_success_phase",createFailMeasure:"idb_open_fail_phase"}}},l=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Boolean(n.compress),r=Object.assign({attemptLimit:0,statusCodes:Ys,calculateRetryDelay:function(e,n){return 2e3*n}},n.inMemoryRetry)
if(n.retryDB)e=n.retryDB
else{var i=Object.assign({idbName:"beacon-transporter",attemptLimit:3,statusCodes:Xs,maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},n.persistenceRetry)
i.headerName=i.headerName||r.headerName,e=new $s(i,{compress:n.compress,disablePersistenceRetry:n.disablePersistenceRetry})}return{beacon:function(i,a,o){var s
return Rs()?new Js(i,a,r,{db:e,disabled:Boolean(n.disablePersistenceRetry),statusCodes:(null===(s=n.persistenceRetry)||void 0===s?void 0:s.statusCodes)||Xs},t).send(o):Promise.resolve({type:"unknown",drop:!0})},database:e}}(u),p=l.beacon,f=l.database
return e.retryBeacon={shouldRetry:!0,beacon:p,database:f},"enabled"===r?(e.retryBeacon.shouldRetry=!1,!u.disablePersistenceRetry&&n.shouldAnonymizeMemberId()?f.peekQueue(1).then((function(e){if(Array.isArray(e)&&e[0]){var n=JSON.parse(e[0].body)
if(Array.isArray(n)&&n.some((function(e){return!e.eventInfo.shouldAnonymizeMemberId})))return f.clearQueue()}}),(function(){return f.clearQueue()})).then((function(){e.retryBeacon.shouldRetry=!0})).catch((function(e){Sc("retry:idb",e)})):(e.retryBeacon.shouldRetry=!0,Promise.resolve())):void 0})).catch((function(e){Sc("retry:setup",e)}))}(this.host,e,this.shouldCompressPayload(),t,n)}}},{key:"clearPersistedEventsOnLogout",value:function(){var e=this.host.retryBeacon
if(e&&e.shouldRetry)return e.shouldRetry=!1,e.database.clearQueue().catch((function(e){Sc("retry:logout",e)}))}},{key:"sendPayload",value:function(e,n,t,r){var i,a=this.getRetryTreatment()
ws()&&"control"!==a&&null!==(i=this.host.retryBeacon)&&void 0!==i&&i.shouldRetry?this.sendPayloadWithRetry(e,n,t):this.sendPayloadFireForget(e,n,t,r)}},{key:"sendPayloadWithRetry",value:function(e,n,t){(!Array.isArray(n)||n.length>0)&&this.host.retryBeacon.beacon(e,JSON.stringify(n),t).catch((function(e){Sc("retry:beacon",e)}))}},{key:"sendPayloadFireForget",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;(!Array.isArray(n)||n.length>0)&&(Ec()?function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}
if("undefined"!=typeof window&&void 0!==window.XMLHttpRequest){var r=new XMLHttpRequest
if(r.open("POST",e,!0),r.withCredentials=!0,t.headers)for(var i=0,a=Object.keys(t.headers);i<a.length;i++){var o=a[i]
r.setRequestHeader(o,t.headers[o])}r.send(n)}}(e,JSON.stringify(n),{headers:t}):Ps(e,JSON.stringify(n),t,this.shouldCompressPayload()).then((function(e){null==r||r.onResult(e,n)}),(function(){})))}},{key:"getRetryTreatment",value:function(){var e,n,t
if(!this.host.retryConfig)return"control"
var r=this.host.retryConfig.lixKey
return r?null!==(e=null===(n=(t=this.host).__getLixTreatment)||void 0===n?void 0:n.call(t,r))&&void 0!==e?e:"control":"enabled"}},{key:"shouldCompressPayload",value:function(){return!0!==this.host.disableCompression}},{key:"isBrowserPersistentRetryEnabled",value:function(){var e,n
return"control"!==this.getRetryTreatment()&&null!==(e=null===(n=this.host.retryBeacon)||void 0===n?void 0:n.shouldRetry)&&void 0!==e&&e&&Cc()&&"undefined"!=typeof globalThis&&!!globalThis.indexedDB}}]),e}(),kc="undefined"!=typeof window&&"undefined"!=typeof document,Ic=/JSESSIONID="?([^";]+)"?/,Rc="",wc=0
function xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.cacheLifeSpan,t=void 0===n?1e4:n,r=e.regex,i=void 0===r?Ic:r
if(!Rc||Date.now()-wc>t){var a=kc&&document.cookie.match(i)
Rc=a&&a[1]||"",wc=Date.now()}return Rc}var Mc=function(){function e(n){Co(this,e),Io(this,"networkTransporter",void 0),Io(this,"inactive",void 0),Io(this,"mpName",void 0),Io(this,"endpoint",void 0),Io(this,"debug",void 0),this.networkTransporter=new Ac(n),this.mpName=n.appId,this.inactive=n.inactive
var t=function(e){var n,t=!1
switch(e){case"https://www.linkedin.com/li/track":n=Nc
break
case"https://www.linkedin-ei.com/li/track/validate":default:t=!0,n=Oc
break
case"https://www.linkedin-ei.com/li/track":n=Oc}return{endpoint:n,debug:t}}(n.endpoint)
this.endpoint=t.endpoint,this.debug=t.debug}return ko(e,[{key:"fireFragment",value:function(e){var n
if(!this.inactive){var t={"content-type":"application/json; charset=UTF-8","x-li-track":JSON.stringify({mpName:this.mpName}),"csrf-token":xc(),"x-restli-protocol-version":"2.0.0"},r=[],i=null!==(n=null==e?void 0:e.stats)&&void 0!==n?n:{},a=i.failures,o=i.previousInstanceEventStats.reduce((function(e,n){return e.push.apply(e,To(n.failures)),e}),[]);[].concat(To(a),To(o)).forEach((function(e){var n=e.reason,t=e.rawError,i=e.eventTopic,a=e.header,o=e.requestHeader
r.push({reason:n,rawError:t,failedTopicName:i,header:a,requestHeader:o})}))
var s={clientTrackingFailures:r,debug:this.debug}
this.networkTransporter.sendPayload(this.endpoint,s,t)}}}]),e}(),Oc="https://www.linkedin-ei.com/trackingMonitoring/?action=reportClientFailures",Nc="https://www.linkedin.com/trackingMonitoring/?action=reportClientFailures"
function Pc(e){return"string"==typeof e}function Uc(e){return Pc(e)?e:e.topicName||e.eventName}function Dc(e){return Pc(e)?e:e.eventName}var Lc,Fc,Bc=function(){function e(n){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
Co(this,e),Io(this,"host",void 0),Io(this,"cmoTransporter",void 0),Io(this,"clientMonitoringInstanceId",pc()),Io(this,"currentContext",{pageKey:"unknown",pageInstance:mc("unknown")}),Io(this,"appState",{}),Io(this,"estimatedFragmentSize",0),Io(this,"fragmentSizeLimit",void 0),Io(this,"activeFragmentEvent",void 0),Io(this,"debounceTimer",void 0),this.host=n,this.cmoTransporter=r.cmoTransporter||new Mc(n),this.fragmentSizeLimit=(null===(t=n.clientMonitoringConfig)||void 0===t?void 0:t.fragmentSizeLimit)||10240,this.activeFragmentEvent=qc(this.clientMonitoringInstanceId,0,0,!1,this.getEventHeaders())}return ko(e,[{key:"getCurrentInstanceId",value:function(){return this.clientMonitoringInstanceId}},{key:"scheduleDebouncedFiring",value:function(){var e,n,t=this
void 0!==this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=void 0),this.fragmentIsFull()&&this.fireFragmentEventIfFull(!0),this.debounceTimer=setTimeout((function(){t.fireFragmentEventIfFull()}),null!==(e=null===(n=this.host.batching)||void 0===n?void 0:n.debounceTime)&&void 0!==e?e:1)}},{key:"logEventGenerated",value:function(e){this.scheduleDebouncedFiring()
var n=this.activeFragmentEvent.stats,t=this.activeFragmentEvent.firstEventNumber+n.eventsGenerated
return n.eventTopics.push(e),n.eventsGenerated++,this.estimatedFragmentSize+=e.length,t}},{key:"logEventReadyToSend",value:function(e){this.activeFragmentEvent.stats.eventsReadyToSend+=e}},{key:"logEventSent",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId()
n===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.eventsSent+=e:this.findPreviousInstanceStat(n,(function(n){n.eventsSent+=e}))}},{key:"logNetworkResponseCode",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId(),t=this.activeFragmentEvent.stats.networkResponseStats
n!==this.getCurrentInstanceId()&&this.findPreviousInstanceStat(n,(function(e){t=e.networkResponseStats})),e>=200&&e<300?t.eventsWith2XXResponse++:400===e?t.eventsWith400Response++:408===e?t.eventsWith408Response++:429===e?t.eventsWith429Response++:e>400&&e<500?t.eventsWith4XXResponse++:500===e?t.eventsWith500Response++:502===e?t.eventsWith502Response++:503===e?t.eventsWith503Response++:504===e?t.eventsWith504Response++:e>500&&e<600&&t.eventsWith5XXResponse++}},{key:"findPreviousInstanceStat",value:function(e,n){var t,r=bo(this.activeFragmentEvent.stats.previousInstanceEventStats)
try{for(r.s();!(t=r.n()).done;){var i=t.value
if(i.instanceId===e)return void n(i)}}catch(e){r.e(e)}finally{r.f()}var a=this.getEventHeaders(),o=a.header,s=a.requestHeader,c={header:Object.assign(o,{memberId:-1}),requestHeader:s,instanceId:e,eventsSent:0,eventTopics:[],networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},failures:[]}
n(c),this.activeFragmentEvent.stats.previousInstanceEventStats.push(c)}},{key:"logFailedEvent",value:function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getCurrentInstanceId(),a=this.getEventHeaders(),o=a.header,s=a.requestHeader,c={header:Object.assign(o,{memberId:-1}),requestHeader:s,instanceId:i,instanceEventNumber:r,reason:e,rawError:t,eventName:Dc(n),eventTopic:Uc(n)}
this.estimatedFragmentSize+=JSON.stringify(c).length,i===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.failures.push(c):this.findPreviousInstanceStat(i,(function(e){e.failures.push(c)})),this.fireFragmentEventIfFull()}},{key:"flush",value:function(){this.activeFragmentEvent.isLastFragment=!0,this.fireFragmentEventIfFull(!0)}},{key:"fragmentIsFull",value:function(){return this.activeFragmentEvent.stats.eventsGenerated>=100||this.estimatedFragmentSize>=this.fragmentSizeLimit}},{key:"fireFragmentEventIfFull",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.fragmentIsFull()){this.debounceTimer=void 0
var e=this.getEventHeaders(),n=e.header,t=e.requestHeader,r=this.activeFragmentEvent
r.header=n,r.requestHeader=t,this.cmoTransporter.fireFragment(r),this.estimatedFragmentSize=0,this.activeFragmentEvent=qc(this.clientMonitoringInstanceId,r.fragmentNumber+1,r.firstEventNumber+r.stats.eventsGenerated,!1,e)}}},{key:"setCurrentContext",value:function(e){this.currentContext=e}},{key:"updateAppState",value:function(e){this.host.api.assign(this.appState,e)}},{key:"getEventHeaders",value:function(){var e=void 0
this.appState.clientApplicationInstance&&((e=this.appState.clientApplicationInstance).trackingId=Vc(e.trackingId))
var n=this.currentContext.pageInstance
return n.trackingId=Vc(n.trackingId),{requestHeader:{interfaceLocale:this.host.locale,pageKey:this.currentContext.pageKey,path:this.host.api.location.pathname+this.host.api.location.search,referer:this.host.api.document.referrer},header:{applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:e,pageInstance:n,time:Date.now(),version:this.host.appVersion,server:"",service:"",guid:pc(),memberId:0}}}}]),e}()
function jc(e){return Lc||(Lc=new Bc(e)),{getCurrentInstanceId:function(){return Lc.getCurrentInstanceId()},logEventGenerated:function(e){return Lc.logEventGenerated(e)},logEventReadyToSend:function(e){Lc.logEventReadyToSend(e)},logEventSent:function(e){Lc.logEventSent(e)},logPersistedEventSent:function(e,n){Lc.logEventSent(n,e)},logNetworkResponseCode:function(e){Lc.logNetworkResponseCode(e)},logPersistedNetworkResponseCode:function(e,n){var t
null===(t=Lc)||void 0===t||t.logNetworkResponseCode(n,e)},logFailedEvent:function(e,n,t,r){Lc.logFailedEvent(e,n,t,r)},logPersistedFailedEvent:function(e,n,t,r,i){Lc.logFailedEvent(n,t,r,i,e)},flush:function(){Lc.flush()},destroy:function(){Lc=void 0},isDestroyed:function(){return void 0===Lc},setCurrentContext:function(e){Lc.setCurrentContext(e)},updateAppState:function(e){Lc.updateAppState(e)}}}function qc(e,n,t,r,i){return{fragmentNumber:n,firstEventNumber:t,isLastFragment:r,stats:{instanceId:e,eventsGenerated:0,eventsReadyToSend:0,eventsSent:0,networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},eventTopics:[],failures:[],previousInstanceEventStats:[]},requestHeader:i.requestHeader,header:i.header}}function Vc(e){return Array.isArray(e)?lc(e):16===e.length?e:function(e){return"string"==typeof e&&!!e.match(fc)}(e)?atob(e):lc(hc(e))}!function(e){e.NONE="NONE",e.UNKNOWN_EXECUTION_ERROR="UNKNOWN_EXECUTION_ERROR",e.MISSING_REQUIRED_PROPERTIES="MISSING_REQUIRED_PROPERITES",e.STORAGE_WRITE_FAILURE="STORAGE_WRITE_FAILURE",e.RETRIES_EXCEEDED="RETRIES_EXCEEDED",e.EVENT_EVICTED_FROM_STORAGE="EVENT_EVICTED_FROM_STORAGE",e.STORAGE_UNAVAILABLE="STORAGE_UNAVAILABLE",e.SERIALIZATION_FAILURE="SERIALIZATION_FAILURE"}(Fc||(Fc={}))
var Hc,Gc,Kc,Wc=["PageViewEvent","SponsoredImpressionEvent","JobViewEvent"],zc="PageViewEvent",Qc=function(){function e(n){var t=this
Co(this,e),Io(this,"host",void 0),Io(this,"queue",void 0),Io(this,"preContextQueue",void 0),Io(this,"debounceTimer",void 0),Io(this,"unloadHandlers",void 0),Io(this,"maxQueueSize",void 0),Io(this,"flushDebounceTime",void 0),Io(this,"trackingEventListeners",[]),Io(this,"onHideHandler",(function(){t.forceFlush()})),Io(this,"networkTransporter",void 0),Io(this,"clientMonitoringConn",void 0),Io(this,"clientGlobalSequenceNumberCounter",void 0),Io(this,"clientTopicLocalSequenceNumberCountersMap",{}),Io(this,"isTimerRunning",void 0),Io(this,"enableSequenceNumberLix",void 0),this.host=n,this.queue=[],this.preContextQueue=[],this.unloadHandlers=[]
var r=n.batching
this.maxQueueSize=r&&r.maxSize||1,this.flushDebounceTime=r&&r.debounceTime||0,rc.on("internal:hide",this.onHideHandler),this.networkTransporter=new Ac(n),this.isLixEnabled("pemberly.tracking.monitoring")&&n.clientMonitoringConfig&&!n.inactive&&(this.clientMonitoringConn=jc(n)),this.enableSequenceNumberLix=this.isLixEnabled("tracking.data-loss-web.sequence-number"),this.enableSequenceNumberLix&&(this.getSequenceNumberFromIDB(),this.updateSequenceNumberOnExit(),this.isTimerRunning=!1)}return ko(e,[{key:"checkAndEnablePersistentRetry",value:function(e){var n,t=(n=this.clientMonitoringConn,{onIntermediateResult:function(e,t){var r
if(n&&!n.isDestroyed())try{if(r=JSON.parse(t),!Array.isArray(r)||0===r.length)return
e.statusCode&&n.logNetworkResponseCode(e.statusCode),!0===e.drop&&r.forEach((function(t){var r,i=t.eventInfo.eventName,a=t.eventInfo.topicName||i,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ")
n.logFailedEvent(Fc.UNKNOWN_EXECUTION_ERROR,{eventName:i,topicName:a},s,null!==(r=t.eventBody.header.clientMonitoringInstanceEventNumber)&&void 0!==r?r:-1)}))}catch(e){}},onBeforeRetry:function(e){var t
if(n&&!n.isDestroyed())try{if(t=JSON.parse(e),!Array.isArray(t)||0===t.length||!t[0].eventBody.header.clientMonitoringInstanceId)return
var r=t[0].eventBody.header.clientMonitoringInstanceId,i=t.length
n.logPersistedEventSent(r,i)}catch(e){}},onResult:function(e,t){var r
if(n)try{if(r=JSON.parse(t),!Array.isArray(r)||0===r.length||!r[0].eventBody.header.clientMonitoringInstanceId)return
var i=r[0].eventBody.header.clientMonitoringInstanceId
e.statusCode&&n.logPersistedNetworkResponseCode(i,e.statusCode),!0===e.drop&&r.forEach((function(t){var r=t.eventInfo.eventName,a=t.eventInfo.topicName||r,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ")
n.logPersistedFailedEvent(i,Fc.UNKNOWN_EXECUTION_ERROR,{eventName:r,topicName:a},s,t.eventBody.header.clientMonitoringInstanceEventNumber)}))}catch(e){}}})
this.networkTransporter.checkAndEnablePersistentRetry(e,t)}},{key:"clearPersistedEventsOnLogout",value:function(){return this.networkTransporter.clearPersistedEventsOnLogout()}},{key:"on",value:function(e){this.trackingEventListeners.push(e)}},{key:"fireEvent",value:function(e){var n=function(e){return e.meta.time=Date.now(),e}(e)
this.clientMonitoringConn&&(n.meta.clientMonitoringInstanceId=this.clientMonitoringConn.getCurrentInstanceId(),n.meta.clientMonitoringInstanceEventNumber=this.clientMonitoringConn.logEventGenerated(Uc(e.id)))
var t=this.host,r=t.api.Promise,i=t.batching
if(function(e){return!!e.meta.context}(n)){var a,o=this.prepareCompleteEnvelopeQueue(n)
null===(a=this.clientMonitoringConn)||void 0===a||a.logEventReadyToSend(1)
var s=Uc(o.id)
if(this.isLixEnabled("pemberly.tracking.generic-event-immediate-fire")&&("GenericActionEvent"===s||"GenericImpressionEvent"===s)){var c=[o]
return this.sendPayload(c),r.resolve(!0)}return this.queue.push(o),i?(this.batchFire(),r.resolve(!0)):(this.flush(!0),r.resolve(!0))}return this.preContextQueue.push(n),r.resolve(!0)}},{key:"callOnDestroy",value:function(e){this.unloadHandlers.push(e)}},{key:"destroy",value:function(){this.unloadHandlers.forEach((function(e){return e()})),this.forceFlush(),this.trackingEventListeners=[],this.clientMonitoringConn=void 0,rc.off("internal:hide",this.onHideHandler)}},{key:"forceFlush",value:function(e){var n=this
this.populatePreContextQueue({pageInstance:mc("unknown"),pageKey:"unknown"}).forEach((function(t){n.isLixEnabled("pemberly.tracking.even-batch")&&Array.isArray(e)?e.push(t):n.queue.push(t)})),this.isLixEnabled("pemberly.tracking.even-batch")&&Array.isArray(e)&&e.length>0?this.sendPayload(e):this.flush(!0)}},{key:"isLixEnabled",value:function(e){var n,t
return"enabled"===(null===(n=(t=this.host).__getLixTreatment)||void 0===n?void 0:n.call(t,e))}},{key:"getSequenceNumberFromIDB",value:function(){var e=this
_c("read").then((function(n){var t
e.clientGlobalSequenceNumberCounter=null!==(t=null==n?void 0:n.sequenceNumber)&&void 0!==t?t:0,Wc.forEach((function(t){var r
e.clientTopicLocalSequenceNumberCountersMap[t]=null!==(r=null==n?void 0:n[t])&&void 0!==r?r:0}))})).catch((function(e){Sc("sequence-number:idb-read",e)}))}},{key:"updateSequenceNumberToIDB",value:function(){_c("update",this.clientGlobalSequenceNumberCounter,this.clientTopicLocalSequenceNumberCountersMap).catch((function(e){Sc("sequence-number:idb-update",e)}))}},{key:"updateSequenceNumberOnExit",value:function(){var e=this
"undefined"!=typeof window&&"undefined"!=typeof document&&window.addEventListener("beforeunload",(function n(){e.updateSequenceNumberToIDB(),window.removeEventListener("beforeunload",n)}))}},{key:"prepareCompleteEnvelopeQueue",value:function(e){var n=this,t=e.meta.context=vc(e.meta.context,this.host.api)
return"function"==typeof e.body&&(e.body=e.body(t)),this.preContextQueue.length>0&&this.populatePreContextQueue(t).forEach((function(e){return n.queue.push(e)})),e}},{key:"envelop",value:function(e,n,t){var r=this.host,i=r.appId,a=r.api,o={eventBody:n,eventInfo:"string"==typeof e?{appId:i,eventName:e,topicName:e}:a.assign({appId:i},e)}
return t.length>0&&this.host.api.assign(o,{clientBreadcrumbs:t}),o}},{key:"getBreadcrumbs",value:function(e){return e.clientBreadcrumbs||[]}},{key:"getGenericEventBody",value:function(e){var n,t=this.host,r=t.appVersion,i=t.locale,a=t.api,o=a.location,s=a.document,c=a.assign,d=e.meta.context,u=d.pageKey,l=d.pageInstance,p=function(e){return"string"==typeof e?e===zc:e.eventName===zc}(e.id)&&(null===(n=e.body.requestHeader)||void 0===n?void 0:n.pageKey)||u,f=null
"string"!=typeof i&&null!==this.host.locale||(f=i)
var h={interfaceLocale:f,pageKey:p,path:o.pathname+o.search,referer:s.referrer,isFlushOnCloseBrowserTabEnabled:!Ec()&&(ws()||"undefined"!=typeof navigator&&"sendBeacon"in navigator),isBrowserPersistentRetryEnabled:this.networkTransporter.isBrowserPersistentRetryEnabled()},m={pageInstance:l,time:e.meta.time,version:r,server:"",service:"",guid:pc(),memberId:0}
"number"==typeof this.clientGlobalSequenceNumberCounter&&c(m,{clientGlobalSequenceNumber:this.clientGlobalSequenceNumberCounter})
var y=Uc(e.id)
if(Wc.includes(y)){var g=this.clientTopicLocalSequenceNumberCountersMap[y]
"number"==typeof g&&c(m,{clientTopicLocalSequenceNumber:g})}var v={header:c(m,e.meta.header||{}),requestHeader:c(h,e.meta.requestHeader||{})},b=e.meta.clientMonitoringInstanceId,T=e.meta.clientMonitoringInstanceEventNumber
return b&&c(v.header,{clientMonitoringInstanceId:b,clientMonitoringInstanceEventNumber:T}),c(e.body,v)}},{key:"populatePreContextQueue",value:function(e){var n,t=this.preContextQueue
return this.preContextQueue=[],null===(n=this.clientMonitoringConn)||void 0===n||n.logEventReadyToSend(t.length),t.map((function(n){return n.meta.context=e,"function"==typeof n.body&&(n.body=n.body(e)),n}))}},{key:"trigger",value:function(e,n){this.trackingEventListeners.forEach((function(t){return t(e,n)}))}},{key:"requestFlush",value:function(e,n){var t=this
e((function(){t.forceFlush(n)}),{timeout:1e4})}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,t=this.host.api.requestIdleCallback
e||!t?this.sendPayload():Array.isArray(n)&&n.length>0?this.requestFlush(t,n):this.requestFlush(t)}},{key:"batchFire",value:function(){var e=this
if(this.queue.length>this.maxQueueSize)if(this.isLixEnabled("pemberly.tracking.even-batch")){var n=this.queue
this.queue=[],this.flush(!1,n)}else this.flush()
else this.debounceTimer&&clearTimeout(this.debounceTimer),this.isLixEnabled("pemberly.tracking.even-batch")?this.debounceTimer=setTimeout((function(){return e.flush(!0)}),this.flushDebounceTime):this.debounceTimer=setTimeout((function(){return e.flush()}),this.flushDebounceTime)}},{key:"sendPayload",value:function(e){var n,t=this
if(Array.isArray(e)?n=e:(n=this.queue,this.queue=[]),0!==n.length){this.enableSequenceNumberLix&&"undefined"!=typeof window&&!1===this.isTimerRunning&&(this.isTimerRunning=!0,setInterval((function(){t.updateSequenceNumberToIDB()}),5e3))
var r,i,a=[],o=[]
n.forEach((function(e){var n=t.getGenericEventBody(e),r=t.getBreadcrumbs(e),i=t.envelop(e.id,n,r)
t.trigger(i,e.meta)
var s=i.eventInfo.eventName
if("LixTreatmentsEvent"===s||"JavaScriptErrorEvent"===s?a.push(i):o.push(i),t.enableSequenceNumberLix){"number"==typeof t.clientGlobalSequenceNumberCounter&&t.clientGlobalSequenceNumberCounter++
var c=Uc(e.id)
Wc.includes(c)&&"number"==typeof t.clientTopicLocalSequenceNumberCountersMap[c]&&t.clientTopicLocalSequenceNumberCountersMap[c]++}})),this.host.inactive||(this.clientMonitoringConn&&(this.clientMonitoringConn.logEventSent(a.length+o.length),i=this.clientMonitoringConn,r={onResult:function(e,n){i&&!i.isDestroyed()&&(e.statusCode&&i.logNetworkResponseCode(e.statusCode),!0===e.drop&&n.forEach((function(n){var t=n.eventInfo.eventName,r=n.eventInfo.topicName||t,a="rawError"in e?e.rawError:"null",o=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(a)].join(", ")
null==i||i.logFailedEvent(Fc.UNKNOWN_EXECUTION_ERROR,{eventName:t,topicName:r},o,n.eventBody.header.clientMonitoringInstanceEventNumber||-1)})))}}),this.networkTransporter.sendPayloadFireForget(this.host.endpoint,a,void 0,r),this.networkTransporter.sendPayload(this.host.endpoint,o,void 0,r))}}}]),e}(),$c=function(){function e(n,t){Co(this,e),this.clientBreadcrumbType=n,this.id=t}return ko(e,[{key:"builder",get:function(){return function(){var e={},n=new Proxy({},{get:function(t,r){return"build"===r?function(){return e}:function(t){return e[r.toString()]=t,n}}})
return n}().id(this.id).clientBreadcrumbType(this.clientBreadcrumbType)}}],[{key:"toPointer",value:function(e){return{id:e.id,type:e.clientBreadcrumbType}}}]),e}()
function Yc(e){if(!e)return{}
var n=e.trk,t=!1,r=e.licu&&decodeURIComponent(e.licu)
e.external_control&&(r="urn:li:externalControl:".concat(decodeURIComponent(e.external_control)),t=!0)
var i,a=e.lipi&&function(e){var n=decodeURIComponent(e).split(";")
if(n.length>1)return{pageUrn:n[0],trackingId:n[1]}}(e.lipi)
if(a?i={pageInstance:a,pageKey:n}:n&&(i={pageKey:n}),e.external_page&&e.external_page_instance){var o=decodeURIComponent(e.external_page)
i={pageInstance:{pageUrn:"urn:li:externalPage:".concat(o),trackingId:e.external_page_instance},pageKey:o},t=!0}var s=e.external_app&&e.external_app_instance?{applicationUrn:"urn:li:externalApplication:".concat(decodeURIComponent(e.external_app)),trackingId:e.external_app_instance,version:""}:void 0
return s&&((i=i||{}).applicationInstance=s),{fromExternalApp:t||!!s,previousApplicationInstance:s,previousContext:i,previousControlId:e.lici&&decodeURIComponent(e.lici),previousControlUrn:r}}function Xc(e){return"retryConfig"in e.host}!function(e){e.UNKNOWN="UNKNOWN",e.ME_NOTIFICATION="ME_NOTIFICATION",e.ME_NOTIFICATION_ACTION="ME_NOTIFICATION_ACTION"}(Hc||(Hc={})),ko((function e(n,t){var r,i
if(Co(this,e),Io(this,"transporter",void 0),Io(this,"delegate",void 0),Io(this,"currentContext",void 0),Io(this,"appState",void 0),Io(this,"previousAppContext",void 0),Io(this,"customTransporters",void 0),Io(this,"clientMonitoringConn",void 0),this.transporter=n,this.delegate=t,this.appState={},this.customTransporters={},t&&t.customTransporterHosts)for(var a in t.customTransporterHosts)if(Object.prototype.hasOwnProperty.call(t.customTransporterHosts,a)){var o=this.transporter.host.api.assign({},this.transporter.host)
this.customTransporters[a]=new Qc(this.transporter.host.api.assign(o,t.customTransporterHosts[a]))}"enabled"===(null===(r=(i=n.host).__getLixTreatment)||void 0===r?void 0:r.call(i,"pemberly.tracking.monitoring"))&&n.host.clientMonitoringConfig&&!n.host.inactive&&"location"in n.host.api&&(this.clientMonitoringConn=jc(n.host))}),[{key:"host",get:function(){return this.transporter.host}},{key:"checkAndEnablePersistentRetry",value:function(){Xc(this.transporter)&&this.transporter.checkAndEnablePersistentRetry(this.delegate)}},{key:"flushAndClearPersistedEventsOnLogout",value:function(){this.forceFlush()
var e=Xc(this.transporter)?this.transporter.clearPersistedEventsOnLogout():null
return null!=e?e:this.host.api.Promise.resolve()}},{key:"getCurrentContext",value:function(){if(this.currentContext)return vc(this.currentContext,this.host.api)}},{key:"navigate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.navMetaFromSeed(e,Yc(n))
if(this.setCurrentContext(r.to),!t.suppressEventsFiring)return this.fireNavEvents(r)}},{key:"setCurrentContext",value:function(e){var n
this.currentContext=vc(e,this.host.api),null===(n=this.clientMonitoringConn)||void 0===n||n.setCurrentContext(vc(e,this.host.api))}},{key:"updateAppState",value:function(e){var n
this.host.api.assign(this.appState,e),null===(n=this.clientMonitoringConn)||void 0===n||n.updateAppState(e)}},{key:"fireCIE",value:function(e,n,t,r,i){return this.fireEvent("ControlInteractionEvent",(function(t){var a=yc(t.pageKey,e),o={controlTrackingId:r,controlUrn:a,interactionType:n}
return i&&i(a),o}),{context:t})}},{key:"fireEvent",value:function(e,n,t,r){if(!n){var i=Uc(e),a=void 0===n?"undefined":null===n?"null":So(n),o='Firing tracking event "'.concat(i,'" with invalid body, you fired "').concat(a,'"')
if(this.clientMonitoringConn){var s=this.clientMonitoringConn.logEventGenerated(i)
this.clientMonitoringConn.logFailedEvent(Fc.MISSING_REQUIRED_PROPERTIES,e,o,s)}throw new Error(o)}var c=r||[]
if(c.length>0){var d=c.map((function(e){return $c.toPointer(e)}))
this.host.api.assign(n,{clientBreadcrumbPointers:d})}var u=c.length>0?this.generateEnvelopeWithBreadcrumbs(e,n,t,c):this.generateEnvelope(e,n,t)
return this.fireEnvelope(u)}},{key:"generateEnvelopeWithBreadcrumbs",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this.generateEnvelope(e,n,t)
return r.length>0?this.addBreadcrumbsToEnvelope(i,r):i}},{key:"addBreadcrumbsToEnvelope",value:function(e,n){var t=n.map((function(e){var n=e
return delete n.clientBreadcrumbType,n}))
return this.host.api.assign(e,{clientBreadcrumbs:t}),e}},{key:"fireEnvelope",value:function(e){var n,t
if(null!==(n=this.delegate)&&void 0!==n&&null!==(t=n.shouldAnonymizeMemberId)&&void 0!==t&&t.call(n))if(Pc(e.id)){var r=e.id
e.id={eventName:r,topicName:r,shouldAnonymizeMemberId:!0}}else e.id.shouldAnonymizeMemberId=!0
var i=this.delegate&&this.delegate.preTransporter?this.delegate.preTransporter(e):e
if(i){var a=i.meta.transporterKey,o=a?this.customTransporters[a]:this.transporter
if(!o&&a){var s=Uc(i.id),c="Could not find custom transporter: ".concat(a)
if(this.clientMonitoringConn){var d=this.clientMonitoringConn.logEventGenerated(s)
this.clientMonitoringConn.logFailedEvent(Fc.UNKNOWN_EXECUTION_ERROR,i.id,c,d)}throw new Error(c)}return o.fireEvent(i)}return this.host.api.Promise.resolve(!0)}},{key:"generatePageInstance",value:function(e,n){return mc(e,n)}},{key:"firePVE",value:function(e,n,t){return this._firePVE(e,n,t)}},{key:"_firePVE",value:function(e,n,t){var r={pageType:"full",totalTime:0,trackingCode:this.getTrackingCode(),trackingInfo:{}},i=this.host.api.assign(r,n),a=this.generateEnvelope("PageViewEvent",i,{context:t})
return a.meta.requestHeader.pageKey=e,this.fireEnvelope(a)}},{key:"destroy",value:function(){for(var e in this.transporter.destroy(),this.customTransporters)this.customTransporters[e].destroy()
this.clientMonitoringConn&&(this.clientMonitoringConn.flush(),this.clientMonitoringConn.destroy(),this.clientMonitoringConn=void 0),rc.clear()}},{key:"forceFlush",value:function(){for(var e in this.transporter.forceFlush(),this.customTransporters)this.customTransporters[e].forceFlush()}},{key:"generateControlUrn",value:function(e,n){return yc((n||this.currentContext||{pageKey:"unknown"}).pageKey,e)}},{key:"fireRawCIE",value:function(e,n,t,r){var i={controlTrackingId:r,controlUrn:e,interactionType:n}
return{beacon:this.fireEvent("ControlInteractionEvent",i,{context:t}),controlUrn:e}}},{key:"generateNavigationEvent",value:function(e){var n=e.triggerId,t=e.triggerUrn,r=e.from
return{previousPageInstance:r&&r.pageInstance,triggerControlTrackingId:n,triggerControlUrn:t}}},{key:"getTrackingCode",value:function(){return this.previousAppContext&&this.previousAppContext.pageKey}},{key:"navMetaFromSeed",value:function(e,n){var t="NavigationEvent"
this.previousAppContext=n.previousContext
var r=n.fromExternalApp?{eventName:t,topicName:"InboundNavigationEvent"}:t
return{from:n.previousContext,navEventId:r,to:{applicationInstance:n.applicationInstance,pageInstance:this.generatePageInstance(e,n.pageTrackingId),pageKey:e},triggerId:n.previousControlId,triggerUrn:n.previousControlUrn}}},{key:"fireNavEvents",value:function(e){var n=this.generateNavigationEvent(e),t=e.to,r=e.from,i=e.navEventId,a=this.generateEnvelope(i,n)
a.meta.requestHeader.pageKey=t.pageKey
var o=r&&r.applicationInstance
return o&&(a.meta.header.clientApplicationInstance=o),this.host.api.Promise.all([this._firePVE(t.pageKey),this.fireEnvelope(a)])}},{key:"generateEnvelope",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={directive:t.directive,transporterKey:t.transporterKey,context:t.context||this.currentContext&&vc(this.currentContext,this.host.api),requestHeader:this.host.api.assign({trackingCode:this.getTrackingCode()},t.requestHeader||{}),header:this.host.api.assign({applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:this.appState.clientApplicationInstance},t.header||{})}
return{body:"function"==typeof n?n:function(){return n},id:e,meta:r}}}]),ko((function e(n,t){var r,i=this
Co(this,e),Io(this,"core",void 0),Io(this,"protocol",void 0),Io(this,"throttleKeySet",new Set),Io(this,"config",void 0),Io(this,"reportTransporterError",(function(e){e.reason instanceof Error||(e.reason=new Error(e.reason||"An error occurred in the transporter")),i.reportError(e.reason,e.tags.concat(["info"])).catch((function(){}))})),this.core=n
var a=this.core.host.api.location.protocol
this.protocol=a.substring(0,a.length-1),this.config={throttleTime:null!==(r=null==t?void 0:t.throttleTime)&&void 0!==r?r:100},rc.on("internal:error",this.reportTransporterError)}),[{key:"reportError",value:function(e){var n,t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.callTreeId,o=void 0===a?"":a,s=i.responseHeaders,c=void 0===s?{}:s,d=e.message,u=e.name,l=e.stack,p=void 0===l?"":l,f=e.fileName,h=void 0===f?"":f,m=e.lineNumber,y=void 0===m?0:m,g=e.columnNumber,v=void 0===g?0:g,b=this.core.host,T=b.appId,_=b.appVersion,E=b.service,S=b.serviceInstance,C=b.treeID,A=void 0===C?"":C,k=b.api,I=k.Promise,R=k.location,w=R.host,x=R.pathname,M=R.search,O=R.hash,N=void 0===O?"":O
if(c){n={}
var P=new Map
Object.keys(c).forEach((function(e){P.set(e.toLowerCase(),c[e])})),n.callTreeId=P.get("x-li-uuid"),n.microsoftEdgeReference=P.get("x-msedge-ref"),n.pointOfPresenceId=P.get("x-li-pop"),n.fabric=P.get("x-li-fabric")}var U=function(){return t.core.fireEvent("JavaScriptErrorEvent",(function(e){return{appId:T,e:{c:v,l:y,m:d,s:p,t:u,u:h},h:N,l:t.protocol,o:w,p:x,pageKey:e.pageKey,q:M,service:E,serviceInstance:S,serviceVersion:_,t:r,trackingID:e.pageInstance.trackingId,treeID:A,callTreeId:o,responseTraceHeaders:n}}))}
if(this.config.throttleTime<0)return U()
var D=function(e){return e.split("").reduce((function(e,n){return(e<<5)-e+n.charCodeAt(0)|0}),0)}(u+d+p+r.join("")+o)
return this.throttleKeySet.has(D)?I.resolve(!1):(this.throttleKeySet.add(D),setTimeout((function(){return t.throttleKeySet.delete(D)}),this.config.throttleTime),U())}},{key:"flush",value:function(){this.core.forceFlush()}},{key:"destroy",value:function(){this.core.destroy(),rc.off("internal:error",this.reportTransporterError)}}]),function(e){e.RealUserMonitoringEvent="RealUserMonitoringEvent",e.FeaturePerformanceMeasurementEvent="FeaturePerformanceMeasurementEvent",e.ClientPerfMetricsEvent="ClientPerfMetricsEvent",e.WEB_UI_FRAMEWORK="web-ui-framework",e.APP_ID="app-id",e.APP_VERSION="app-version",e.IS_SINGLE_PAGE_APP="is-single-page-app",e.IS_APP_RENDER_FAILED="is-app-render-failed",e.APP_RENDER_MODE="app-render-mode",e.USER_TIMING_MARK_ENABLED="user-timing-mark-enabled",e.USER_TIMING_MEASURE_ENABLED="user-timing-measure-enabled",e.BEACON_SOURCE="beacon-source",e.BEACON_TIMEOUT="beacon-timeout",e.ENABLE_RS_TIMING="enable-rs-timing",e.ENABLE_CDN_TRACKING="enable-cdn-tracking",e.ASYNC_PLUGINS_TIMEOUT="async-plugins-timeout",e.ENABLE_MEMORY_MEASUREMENT="enable-memory-measurement",e.PAGE_KEY_PREFIX="pageKeyPrefix"}(Gc||(Gc={})),function(e){e.PageLoadStartEvent="PageLoadStartEvent",e.PageLoadEndEvent="PageLoadEndEvent",e.ResourceLoadEvent="ResourceLoadEvent",e.CustomMeasureEvent="CustomMeasureEvent",e.ViewLoadEvent="ViewLoadEvent"}(Kc||(Kc={}))
var Jc,Zc,ed,nd,td,rd,id=(Io(fo={},"web-ui-framework","EMBER"),Io(fo,"app-id","linkedin.rum.tracking"),Io(fo,"app-version","unknown"),Io(fo,"is-single-page-app",!0),Io(fo,"user-timing-mark-enabled",!1),Io(fo,"user-timing-measure-enabled",!0),Io(fo,"beacon-source","apps"),Io(fo,"enable-rs-timing",!0),Io(fo,"enable-cdn-tracking",!1),Io(fo,"async-plugins-timeout",5e3),Io(fo,"beacon-timeout",3e4),Io(fo,"enable-memory-measurement",!1),Io(fo,"pageKeyPrefix",""),fo),ad=["loadEventEnd","loadEventStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","responseEnd","responseStart","requestStart","secureConnectionStart","connectEnd","connectStart","domainLookupEnd","domainLookupStart","fetchStart","redirectEnd","redirectStart","unloadEventEnd","unloadEventStart","navigationStart"],od={redirectStart:"REDIRECT_START",redirectEnd:"REDIRECT_END",fetchStart:"FETCH_START",domainLookupStart:"DOMAIN_LOOKUP_START",domainLookupEnd:"DOMAIN_LOOKUP_END",connectStart:"CONNECT_START",connectEnd:"CONNECT_END",secureConnectionStart:"SECURE_CONNECTION_START",requestStart:"REQUEST_START",responseStart:"RESPONSE_START",responseEnd:"RESPONSE_END",workerStart:"WORKER_START"},sd={"http/0.9":"HTTP0_9","http/1.0":"HTTP1_0","http/1.1":"HTTP1_1",h2:"HTTP2"},cd="rum token passed is invalid",dd=function(){function e(){Co(this,e),Io(this,"userTimingEntries",[]),Io(this,"longTasks",[]),Io(this,"resourceTimingEntries",[]),Io(this,"cdnData",void 0)}return ko(e,[{key:"reset",value:function(){this.userTimingEntries=[],this.longTasks=[],this.resourceTimingEntries=[]}},{key:"attachTreeIds",value:function(e){this.resourceTimingEntries.forEach((function(n){var t=e.get(n.name)
t&&(n.resourceTreeId=t)}))}},{key:"getData",value:function(){return{userTimingEntries:this.userTimingEntries,longTasks:this.longTasks,resourceTimingEntries:this.resourceTimingEntries.map(ld),cdnData:this.cdnData}}}]),e}(),ud=["resourceTreeId","name","entryType","startTime","duration","initiatorType","nextHopProtocol","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize","workerStart"]
function ld(e){return ud.reduce((function(n,t){var r=e[t]
return void 0!==r&&(n[t]=r),n}),{})}function pd(e,n,t){for(var r=null,i=[],a=e,o=0,s=function(){var e=bd(function(e){var n=e.getAttribute("id")
return n&&td.idName(n)?{name:"#"+xd(n,{isIdentifier:!0}),penalty:0}:null}(a))||bd.apply(void 0,To(function(e){return Array.from(e.attributes).filter((function(e){return td.attr(e.name,e.value)})).map((function(e){return{name:"["+xd(e.name,{isIdentifier:!0})+'="'+xd(e.value)+'"]',penalty:.5}}))}(a)))||bd.apply(void 0,To(function(e){return Array.from(e.classList).filter(td.className).map((function(e){return{name:"."+xd(e,{isIdentifier:!0}),penalty:1}}))}(a)))||bd(function(e){var n=e.tagName.toLowerCase()
return td.tagName(n)?{name:n,penalty:2}:null}(a))||[{name:"*",penalty:3}],s=function(e){var n=e.parentNode
if(!n)return null
var t=n.firstChild
if(!t)return null
for(var r=0;t&&(t.nodeType===Node.ELEMENT_NODE&&r++,t!==e);)t=t.nextSibling
return r}(a)
if(n===nd.All)s&&(e=e.concat(e.filter(vd).map((function(e){return gd(e,s)}))))
else if(n===nd.Two)e=e.slice(0,1),s&&(e=e.concat(e.filter(vd).map((function(e){return gd(e,s)}))))
else if(n===nd.One){var c=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=t){var r,i,a=[],o=!0,s=!1
try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),1!==a.length);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e)||_o(e,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e=e.slice(0,1))[0]
s&&vd(c)&&(e=[gd(c,s)])}var d,u=bo(e)
try{for(u.s();!(d=u.n()).done;)d.value.level=o}catch(e){u.e(e)}finally{u.f()}if(i.push(e),i.length>=td.seedMinLength&&(r=fd(i,t)))return"break"
a=a.parentElement,o++};a&&a!==td.root.parentElement&&"break"!==s(););return r||(r=fd(i,t)),r}function fd(e,n){var t=Ed(_d(e))
if(t.length>td.threshold)return n?n():null
var r,i=bo(t)
try{for(i.s();!(r=i.n()).done;){var a=r.value
if(yd(a))return a}}catch(e){i.e(e)}finally{i.f()}return null}function hd(e){for(var n=e[0],t=n.name,r=1;r<e.length;r++){var i=e[r].level||0
t=n.level===i-1?"".concat(e[r].name," > ").concat(t):"".concat(e[r].name," ").concat(t),n=e[r]}return t}function md(e){return e.map((function(e){return e.penalty})).reduce((function(e,n){return e+n}),0)}function yd(e){switch(rd.querySelectorAll(hd(e)).length){case 0:throw new Error("Can't select any node with this selector: ".concat(hd(e)))
case 1:return!0
default:return!1}}function gd(e,n){return{name:e.name+":nth-child(".concat(n,")"),penalty:e.penalty+1}}function vd(e){return"html"!==e.name&&!e.name.startsWith("#")}function bd(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
var r=n.filter(Td)
return r.length>0?r:null}function Td(e){return null!=e}function _d(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
if(e.length>0){var t,r=[],i=bo(e[0])
try{for(i.s();!(t=i.n()).done;){var a=t.value
r=r.concat(_d(e.slice(1,e.length),n.concat(a)))}}catch(e){i.e(e)}finally{i.f()}return r}return[n]}function Ed(e){return Array.from(e).sort((function(e,n){return md(e)-md(n)}))}function Sd(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{counter:0,visited:new Map},r=[]
if(e.length>2&&e.length>td.optimizedMinLength)for(var i=1;i<e.length-1;i++){if(t.counter>td.maxNumberOfTries)return r
t.counter+=1
var a=To(e)
a.splice(i,1)
var o=hd(a)
if(t.visited.has(o))return r
yd(a)&&Cd(a,n)&&(r.push(a),t.visited.set(o,!0),r=r.concat(Sd(a,n,t)))}return r}function Cd(e,n){return rd.querySelector(hd(e))===n}!function(e){e.HTTP0_9="HTTP0_9",e.HTTP1_0="HTTP1_0",e.HTTP1_1="HTTP1_1",e.HTTP2="HTTP2",e.UNKNOWN="UNKNOWN"}(Jc||(Jc={})),function(e){e.REDIRECT_START="REDIRECT_START",e.REDIRECT_END="REDIRECT_END",e.FETCH_START="FETCH_START",e.DOMAIN_LOOKUP_START="DOMAIN_LOOKUP_START",e.DOMAIN_LOOKUP_END="DOMAIN_LOOKUP_END",e.CONNECT_START="CONNECT_START",e.CONNECT_END="CONNECT_END",e.SECURE_CONNECTION_START="SECURE_CONNECTION_START",e.REQUEST_START="REQUEST_START",e.RESPONSE_START="RESPONSE_START",e.RESPONSE_END="RESPONSE_END",e.WORKER_START="WORKER_START"}(Zc||(Zc={})),function(e){e.redirectStart="redirectStart",e.redirectEnd="redirectEnd",e.fetchStart="fetchStart",e.domainLookupStart="domainLookupStart",e.domainLookupEnd="domainLookupEnd",e.connectStart="connectStart",e.connectEnd="connectEnd",e.secureConnectionStart="secureConnectionStart",e.requestStart="requestStart",e.responseStart="responseStart",e.responseEnd="responseEnd",e.workerStart="workerStart"}(ed||(ed={})),function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(nd||(nd={}))
var Ad,kd=/[ -,\.\/:-@\[-\^`\{-~]/,Id=/[ -,\.\/:-@\[\]\^`\{-~]/,Rd=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,wd={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1}
function xd(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object.assign(Object.assign({},wd),n)
"single"!=t.quotes&&"double"!=t.quotes&&(t.quotes="single")
for(var r="double"==t.quotes?'"':"'",i=t.isIdentifier,a=e.charAt(0),o="",s=0,c=e.length;s<c;){var d=e.charAt(s++),u=d.charCodeAt(0),l=void 0
if(u<32||u>126){if(u>=55296&&u<=56319&&s<c){var p=e.charCodeAt(s++)
56320==(64512&p)?u=((1023&u)<<10)+(1023&p)+65536:s--}l="\\"+u.toString(16).toUpperCase()+" "}else l=t.escapeEverything?kd.test(d)?"\\"+d:"\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(d)?"\\"+u.toString(16).toUpperCase()+" ":"\\"==d||!i&&('"'==d&&r==d||"'"==d&&r==d)||i&&Id.test(d)?"\\"+d:d
o+=l}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(a)&&(o="\\3"+a+" "+o.slice(1))),o=o.replace(Rd,(function(e,n,t){return n&&n.length%2?e:(n||"")+t})),!i&&t.wrap?r+o+r:o}function Md(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(e&&"function"==typeof e.now&&(e.timeOrigin||e.timing)){var t,r=e.now()
return t=!e.timing&&n?Math.floor(e.timeOrigin):e.timing.navigationStart,Math.round(r+t)}return Date.now()}function Od(e){var n=e||performance
return Math.round(n.now())}function Nd(e){if(!e)return"null"
if(e.nodeType===Node.ELEMENT_NODE)try{return function(e,n){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.")
if("html"===e.tagName.toLowerCase())return"html"
var t={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,n){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4}
td=Object.assign(Object.assign({},t),{idName:function(e){return 0!==e.indexOf("ember")}}),rd=function(e,n){return e.nodeType===Node.DOCUMENT_NODE?e:e===n.root?e.ownerDocument:e}(td.root,t)
var r=pd(e,nd.All,(function(){return pd(e,nd.Two,(function(){return pd(e,nd.One)}))}))
if(r){var i=Ed(Sd(r,e))
return i.length>0&&(r=i[0]),hd(r)}throw new Error("Selector was not found.")}(e)}catch(e){return"serialization_error"}var n=Nd(e.parentElement||void 0)
return"".concat(n," > nodeType(").concat(e.nodeType,")")}function Pd(e,n,t,r){var i=[]
return e&&"function"==typeof e.getEntriesByType&&(n["user-timing-measure-enabled"]&&e.getEntriesByType("measure").forEach((function(e){var n=e.name,t=e.startTime,a=e.duration
i.push({entryType:"MEASURE",name:n,startTime:t,duration:a}),null==r||r({measurementName:n,measurementType:"MEASURE",measureProgressStates:[{measureProgressName:n,timestamp:t,duration:a}]})})),n["user-timing-mark-enabled"]&&e.getEntriesByType("mark").forEach((function(e){var n=e.name,t=e.startTime,a=e.duration
i.push({entryType:"MARK",name:n,startTime:t,duration:a}),null==r||r({measurementName:n,measurementType:"MARK",measureProgressStates:[{measureProgressName:n,timestamp:t}]})})),t&&(e.clearMeasures(),e.clearMarks())),i}function Ud(e){var n=[]
return e.forEach((function(e){return n.push(e)})),n}var Dd=function(){function e(n){Co(this,e),Io(this,"hostApis",void 0),Io(this,"hostnameProperties",void 0),Io(this,"usedHostnames",void 0),Io(this,"abortController",void 0),Io(this,"pendingPromises",void 0),this.hostApis=n
var t=n.AbortController
this.hostnameProperties={},this.usedHostnames=new Set,this.abortController=new t,this.pendingPromises=new Set}return ko(e,[{key:"clearUsedHostnames",value:function(){this.usedHostnames=new Set}},{key:"getPresentData",value:function(){var e=this
return Tc(this.usedHostnames).map((function(n){return e.hostnameProperties[n]||{hostname:n,provider:"",ipVersion:"",httpVersion:""}}))}},{key:"getDataWhenReady",value:function(e){var n=this,t=this.hostApis,r=t.AbortController,i=t.Promise,a=bc(Tc(this.pendingPromises),i),o=setTimeout((function(){n.abortController.abort(),n.abortController=new r}),e)
return a.then((function(){return clearTimeout(o),n.getPresentData()}))}},{key:"inspectEntryForCdnData",value:function(e){var n=this
if(!(e.name.indexOf(".licdn.")<0)){var t,r,i=this.hostApis.assign,a=(t=e.name,r=this.hostApis.document,(Ad=Ad||r.createElement("a")).href=t,Ad.hostname)
if(this.usedHostnames.add(a),!this.hostnameProperties[a]&&!this.isResourcePossiblyFromCache(e)){var o=this.fetchCdnFromUrl(e.name).then((function(e){var t=i({hostname:a},e)
return n.hostnameProperties[a]||(n.hostnameProperties[a]=t),n.pendingPromises.delete(o),t}))
this.pendingPromises.add(o)}}}},{key:"fetchCdnFromUrl",value:function(e){return(0,this.hostApis.fetch)(e,{method:"HEAD",signal:this.abortController.signal}).then((function(e){return{provider:e.headers.get("X-CDN")||"",ipVersion:e.headers.get("X-CDN-CLIENT-IP-VERSION")||"",httpVersion:e.headers.get("X-CDN-Proto")||""}}))}},{key:"isResourcePossiblyFromCache",value:function(e){return void 0!==e.transferSize?0===e.transferSize:e.domainLookupStart===e.domainLookupEnd&&e.connectEnd===e.connectStart&&0===e.secureConnectionStart}}]),e}(),Ld=function(){function e(n,t,r,i,a,o,s){Co(this,e),Io(this,"hostApis",void 0),Io(this,"statics",void 0),Io(this,"options",void 0),Io(this,"allowTimingOrigin",void 0),Io(this,"fireCustomMeasureEvent",void 0),Io(this,"fireResourceLoadEvent",void 0),Io(this,"isTracerLixEnabled",void 0),Io(this,"collectResourceTimings",void 0),Io(this,"collectCdnData",void 0),Io(this,"perfObserver",void 0),Io(this,"renderTimings",new Map),Io(this,"urlToTreeId",new Map),Io(this,"cdnDataProvider",void 0),Io(this,"observables",new dd),this.hostApis=n,this.statics=t,this.options=r,this.allowTimingOrigin=i,this.fireCustomMeasureEvent=a,this.fireResourceLoadEvent=o,this.isTracerLixEnabled=s,this.collectResourceTimings=r["enable-rs-timing"],this.collectCdnData=r["enable-cdn-tracking"],this.collectCdnData&&(this.cdnDataProvider=new Dd(n))}return ko(e,[{key:"recordTreeId",value:function(e,n){this.collectResourceTimings&&this.urlToTreeId.set(function(e,n){return(Ad=Ad||n.createElement("a")).href=e,Ad.href}(n,this.hostApis.document),e)}},{key:"recordRenderStart",value:function(e,n){this.renderTimings.has(e)||this.renderTimings.set(e,{renderName:n,viewId:e,renderStart:Md(this.hostApis.performance,this.allowTimingOrigin)})}},{key:"recordRenderEnd",value:function(e,n,t){var r=this.renderTimings.get(e)
if(r&&(r.renderEnd=r.renderEnd||Md(this.hostApis.performance,this.allowTimingOrigin),n))return t?this.collectViewLoadEventData(r,t):void Sc("ViewLoadEvent","pageLoadId does not exist")}},{key:"collectViewLoadEventData",value:function(e,n){var t=e.renderName,r=e.renderEnd,i=void 0===r?-1:r,a=e.renderStart,o=void 0===a?-1:a,s=[]
return s.push({viewProgressType:"RENDER_START",timestamp:o}),s.push({viewProgressType:"RENDER_END",timestamp:i}),{parentPageLoadId:n,viewHierarchy:[t],viewProgressStates:s}}},{key:"startObserving",value:function(){var e=this.hostApis,n=e.PerformanceObserver,t=e.performance
this.stopObserving(),n?this.setupPerformanceObserver(n,t.timeOrigin):this.collectResourceTimings&&this.emulateResourceTimingObserver(t),this.collectResourceTimings&&this.processNewResourceTimings()}},{key:"stopObserving",value:function(){var e
null===(e=this.perfObserver)||void 0===e||e.disconnect(),this.reset()}},{key:"collect",value:function(e){var n=this,t=e.isInitial,r=e.immediate,i=this.collectSynchronousData(t)
if(r)return i
var a=this.collectAsynchronousData()
return"then"in a?a.then((function(e){return(0,n.hostApis.assign)(i,e),i})):i}},{key:"collectPageLoadStartData",value:function(e){var n=e.isInitial,t=e.rumKey,r=Object.create(null)
r.pageKey=t,r.pageLoadType=n?"INITIAL_LOAD":"SUBSEQUENT_LOAD",r.networkInformationMetrics=this.snapshot.networkInformationMetrics
var i=this.statics,a=i.webUIFramework,o=i.timeSource,s=i.isSinglePageApp,c=i.appRenderMode,d=i.isAppRenderFailed,u=i.isFromServiceWorker,l=i.treeId
return r.treeId=l,r.browserPageLoadStartContext={webUIFramework:a,timeSource:o,isSinglePageApp:s,appRenderMode:c,isAppRenderFailed:d,isFromServiceWorker:u},r}},{key:"collectPageLoadEndData",value:function(e){var n=Object.create(null),t=Object.create(null)
n.cdnData=[],n.browserPageLoadEndContext={},n.navigationTiming=Object.create(null)
var r=e.isInitial,i=e.immediate,a=this.hostApis.assign
if(r){var o=Bd(this.hostApis.performance),s=o.htmlMetrics,c=o.redirectCount,d=o.navigationType,u=o.workerStart
s&&(n.browserPageLoadEndContext.htmlMetrics=Object.create(null),a(n.browserPageLoadEndContext.htmlMetrics,s)),Object.prototype.hasOwnProperty.call(o,"redirectCount")&&(t.redirectCount=c),Object.prototype.hasOwnProperty.call(o,"navigationType")&&(t.navigationType=d),t.workerStart=null!=u?u:0,ad.forEach((function(e){Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})),a(n.navigationTiming,t)}if(!i){var l=this.collectAsynchronousData()
if("then"in l)return l.then((function(e){return a(n.cdnData,e.cdnData),n}))}var p=this.collectAsynchronousData(!0)
return a(n.cdnData,p.cdnData),n}},{key:"collectResourceLoadEvent",value:function(e,n){var t=e.name,r=e.transferSize,i=e.initiatorType,a=e.nextHopProtocol,o=e.encodedBodySize,s=e.decodedBodySize,c={}
c.resourceKey=t,c.isNetwork=!!r&&0!==r,c.loadType=i||"unknown",c.timeOrigin=n
var d={},u=this.urlToTreeId.get(t)
u&&(d.resourceTreeId=u)
var l=sd[a]
d.nextHopProtocol=null!=l?l:"UNKNOWN",d.transferSize=r,d.encodedBodySize=o,d.decodedBodySize=s,c.resourceNetworkContext=d
var p=[]
return Object.keys(od).forEach((function(n){var t
n in ed&&void 0!==e[n]&&p.push({resourceProgressType:od[n],duration:null!==(t=e[n])&&void 0!==t?t:-1})})),c.resourceProgressStates=p,c}},{key:"reset",value:function(){var e
this.observables.reset(),null===(e=this.cdnDataProvider)||void 0===e||e.clearUsedHostnames()}},{key:"collectSynchronousData",value:function(e){var n=this.hostApis,t=n.assign,r=n.PerformanceObserver,i=Object.create(null)
return this.statics.pageLoadMode=e?"INITIAL":"PARTIAL",r||(this.observables.userTimingEntries=Pd(this.hostApis.performance,this.options,!0,this.fireCustomMeasureEvent),this.collectResourceTimings&&this.processNewResourceTimings()),this.observables.attachTreeIds(this.urlToTreeId),this.urlToTreeId.clear(),t(i,this.observables.getData(),this.snapshot,this.statics),e&&t(i,Bd(this.hostApis.performance)),t(i,this.collectAsynchronousData(!0)),i}},{key:"collectAsynchronousData",value:function(e){var n=this,t={cdnData:[],usedCDN:this.extractUsedCDN([])}
if(e){if(this.collectCdnData){var r=this.cdnDataProvider.getPresentData()
t.cdnData=r,t.usedCDN=this.extractUsedCDN(r)}return t}var i=[]
return this.collectCdnData&&i.push(this.cdnDataProvider.getDataWhenReady(this.options["async-plugins-timeout"]).then((function(e){t.cdnData=e,t.usedCDN=n.extractUsedCDN(e)}))),i.length>0?bc(i,Promise).then((function(){return t})):t}},{key:"setupPerformanceObserver",value:function(e,n){var t=this
this.perfObserver=new e((function(e){e.getEntries().forEach((function(e){var r=e.entryType,i=e.name,a=e.startTime,o=e.duration
"resource"===r?t.processSingleResourceTiming(e,n):"mark"===r?(t.observables.userTimingEntries.push({entryType:"MARK",name:i,startTime:a,duration:o}),t.fireCustomMeasureEvent({measurementName:i,measurementType:"MARK",measureProgressStates:[{measureProgressName:i,timestamp:a}]})):"measure"===r?(t.observables.userTimingEntries.push({entryType:"MEASURE",name:i,startTime:a,duration:o}),t.fireCustomMeasureEvent({measurementName:i,measurementType:"MEASURE",measureProgressStates:[{measureProgressName:i,timestamp:a,duration:o}]})):"longtask"===r&&(t.observables.longTasks.push({duration:o,name:i,startTime:a}),t.fireCustomMeasureEvent({measurementName:i,measurementType:"LONG_TASK",measureProgressStates:[{measureProgressName:i,timestamp:a,duration:o}]}))}))})),this.observables.userTimingEntries=Pd(this.hostApis.performance,this.options,!1,this.fireCustomMeasureEvent)
var r=["longtask"];(this.collectResourceTimings||this.collectCdnData)&&r.push("resource"),this.options["user-timing-mark-enabled"]&&r.push("mark"),this.options["user-timing-measure-enabled"]&&r.push("measure"),this.perfObserver.observe({entryTypes:r})}},{key:"emulateResourceTimingObserver",value:function(e){var n=this
e&&"function"==typeof e.setResourceTimingBufferSize&&"function"==typeof e.onresourcetimingbufferfull&&(e.setResourceTimingBufferSize(100),e.onresourcetimingbufferfull=function(){return n.processNewResourceTimings()})}},{key:"processNewResourceTimings",value:function(){var e=this,n=this.hostApis.performance
"function"==typeof n.getEntriesByType&&"function"==typeof n.clearResourceTimings&&(n.getEntriesByType("resource").forEach((function(t){return e.processSingleResourceTiming(t,n.timeOrigin)})),n.clearResourceTimings())}},{key:"processSingleResourceTiming",value:function(e,n){if(this.collectResourceTimings){this.observables.resourceTimingEntries.push(e)
var t=-1!==e.name.indexOf("/li/track")
if(this.isTracerLixEnabled&&!t){var r=this.collectResourceLoadEvent(e,n)
this.fireResourceLoadEvent(r)}}this.collectCdnData&&this.cdnDataProvider.inspectEntryForCdnData(e)}},{key:"extractUsedCDN",value:function(e){var n=e.filter((function(e){return e.hostname.indexOf("static")>=0})),t=n.length>0?n[0]:{hostname:"",provider:"",httpVersion:"",ipVersion:""}
return{static_domain:t.provider,http_version:t.httpVersion,ip_version:t.ipVersion}}},{key:"snapshot",get:function(){var e={detailedRenderTimingEntries:Ud(this.renderTimings),networkInformationMetrics:Fd(this.hostApis.connection)}
return this.renderTimings.clear(),e}}]),e}()
function Fd(e){return e?{connectionType:e.type&&e.type.toUpperCase()||"UNKNOWN",effectiveType:function(e){switch(e){case"2g":return"TWO_G"
case"3g":return"THREE_G"
case"4g":return"FOUR_G"
default:return"SLOW_2G"}}(e.effectiveType),roundTripTime:e.rtt||-1,downlinkBandwidth:e.downlink||-1,downlinkMaxBandwidth:void 0===e.downlinkMax?-1:e.downlinkMax===1/0?0:e.downlinkMax}:void 0}function Bd(e){if(!e)return{navigationTimingApi:!1}
var n=Object.create({})
if("function"==typeof e.getEntriesByType){var t=e.getEntriesByType("navigation")[0]
t&&(["fetchStart","responseEnd","decodedBodySize","encodedBodySize","transferSize"].every((function(e){return"number"==typeof t[e]}))&&(n.htmlMetrics={htmlFetchStart:t.fetchStart,htmlResponseEnd:t.responseEnd,htmlDecodedBodySize:t.decodedBodySize,htmlEncodedBodySize:t.encodedBodySize,htmlTransferSize:t.transferSize}),n.workerStart=t.workerStart)}var r=e.timing,i=e.navigation
return r&&i?(n.navigationTimingApi=!0,ad.forEach((function(e){e in r&&(n[e]=r[e])})),n.navigationType=i.type,n.redirectCount=i.redirectCount):n.navigationTimingApi=!1,n}var jd=function(){function e(n,t,r){Co(this,e),Io(this,"featureName",void 0),Io(this,"trackingCore",void 0),Io(this,"rumConfig",void 0),Io(this,"observing",!1),Io(this,"basePageTreeId",void 0),Io(this,"startPageInstance",void 0),Io(this,"startMemory",void 0),Io(this,"reportTimeouts",[]),this.featureName=n,this.trackingCore=t,this.rumConfig=r}return ko(e,[{key:"startObserving",value:function(){var n,t=this,r=this.getMemory()
r&&!this.observing&&(this.basePageTreeId=this.trackingCore.host.treeID||"",this.startPageInstance=(null===(n=this.trackingCore.getCurrentContext())||void 0===n?void 0:n.pageInstance)||mc("unknown"),this.startMemory=r,this.reportTimeouts=e.checkpoints.map((function(e){return setTimeout((function(){return t.reportMemory(e)}),60*e*1e3)})))}},{key:"stopObserving",value:function(){this.reportTimeouts.forEach((function(e){return clearTimeout(e)})),this.observing=!1}},{key:"reportMemory",value:function(e){var n={name:this.featureName,basePageTreeId:this.basePageTreeId,startTime:Od(this.trackingCore.host.api.performance),duration:0,startPageInstance:this.startPageInstance,marks:this.createMemoryMarks("-".concat(e,"min")),spans:[]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"FeaturePerformanceMeasurementEvent"},n)}},{key:"createMemoryMarks",value:function(e){var n=this.getMemory(),t=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"].map((function(t){return{name:t+e,startTime:n[t]}})),r=n.usedJSHeapSize-this.startMemory.usedJSHeapSize
return t.push({name:(r<0?"usedJSHeapSizeDecrease":"usedJSHeapSizeIncrease")+e,startTime:Math.abs(r)},{name:"utilization"+e,startTime:Math.round(n.usedJSHeapSize/n.totalJSHeapSize*100)}),t}},{key:"getMemory",value:function(){return this.trackingCore.host.api.performance.memory}}]),e}()
Io(jd,"checkpoints",[1,3,10,30,90,180,300])
var qd,Vd,Hd,Gd,Kd,Wd=ko((function e(n,t,r){Co(this,e),Io(this,"webUIFramework",void 0),Io(this,"timeSource",void 0),Io(this,"isSinglePageApp",void 0),Io(this,"appRenderMode",void 0),Io(this,"isAppRenderFailed",void 0),Io(this,"pageLoadMode","INITIAL"),Io(this,"isSSL",void 0),Io(this,"treeId",void 0),Io(this,"isFromServiceWorker",void 0),this.webUIFramework=t["web-ui-framework"],this.timeSource=t["beacon-source"],this.isSinglePageApp=t["is-single-page-app"],this.appRenderMode=n["app-render-mode"],this.isAppRenderFailed=n["is-app-render-failed"],this.isSSL="https:"===r.api.location.protocol?1:0,this.treeId=r.treeID,this.isFromServiceWorker=r.isFromServiceWorker})),zd=function(e,n){return{name:e,value:void 0===n?-1:n,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},Qd=function(e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return
var t=new PerformanceObserver((function(e){return e.getEntries().map(n)}))
return t.observe({type:e,buffered:!0}),t}}catch(e){}},$d=function(e,n){var t=function t(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),n&&(removeEventListener("visibilitychange",t,!0),removeEventListener("pagehide",t,!0)))}
addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Yd=function(e){addEventListener("pageshow",(function(n){n.persisted&&e(n)}),!0)},Xd=function(e,n,t){var r
return function(i){n.value>=0&&(i||t)&&(n.delta=n.value-(r||0),(n.delta||void 0===r)&&(r=n.value,e(n)))}},Jd=-1,Zd=function(){return"hidden"===document.visibilityState?0:1/0},eu=function(){$d((function(e){var n=e.timeStamp
Jd=n}),!0)},nu=function(){return Jd<0&&(Jd=Zd(),eu(),Yd((function(){setTimeout((function(){Jd=Zd(),eu()}),0)}))),{get firstHiddenTime(){return Jd}}},tu=!1,ru=-1,iu=function(e,n){tu||(function(e,n){var t,r=nu(),i=zd("FCP"),a=function(e){"first-contentful-paint"===e.name&&(s&&s.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=e.startTime,i.entries.push(e),t(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],s=o?null:Qd("paint",a);(o||s)&&(t=Xd(e,i,n),o&&a(o),Yd((function(r){i=zd("FCP"),t=Xd(e,i,n),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,t(!0)}))}))})))}((function(e){ru=e.value})),tu=!0)
var t,r=function(n){ru>-1&&e(n)},i=zd("CLS",0),a=0,o=[],s=function(e){if(!e.hadRecentInput){var n=o[0],r=o[o.length-1]
a&&e.startTime-r.startTime<1e3&&e.startTime-n.startTime<5e3?(a+=e.value,o.push(e)):(a=e.value,o=[e]),a>i.value&&(i.value=a,i.entries=o,t())}},c=Qd("layout-shift",s)
c&&(t=Xd(r,i,n),$d((function(){c.takeRecords().map(s),t(!0)})),Yd((function(){a=0,ru=-1,i=zd("CLS",0),t=Xd(r,i,n)})))},au={passive:!0,capture:!0},ou=new Date,su=function(e,n){qd||(qd=n,Vd=e,Hd=new Date,uu(removeEventListener),cu())},cu=function(){if(Vd>=0&&Vd<Hd-ou){var e={entryType:"first-input",name:qd.type,target:qd.target,cancelable:qd.cancelable,startTime:qd.timeStamp,processingStart:qd.timeStamp+Vd}
Gd.forEach((function(n){n(e)})),Gd=[]}},du=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp
"pointerdown"==e.type?function(e,n){var t=function(){su(e,n),i()},r=function(){i()},i=function(){removeEventListener("pointerup",t,au),removeEventListener("pointercancel",r,au)}
addEventListener("pointerup",t,au),addEventListener("pointercancel",r,au)}(n,e):su(n,e)}},uu=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(n){return e(n,du,au)}))},lu=function(e,n){var t,r=nu(),i=zd("FID"),a=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),t(!0))},o=Qd("first-input",a)
t=Xd(e,i,n),o&&$d((function(){o.takeRecords().map(a),o.disconnect()}),!0),o&&Yd((function(){var r
i=zd("FID"),t=Xd(e,i,n),Gd=[],Vd=-1,qd=null,uu(addEventListener),r=a,Gd.push(r),cu()}))},pu={},fu=function(e,n){var t,r=nu(),i=zd("LCP"),a=function(e){var n=e.startTime
n<r.firstHiddenTime&&(i.value=n,i.entries.push(e)),t()},o=Qd("largest-contentful-paint",a)
if(o){t=Xd(e,i,n)
var s=function(){pu[i.id]||(o.takeRecords().map(a),o.disconnect(),pu[i.id]=!0,t(!0))};["keydown","click"].forEach((function(e){addEventListener(e,s,{once:!0,capture:!0})})),$d(s,!0),Yd((function(r){i=zd("LCP"),t=Xd(e,i,n),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,pu[i.id]=!0,t(!0)}))}))}))}},hu=["LCP","FID","CLS"],mu={LCP:"LargestContentfulPaint",FID:"FirstInputDelay",CLS:"CumulativeLayoutShift"},yu={},gu=function(){var e
if(!kc)return""
var n=window.performance,t=void 0
if("function"==typeof(null==n?void 0:n.getEntriesByType)){var r,i=null===(r=window.performance)||void 0===r?void 0:r.getEntriesByType("navigation");(null==i?void 0:i.length)>0&&(t=i[0])}return(null===(e=t)||void 0===e?void 0:e.name)||window.location.href}(),vu=!1,bu=new Set,Tu={LCP:"largest-contentful-paint",FID:"first-input",CLS:"layout-shift"}
function _u(){var e=!0===window.__test__resetWebVitalsState
if(!vu||e){e&&(bu=new Set),hu.forEach(Eu)
var n=Symbol()
Kd=n,[fu,lu,iu].forEach((function(e){return e(Su.bind(null,n),!0)})),[fu,lu,iu].forEach((function(e){return e(Cu.bind(null,n))})),vu=!0}}function Eu(e){yu[e]={name:e,value:-1,updateHistory:[]}
var n=Tu[e]
"undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&"string"==typeof n&&PerformanceObserver.supportedEntryTypes.indexOf(n)>-1||(yu[e].value=-2)}function Su(e,n){if(e===Kd){var t=yu[n.name],r=Od()
t&&(t.updateHistory.push({time:r,data:n}),t.value=n.value),bu.forEach((function(e){return e(n,r,!1)}))}}function Cu(e,n){e===Kd&&bu.forEach((function(e){return e(n,Od(),!0)}))}var Au=function(){function e(n,t){var r=this
Co(this,e),Io(this,"basePageTreeId",void 0),Io(this,"basePageKey",void 0),Io(this,"observing",!1),Io(this,"appContextMap",new Map),Io(this,"rumConfig",void 0),Io(this,"trackingCore",void 0),Io(this,"onMetricUpdate",(function(e,n,t){var i
r.observing&&(t?r.reportMetric(e.name):r.appContextMap.set(n,{time:n,url:location.href,pageKey:null===(i=r.trackingCore.getCurrentContext())||void 0===i?void 0:i.pageKey}))})),this.trackingCore=n,this.rumConfig=t}return ko(e,[{key:"startObserving",value:function(){var e,n,t=this
_u(),this.observing||(this.observing=!0,this.basePageTreeId=this.trackingCore.host.treeID||"_unknown",this.basePageKey=(null===(e=this.trackingCore.getCurrentContext())||void 0===e?void 0:e.pageKey)||"_unknown",hu.forEach((function(e){var n;-2===(null===(n=yu[e])||void 0===n?void 0:n.value)&&t.reportMetric(e)})),n=this.onMetricUpdate,bu.add(n))}},{key:"stopObserving",value:function(){var e
this.observing=!1,e=this.onMetricUpdate,bu.delete(e)}},{key:"reportMetric",value:function(e){var n=yu[e],t={name:mu[e]||e}
"CLS"===e?t.doubleValue=n.value:t.longValue=Math.round(n.value)
var r=yu[e]
if(r){var i=function(e,n,t,r,i){var a={basePageTreeId:e,basePageKey:n,basePageUrl:gu},o=null
switch(t.name){case"LCP":o=function(e,n){var t
if(0===e.updateHistory.length)return null
var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,a=i[i.length-1],o={pageKey:(null===(t=n.get(r.time))||void 0===t?void 0:t.pageKey)||"_unknown",element:Nd(a.element),renderTime:Math.round(a.renderTime),loadTime:Math.round(a.loadTime),size:Math.round(a.size)}
return a.url&&(o.url=a.url),o}(t,r)
break
case"FID":o=function(e,n){var t
if(0===e.updateHistory.length)return null
var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,a=i[i.length-1]
return{pageKey:(null===(t=n.get(r.time))||void 0===t?void 0:t.pageKey)||"_unknown",processingStart:Math.round(a.processingStart),processingEnd:Math.round(a.processingEnd),target:Nd(a.target)}}(t,r)
break
case"CLS":o=function(e,n){if(0===e.updateHistory.length)return null
var t=e.updateHistory.map((function(e){return e.data.entries})).flat()
if(0===t.length)return null
var r=t.reduce((function(e,n){return e&&e.value>n.value?e:n})),i=e.updateHistory.find((function(e){return e.data.entries.includes(r)})),a=null
r&&r.sources&&r.sources.length&&(a=r.sources.reduce((function(e,n){return e.node&&e.previousRect.width*e.previousRect.height>n.previousRect.width*n.previousRect.height?e:n})))
var o,s=n.get(i.time)
return a&&s?{shiftCount:t.length,"largestShift.value":r.value,"largestShift.hadRecentInput":r.hadRecentInput,"largestShift.largestSource.node":Nd(null===(o=a)||void 0===o?void 0:o.node),"largestShift.pageKey":s.pageKey||"_unknown","largestShift.url":s.url,"largestShift.startTime":Math.round(r.startTime)}:null}(t,r)}if(o){var s={}
return i(s,a,o),s}return a}(this.basePageTreeId,this.basePageKey,r,this.appContextMap,this.trackingCore.host.api.assign)
t.metadata=function(e){var n={}
return Object.keys(e).forEach((function(t){var r=e[t]
n[t]="string"==typeof r?r:JSON.stringify(r)})),n}(i)}var a={scope:{scopeType:"APPLICATION_INSTANCE",scopeKey:this.basePageTreeId},metrics:[t]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"ClientPerfMetricsEvent"},a)}}]),e}()
ko((function e(n,t,r){var i,a
Co(this,e),Io(this,"core",void 0),Io(this,"config",void 0),Io(this,"collector",void 0),Io(this,"boomerangStart",-1),Io(this,"webVitalsObserver",void 0),Io(this,"appMemoryObserver",void 0),Io(this,"pageMemoryObserver",void 0),Io(this,"liveTokens",new Set),Io(this,"stateWM",new WeakMap),Io(this,"activeToken",void 0),Io(this,"isInitial",void 0),Io(this,"shouldTrackCustomMeasureEvent",void 0),Io(this,"pageLoadId",void 0),Io(this,"initialResourcesEvents",[]),Io(this,"initialCustomMeasureEvents",[]),Io(this,"beforeHideHandlerBound",this.beforeHideHandler.bind(this)),Io(this,"fireCustomMeasureEventBound",this.fireCustomMeasureEvent.bind(this)),Io(this,"fireResourceLoadEventBound",this.fireResourceLoadEvent.bind(this)),this.core=r,this.config=function(e,n){for(var t in e)void 0!==n[t]&&(e[t]=n[t])
return e}(r.host.api.assign({},id),t)
var o="enabled"===(null===(i=(a=this.core.host).__getLixTreatment)||void 0===i?void 0:i.call(a,"pemberly.tracking.time-origin-epoch-time"))
this.collector=new Ld(r.host.api,new Wd(n,this.config,r.host),this.config,o,this.fireCustomMeasureEventBound,this.fireResourceLoadEventBound,this.isTracerLixEnabled),this.collector.startObserving(),rc.before("internal:hide",this.beforeHideHandlerBound)}),[{key:"isTracerLixEnabled",get:function(){var e,n
return"enabled"===(null===(e=(n=this.core.host).__getLixTreatment)||void 0===e?void 0:e.call(n,"pemberly.tracking.generic-tracers"))}},{key:"pingCDN",value:function(){}},{key:"recordTreeId",value:function(e,n){e&&this.collector.recordTreeId(e,n)}},{key:"recordRenderStart",value:function(e,n){this.collector.recordRenderStart(e,n||e)}},{key:"recordRenderEnd",value:function(e){var n=this.collector.recordRenderEnd(e,this.isTracerLixEnabled,this.pageLoadId)
n&&this.isTracerLixEnabled&&this.core.fireEvent({appId:this.config["app-id"],eventName:"ViewLoadEvent"},n)}},{key:"start",value:function(){var e,n
this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.isInitial=void 0===this.isInitial,this.isInitial||this.collector.reset()
var t,r=Object.create(null),i="enabled"===(null===(e=(n=this.core.host).__getLixTreatment)||void 0===e?void 0:e.call(n,"pemberly.tracking.time-origin-epoch-time"))
return this.activeToken=r,this.liveTokens.add(r),this.stateWM.set(r,{isInitial:this.isInitial,startTime:Md(this.core.host.api.performance,i)}),this.config["enable-memory-measurement"]&&(null===(t=this.pageMemoryObserver)||void 0===t||t.stopObserving(),this.pageMemoryObserver=new jd("page-memory",this.core,this.config),this.pageMemoryObserver.startObserving(),void 0===this.appMemoryObserver&&(this.appMemoryObserver=new jd("application-memory",this.core,this.config),this.appMemoryObserver.startObserving())),r}},{key:"observeWebVitals",value:function(){void 0===this.webVitalsObserver&&(this.webVitalsObserver=new Au(this.core,this.config),this.webVitalsObserver.startObserving())}},{key:"end",value:function(e){var n,t,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0
if(e&&this.activeToken&&this.activeToken===e){var o=this.stateWM.get(e),s="enabled"===(null===(n=(t=this.core.host).__getLixTreatment)||void 0===n?void 0:n.call(t,"pemberly.tracking.time-origin-epoch-time")),c=Md(this.core.host.api.performance,s)
o.endProps={renderCompleteTime:c,isImpactedByHiddenWindow:i,rumKey:a}
var d=this.activeToken
o.fireRumEventTimeout=setTimeout((function(){if(r.isTracerLixEnabled){var e=r.collector.collectPageLoadEndData({isInitial:o.isInitial})
"then"in e?e.then((function(e){r.firePageLoadEndEvent(e,d)})):r.firePageLoadEndEvent(e,d)}var n=r.collector.collect({isInitial:o.isInitial})
"then"in n?n.then((function(e){r.fireRumEvent(e,d)})):r.fireRumEvent(n,d)}),this.config["beacon-timeout"]),this.activeToken=void 0}else Sc("rum-end",cd)}},{key:"firePageLoadStartEvent",value:function(e,n){if(e&&this.activeToken&&this.activeToken===e){this.shouldTrackCustomMeasureEvent=!0
var t=this.stateWM.get(e)
this.pageLoadId=pc()
var r=this.collector.collectPageLoadStartData({isInitial:t.isInitial,rumKey:n})
r.pageLoadId=this.pageLoadId,this.core.fireEvent({appId:this.config["app-id"],eventName:"PageLoadStartEvent"},r)}else Sc("PageLoadStartEvent",cd)}},{key:"destroy",value:function(){var e,n,t
rc.offBefore("internal:hide",this.beforeHideHandlerBound),this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.collector.stopObserving(),null===(e=this.webVitalsObserver)||void 0===e||e.stopObserving(),null===(n=this.appMemoryObserver)||void 0===n||n.stopObserving(),null===(t=this.pageMemoryObserver)||void 0===t||t.stopObserving(),this.core.destroy()}},{key:"abort",value:function(e){var n
if(!e||this.activeToken!==e)throw new Error("RUM abort: rum token passed is invalid")
if(null!==(n=this.stateWM.get(e))&&void 0!==n&&n.endProps)throw new Error("RUM abort: Can't abort a session that was already ended")
this.activeToken=void 0,this.stateWM.delete(e),this.liveTokens.delete(e)}},{key:"flushEndedSessions",value:function(){var e=this
this.liveTokens.forEach((function(n){var t=e.stateWM.get(n)
if(t.endProps){if(e.isTracerLixEnabled){var r=e.collector.collectPageLoadEndData({isInitial:t.isInitial,immediate:!0})
e.firePageLoadEndEvent(r,n)}var i=e.collector.collect({isInitial:t.isInitial,immediate:!0})
e.fireRumEvent(i,n)}}))}},{key:"firePageLoadEndEvent",value:function(e,n){if(this.stateWM.get(n)){var t=this.core.host.api.assign,r=this.stateWM.get(n),i=r.startTime,a=r.endProps
if(a){var o=a.renderCompleteTime,s=a.isImpactedByHiddenWindow,c=a.rumKey
if(e.pageLoadId=this.pageLoadId,e.browserPageLoadEndContext&&(e.browserPageLoadEndContext.isImpactedByHiddenWindow=s),e.navigationTiming){var d,u=null===(d=e.navigationTiming)||void 0===d?void 0:d.navigationStart,l=this.boomerangStart=u||this.boomerangStart,p=u||i,f=o-p
e.navigationTiming.boomerangStart=l,e.navigationTiming.timeDone=f,e.navigationTiming.navigationStart=p,void 0===e.navigationTiming.workerStart&&(e.navigationTiming.workerStart=0)}this.core.fireEvent({appId:this.config["app-id"],eventName:"PageLoadEndEvent"},(function(n){return t({pageKey:c||n.pageKey},e)})),this.shouldTrackCustomMeasureEvent=!1}else this.abort(n)}}},{key:"fireCustomMeasureEvent",value:function(e){var n=this
if(this.isTracerLixEnabled&&this.shouldTrackCustomMeasureEvent){if(!this.pageLoadId)return void this.initialCustomMeasureEvents.push(e)
this.initialCustomMeasureEvents.length>0&&(this.initialCustomMeasureEvents.forEach((function(e){e.parentPageLoadId=n.pageLoadId,n.core.fireEvent({appId:n.config["app-id"],eventName:"CustomMeasureEvent"},e)})),this.initialCustomMeasureEvents=[]),e.parentPageLoadId=this.pageLoadId,this.core.fireEvent({appId:this.config["app-id"],eventName:"CustomMeasureEvent"},e)}}},{key:"fireResourceLoadEvent",value:function(e){var n=this
if(this.isTracerLixEnabled){if(!this.pageLoadId)return void this.initialResourcesEvents.push(e)
this.initialResourcesEvents.length>0&&(this.initialResourcesEvents.forEach((function(e){e.parentPageLoadId=n.pageLoadId,n.core.fireEvent({appId:n.config["app-id"],eventName:"ResourceLoadEvent"},e)})),this.initialResourcesEvents=[]),e.parentPageLoadId=this.pageLoadId,this.core.fireEvent({appId:this.config["app-id"],eventName:"ResourceLoadEvent"},e)}}},{key:"fireRumEvent",value:function(e,n){if(this.stateWM.get(n)){var t=this.core.host.api.assign,r=this.stateWM.get(n),i=r.startTime,a=r.endProps
if(a){var o=a.renderCompleteTime,s=a.isImpactedByHiddenWindow,c=a.rumKey,d=this.boomerangStart=e.navigationStart||this.boomerangStart,u=e.navigationStart||i,l=o-u,p=this.config["app-version"]
this.core.fireEvent({appId:this.config["app-id"],eventName:"RealUserMonitoringEvent"},(function(n){return t({pageKey:c||n.pageKey,isImpactedByHiddenWindow:s,appVersion:p,timeDone:l,navigationStart:u,boomerangStart:d,renderCompleteTime:o},e)})),r.fireRumEventTimeout&&clearTimeout(r.fireRumEventTimeout),this.liveTokens.delete(n),this.stateWM.delete(n)}else this.abort(n)}}},{key:"beforeHideHandler",value:function(){this.flushEndedSessions()}}])
var ku="undefined"!=typeof window&&"undefined"!=typeof performance,Iu="undefined"!=typeof location&&-1!==location.search.indexOf("_LI_MEASURE_DEBUG")
ko((function e(n,t){Co(this,e),Io(this,"trackingCore",void 0),Io(this,"endPageInstance",void 0),Io(this,"startPageInstance",void 0),Io(this,"featureIdentifier",void 0),Io(this,"marks",[]),Io(this,"spans",[]),Io(this,"spanStarts",new Map),Io(this,"started",!1),Io(this,"ended",!1),Io(this,"featureKey",void 0),Io(this,"productName",void 0),Io(this,"flushOnEnd",void 0),Io(this,"basePageTreeId",void 0),Io(this,"debounceFlush",void 0),Io(this,"disableAutoFlush",void 0),Io(this,"isCanceled",!1),Io(this,"isClosed",!1),this.trackingCore=n
var r=t.featureKey,i=t.productName,a=t.flushDebounceMilliseconds,o=t.flushOnEnd
this.featureKey=r,this.productName=i,this.flushOnEnd=o
var s=i?"::".concat(i):""
this.featureIdentifier="".concat(r).concat(s)
var c=void 0!==a?a:3e3
c>0&&(this.debounceFlush=function(e,n,t){var r,i,a
void 0===n&&(n=50),void 0===t&&(t={})
var o=null!=(r=t.isImmediate)&&r,s=null!=(i=t.callback)&&i,c=t.maxWait,d=Date.now(),u=[]
function l(){if(void 0!==c){var e=Date.now()-d
if(e+n>=c)return c-e}return n}var p=function(){var n=[].slice.call(arguments),t=this
return new Promise((function(r,i){var c=o&&void 0===a
if(void 0!==a&&clearTimeout(a),a=setTimeout((function(){if(a=void 0,d=Date.now(),!o){var r=e.apply(t,n)
s&&s(r),u.forEach((function(e){return(0,e.resolve)(r)})),u=[]}}),l()),c){var p=e.apply(t,n)
return s&&s(p),r(p)}u.push({resolve:r,reject:i})}))}
return p.cancel=function(e){void 0!==a&&clearTimeout(a),u.forEach((function(n){return(0,n.reject)(e)})),u=[]},p}(this.flush.bind(this),c)),this.disableAutoFlush=c<0}),[{key:"start",value:function(e){var n
if(ku){if(this.started)throw new Error("Same PerfMeasurement (".concat(this.featureIdentifier,") cannot be started twice"))
this.startPageInstance=e||(null===(n=this.trackingCore.getCurrentContext())||void 0===n?void 0:n.pageInstance),this.spanStart("load"),this.started=!0}}},{key:"end",value:function(e){var n
if(!this.isClosed){if(this.isClosed=!0,this.isCanceled)throw new Error('[rum measurement] cannot end a canceled measurement "'.concat(this.featureIdentifier,'"'))
if(ku){if(this.ended)throw new Error("Same PerfMeasurement (".concat(this.featureIdentifier,") should not be ended twice"))
this.endPageInstance=e||(null===(n=this.trackingCore.getCurrentContext())||void 0===n?void 0:n.pageInstance),this.spanEnd("load"),this.ended=!0,this.flushOnEnd&&this.flush()}}}},{key:"mark",value:function(e){ku&&(this.marks.push({name:e,startTime:Od()}),Iu&&(performance.mark("LI:".concat(this.featureIdentifier,"-mark-").concat(e)),performance.measure("LI:".concat(this.featureIdentifier,"-mark-").concat(e),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-mark-").concat(e))),this.handleNewData())}},{key:"spanStart",value:function(e){ku&&(this.spanStarts.set(e,Od()),Iu&&performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start")))}},{key:"spanEnd",value:function(e,n){if(ku&&this.spanStarts.has(e)){var t=this.spanStarts.get(e),r=n||e
this.spans.push({name:r,startTime:t,duration:Od()-t}),Iu&&(performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")),performance.measure("LI:".concat(this.featureIdentifier,"-span-").concat(n||e),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start"),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end"))),this.handleNewData()}}},{key:"addSpan",value:function(e){this.spans.push(e),this.handleNewData()}},{key:"setBasePageTreeId",value:function(e){this.basePageTreeId=e}},{key:"getTimestamp",value:function(){return Od()}},{key:"flush",value:function(){0===this.marks.length&&0===this.spans.length||(this.fireEvent(),this.marks=[],this.spans=[],this.debounceFlush&&this.debounceFlush.cancel())}},{key:"handleNewData",value:function(){this.debounceFlush?this.debounceFlush().catch((function(e){})):this.disableAutoFlush||this.flush()}},{key:"fireEvent",value:function(){var e=this,n=this.endPageInstance&&{header:{pageInstance:this.endPageInstance}}
this.trackingCore.fireEvent("FeaturePerformanceMeasurementEvent",(function(n){var t=e.startPageInstance||n.pageInstance||mc("unknown"),r={name:e.featureKey,startTime:-1,duration:-1,startPageInstance:t,marks:e.marks,spans:e.spans}
return e.productName&&(r.productName=e.productName),e.basePageTreeId&&(r.basePageTreeId=e.basePageTreeId),r}),n)}},{key:"cancel",value:function(){this.isCanceled=!0}},{key:"check",value:function(){if(ku){if(this.isCanceled)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" has been canceled'))
if(!this.isClosed)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is still open'))}}}])
const Ru=/^(\/[^?]+)\??(.*)$/
function wu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
const n=Ru.exec(e)
if(n){const[,e="",t=""]=n
return{path:e,queryString:t}}return{path:"",queryString:""}}const xu=/[,()':]/g,Mu=/[,()':]/
function Ou(e){const n=JSON.parse(JSON.stringify(e))
return function(e,n){if(Array.isArray(e)||"object"!=typeof e||null===e)throw new Error("You must pass an object to the paramEncode function. Use arrayParamEncode.")}(n),Object.keys(n).map((e=>`${Pu(e)}=${Nu(n[e],!1)}`)).join("&")}function Nu(e,n){return Array.isArray(e)?function(e,n){const t=new Array(e.length)
for(let r=0;r<e.length;r++)t[r]=Nu(e[r],n)
return`List(${t.join(",")})`}(e,n):function(e){return"object"==typeof e&&null!==e}(e)?function(e,n){return`(${Object.keys(e).map((t=>`${Pu(t,n)}:${Nu(e[t],n)}`)).join(",")})`}(e,n):Pu(e,n)}function Pu(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return""===e?"''":n&&"string"==typeof e&&Mu.test(e)?e.replace(xu,escape):n?e:encodeURIComponent(e).replace(xu,escape)}Object.freeze({S_100_CONTINUE:100,S_101_SWITCHING_PROTOCOLS:101,S_200_OK:200,S_201_CREATED:201,S_202_ACCEPTED:202,S_203_NON_AUTHORITATIVE_INFORMATION:203,S_204_NO_CONTENT:204,S_205_RESET_CONTENT:205,S_206_PARTIAL_CONTENT:206,S_207_MULTI_STATUS:207,S_300_MULTIPLE_CHOICES:300,S_301_MOVED_PERMANENTLY:301,S_302_FOUND:302,S_303_SEE_OTHER:303,S_304_NOT_MODIFIED:304,S_305_USE_PROXY:305,S_307_TEMPORARY_REDIRECT:307,S_400_BAD_REQUEST:400,S_401_UNAUTHORIZED:401,S_402_PAYMENT_REQUIRED:402,S_403_FORBIDDEN:403,S_404_NOT_FOUND:404,S_405_METHOD_NOT_ALLOWED:405,S_406_NOT_ACCEPTABLE:406,S_407_PROXY_AUTHENTICATION_REQUIRED:407,S_408_REQUEST_TIMEOUT:408,S_409_CONFLICT:409,S_410_GONE:410,S_411_LENGTH_REQUIRED:411,S_412_PRECONDITION_FAILED:412,S_413_REQUEST_ENTITY_TOO_LARGE:413,S_414_REQUEST_URI_TOO_LONG:414,S_415_UNSUPPORTED_MEDIA_TYPE:415,S_416_REQUESTED_RANGE_NOT_SATISFIABLE:416,S_417_EXPECTATION_FAILED:417,S_422_UNPROCESSABLE_ENTITY:422,S_423_LOCKED:423,S_424_FAILED_DEPENDENCY:424,S_428_PRECONDITION_REQUIRED:428,S_429_TOO_MANY_REQUESTS:429,S_500_INTERNAL_SERVER_ERROR:500,S_501_NOT_IMPLEMENTED:501,S_502_BAD_GATEWAY:502,S_503_SERVICE_UNAVAILABLE:503,S_504_GATEWAY_TIMEOUT:504,S_505_HTTP_VERSION_NOT_SUPPORTED:505})
const Uu="application/x-www-form-urlencoded",Du="POST",Lu=8e3
function Fu(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=("graphql"===e?Bu:ju)(n,t)
return Object.keys(r).length?"".concat(i,"?").concat(Ou(r)):i}var Bu=function(e,n){var t=Vu(e.path),r=Vu(e.host),i=e.graphQLPrefix?Vu(e.graphQLPrefix):""
return"".concat(r).concat(t).concat(i).concat(n)},ju=function(e,n){var t=Vu(e.path),r=Vu(e.host),i=qu(e.restliPrefix,n)
return"".concat(r).concat(t).concat(i)},qu=function(e,n){return e?"".concat(e).concat(n.substring(0,1).toUpperCase()).concat(n.substring(1)):n},Vu=function(e){var n=e.endsWith("/")?"":"/"
return"".concat(e).concat(n)},Hu=function(e){return e.map((function(e){return function(e){return encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29")}(e)})).join(",")},Gu=new Map
function Ku(e){var n=Object.freeze({$debug:i({kind:e.kind},"query"===e.kind?{queryId:e.id,querySource:e.source}:{})})
return Gu.set(n,e),n}var Wu=new Map,zu=function(e){if(!e.name||"query"!==e.kind)return e
var n=Qu(e.name)
return n?i(i({},e),{},{id:n}):e},Qu=function(e){return Wu.get(e)},$u=Ku({kind:"query",id:"messengerConversations.ec20d615b99f18f7489617a00360e62c",typeName:"com.linkedin.a48779e96d56416b455684d54ca0a605",name:"find-conversations-by-category",source:'query findConversationsByCategory($category: String!, $count: Int, $lastUpdatedBefore: Long, $mailboxUrn: String!, $nextCursor: String) @recipeType(name: "com.linkedin.a48779e96d56416b455684d54ca0a605") {\n  messengerConversationsByCategory(\n    category: $category\n    count: $count\n    lastUpdatedBefore: $lastUpdatedBefore\n    mailboxUrn: $mailboxUrn\n    nextCursor: $nextCursor\n  ) @recipeType(name: "com.linkedin.a73b8d5735721f1ec465168cdaa142b9") {\n    elements @recipeType(name: "com.linkedin.e1658c761fec94488fdd088b9fdb9a69") {\n      ...Conversation\n      messages(count: 1, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.438d87be109cbb09469835a99d6b6f2f") {\n        elements @allOrNothing @recipeType(name: "com.linkedin.c68c6da406b1fe9e72b3696e90742b5f") {\n          ...MessagePartialParticipant\n        }\n        _recipeType\n        _type\n      }\n    }\n    metadata @recipeType(name: "com.linkedin.5476b6f6131b92f9257f7c830d64c187") {\n      nextCursor\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.a6a436fa6f17407bd8c8147f46fcff28") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.ac430a4df660e223b7f4f7c373a4ccf0") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.97f0379fa4ba5468e14cbd5c68053810") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.3b08767bb20a5c78102fa8a9fe50fdd1") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.451ff444eb8982d2fbbfe5b156046452") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.e54582439de47f7669a170ea5a53d2e1") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.a82ff00edd015184a01711bba9d208bc") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.096e9846aa6fdd7640e1d48cbf951703") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.b288716f8064dfd0ee726fe59dbac2cf") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.1803df07940f4da07e985ad47a485455") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.cd14dd378cce5c41ae247b3718808a8d") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.61c5d9bc9b7540235f8f9f68f7695fe0") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.32cdb2401630b4ea1db1049f0dce279f") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.5b729f0d82ced97a1897195b00832a9f") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.70998a19dcae8fa5e43630a55ef0d4e6") {\n      firstName @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.b5b44a2405d5ad0bf6c7bac0a15264d6") {\n      name @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.0d08b58967a4c3b72b7d82f27c087076") {\n      name @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.8eb25da4c068096c9747394f0b9c6284") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.3651c975dd1476734086735ba5da8a22") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.988fdd52ee12553570a449e3687e2c00") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.c250ee3ee7ca72ac5d57f4772687ee8e") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.d9b5547d27737812851fe3d107da5441") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.95c4ea34721e0046181b339f52ff27d6") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.e1658c761fec94488fdd088b9fdb9a69") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.578efc3dc45f6204ef3609e978da6634") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.578efc3dc45f6204ef3609e978da6634") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.8eb25da4c068096c9747394f0b9c6284") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.3651c975dd1476734086735ba5da8a22") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.79d9e8e17548ee6b78cc6d0478534d47") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.e55b3cc50623802541bbf563e2d8c443") {\n      adUnit @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.d98709a73534a771dc64d8d7199330e2") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.7f1121931194e998bc1b4ea0891ad2ae") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.899d1fe17e53465a1e2e1a7f068c1a3d") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.7f1121931194e998bc1b4ea0891ad2ae") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.d98a5df6b459eabc86916de3efe99dbf") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.b711d5a6aa4c17e305bce381e7ad2a5b") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.3072aa9dcc423d530b618db09e53699d") {\n      country\n      extensions @recipeType(name: "com.linkedin.3dc125cbeda1099d08ef46eac53186c3") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.c439cde8ef7577d0a58e7b24066b7d7c") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.26cea42d83a8b4074bf987dfa8ce4bc5") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.dc82aa5700dc2891aecbc7085b5228c9") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.9a890742b7fd44d278739c890bf26e89") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.143e2938d676cb3276a8844859ad8e08") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.1c0d4217e953cefc22684bde72a8cb7f") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.819f17cb2f8e20624cbc4c482c64a921") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.a9b778a895a630807e8656edb8c2fb10") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.96ea1277e90b082f2dce2f65fb92ffba") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.50f39033128726441a0f42ef8d648cf0") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.587e08a3254a75acc7be84a6e830cd2b") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.33c8051984340fcd44e052471e633f01") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.3ecd326f413c05157f0a38fbeb56d49e") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.3b13ed81acf43af83b1817fe6d68aaf9") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.548b5ed0017e3048ef0c60dc48baa9ef") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.510056f05feb00a00754f3b54aa85c95") {\n      originalSender @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.5ccbf8282e32ab852c44950ff8bf5664") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{category:{type:"String",isRequired:!0,kind:"Scalar"},count:{type:"Int",isRequired:!1,kind:"Scalar"},lastUpdatedBefore:{type:"Long",isRequired:!1,kind:"Scalar"},mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},nextCursor:{type:"String",isRequired:!1,kind:"Scalar"}},types:{}}}),Yu=Ku({kind:"query",id:"messengerConversations.15ae3ec61e63cd34ff32e1b2e80dc9db",typeName:"com.linkedin.637753efb2e5d51c7275035cac9b4c5f",name:"find-conversations-by-recipients",source:'query findConversationsByRecipients($mailboxUrn: String!, $recipients: [String!]!) @recipeType(name: "com.linkedin.637753efb2e5d51c7275035cac9b4c5f") {\n  messengerConversationsByRecipients(\n    mailboxUrn: $mailboxUrn\n    recipients: $recipients\n  ) @recipeType(name: "com.linkedin.033878da33550a1f330eeaf7883b4321") {\n    elements @recipeType(name: "com.linkedin.128c009a69cdd7bfb2f134cbbbf9a397") {\n      ...Conversation\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.09228bb8171dd68774500c2d789b2542") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.15a83ff1c890b31b7a7fe3fc611b5f9a") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.46edbc17c83db73c1c168d5609d6fbb0") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.4ae7587cf42013da5e540c5d2de5624e") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.2566589f404a86abf02bda63a6500393") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.27e8caede551ddc11ea0bd2c48f3c5e1") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.21ee657d4ac32c1c1e5bf777b131830f") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.2899f08083867b774e4b7dd3be10abc1") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.cec8212252a33cad2a25dd92772f6098") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.4698b01fbc53cf61a11e56134775ca3f") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.810a970e1d444ed8fa907f901db408a7") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.dd46d970fdfe85b48a86cb201f6b59cf") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.43630e8f64f9af0ec9d63605915b0ae2") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.4b385e971ec0515ee23f2fc1e93f80dc") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.c95fcb34903375c2bf082dc19e08afe9") {\n      firstName @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.3587bb32347eaf7d2483e00bc0846d9c") {\n      name @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.35a65043a89d9556f36e9efbffee7c1e") {\n      name @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.f95e439de1f94fa96a08b86fb8c7c66a") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.3d99942c97deb43cf5874499c62d5a76") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.0d9eace028f0468a2d108c3ac54bd009") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.f4eb28d3f7844665dacc4e816eec852c") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.6af9bce1de695d637397a582319c5307") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.0d9eace028f0468a2d108c3ac54bd009") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},recipients:{isRequired:!0,kind:"Array",type:"Array",innerType:{type:"String",isRequired:!0,kind:"Scalar"}}},types:{}}}),Xu=Ku({kind:"query",id:"messengerConversations.dac8c7f1824a84031125226192309c91",typeName:"com.linkedin.c3d42ec0291728dbe7f3aced6f0826e5",name:"find-conversations-by-search-criteria",source:'query FindConversationsBySearchCriteria($categories: [String!] = [], $count: Int = 10, $firstDegreeConnections: Boolean = false, $keywords: String, $mailboxUrn: String!, $nextCursor: String, $read: Boolean) @recipeType(name: "com.linkedin.c3d42ec0291728dbe7f3aced6f0826e5") {\n  messengerConversationsBySearchCriteria(\n    categories: $categories\n    count: $count\n    firstDegreeConnections: $firstDegreeConnections\n    keywords: $keywords\n    mailboxUrn: $mailboxUrn\n    nextCursor: $nextCursor\n    read: $read\n  ) @recipeType(name: "com.linkedin.cc7c78e409f93d88a171f825fe0d8629") {\n    elements @recipeType(name: "com.linkedin.aed049a49fceb4311a08d530a54727f7") {\n      ...Conversation\n      messages(count: 1, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.243a0da9c776132286f7d390f6cd67dc") {\n        elements @allOrNothing @recipeType(name: "com.linkedin.4cf8e0578b3ab8a8bdd8d9b3cdeacee0") {\n          ...MessagePartialParticipant\n        }\n        _recipeType\n        _type\n      }\n    }\n    metadata @recipeType(name: "com.linkedin.d417d4710ab69db0cead999706012b23") {\n      ...ConversationCursorMetadata\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.b58763f17b3066a28387e37a39070c38") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.08f13fbb111fdeb2de77234c8cc37927") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.862090c7fd1ecbc9353fc1bda6dafe92") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.d98ea502796de9a46275f270c8da7f92") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.6c8b66070f8773c96509d828d6a05b3d") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.16ff88323bde36839fd76346af9bb305") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.e1faf92a024971783219dffe58936c03") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.d11382dc4567d2ebbfc16f9dda45511a") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.5d6c23f69f74b7ed5b72bdf8a42c0a58") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.917e2697debe114e1f6635c8d7d6a2fb") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.2cc1a5484d8589a0fdba7567eb060176") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.9f815bc6015528a062b691e80cb58f95") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e8c76e7c50b11b0640d6aae1556dc643") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.7355651748f3690a24ab45ef61385b0f") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.6ec40d2da20c6b9d8f73c6648057b47f") {\n      firstName @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.7eb2879d374ff89be8b91f2f4c181bd7") {\n      name @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.6356b6f0ad0155ca2bfaa5cb91a815ba") {\n      name @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.de423c0e668a2e3937ba0767defe646f") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.151f71de764f34ef43820f56d5d914c2") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.02bd52c0e1880e99ba50011654b56308") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.c949d9daf5e17ad5c66d1fdbabd4b52c") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.fdf2f6e4651fa98389fd0c9940ee943c") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.d5645f344392d647ea5a068fbe7e9a8c") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.aed049a49fceb4311a08d530a54727f7") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.5fcffd1a9bc36206175265e0c15e6608") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.5fcffd1a9bc36206175265e0c15e6608") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.de423c0e668a2e3937ba0767defe646f") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.151f71de764f34ef43820f56d5d914c2") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.c76480b983b274e78981740fe67f2d61") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.8b2f75e37b9adaf3c2c529083186e490") {\n      adUnit @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.fcaf3274a0ceed650fe8b3d032a594c2") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.c0ec60b6b839e03ef93f96dd5e6e3038") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.7a5111f59bd313e7ec3f07ec7cfe8b72") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.c0ec60b6b839e03ef93f96dd5e6e3038") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.7b79ea430f20fe0031d3a55c1f6fcfd3") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.fc3d6e611bc00fff78fc0a87cbee0d6e") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.14d0bacca404231a31fa6599bf59ecf8") {\n      country\n      extensions @recipeType(name: "com.linkedin.4133b57aa880beea36b47cd8248b1274") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.19b6719cdc80996d2bd13d3c90717d3e") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.e441dc571e210362b62dc5158ea85540") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.7598f75c888707bf85007beadaa3c717") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.0ab0b312b8ed94f551dcbd5d8fb0f4ac") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.7d5c0ada85235084e6d54a96a7adf2e8") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.2e92f14674f98dd400e059afc5b71c89") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.1b6fbcf645e16c5c4bfead9c35f020f6") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.0355c17b95f4491a9d25b187afeacb00") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.0bff71d4415b526879d04cf6f7582cce") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.b1e3a6cae32bb821942c4420f6694aec") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.1b2e71e5057a05272f25767bb394d51c") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.03ffb0b0d60241bf1c6b321b355e957c") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.326307ca4cc134468e08972ed67f0fbe") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.e984e34f93945ed185e28a7ca8c6f89a") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.cd88c1dbed4b27fce064f42a0dc68b83") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.d241d4c2afd64b8349aecb99d247045a") {\n      originalSender @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.8b8fd1a57edd805e27e79a41c8ea3399") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationCursorMetadata on messenger_ConversationCursorMetadata {\n  nextCursor\n  rawSearchId\n  trackingIds @recipeType(name: "com.linkedin.60b3f53535cc832f751f7b6c4900542f") {\n    hitEntityUrn\n    trackingId\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{categories:{isRequired:!1,kind:"Array",type:"Array",innerType:{type:"String",isRequired:!0,kind:"Scalar"}},count:{type:"Int",isRequired:!1,kind:"Scalar"},firstDegreeConnections:{type:"Boolean",isRequired:!1,kind:"Scalar"},keywords:{type:"String",isRequired:!1,kind:"Scalar"},mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},nextCursor:{type:"String",isRequired:!1,kind:"Scalar"},read:{type:"Boolean",isRequired:!1,kind:"Scalar"}},types:{}}}),Ju=Ku({kind:"query",id:"messengerConversations.1e80eb51a8b9953639aa4e35f302d2e8",typeName:"com.linkedin.47459727fe9dc4c6dd28af91d35c3bea",name:"get-conversation-by-id",source:'query messengerConversationsById($messengerConversationsId: String!, $count: Int!) @recipeType(name: "com.linkedin.47459727fe9dc4c6dd28af91d35c3bea") {\n  messengerConversationsById(messengerConversationsId: $messengerConversationsId) @recipeType(name: "com.linkedin.e24fb0136dc26353ab4f648e1902823f") {\n    ...Conversation\n    messages(count: $count, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.21260d920db9d4ce4a3fb5b914ff484b") {\n      elements @allOrNothing @recipeType(name: "com.linkedin.c651c0905361fb348dda3baddd8def78") {\n        ...MessagePartialParticipant\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.cb0399b0cfb57151df335eba0c7a9beb") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.dcd6f20b165238cfac4ba2ff9bae619a") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.f39203ab15462f00cb5b7476b37bce3a") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.6a73b1fb7660a0f309f384f33d44d7d8") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.e9c1bd26ff54b4d1a9fc4c08cfcc8b62") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.c91f35ab4ac93fde74b875304a95183b") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.18d7a7f8bed44dd5e35ea80c2e979c4d") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.01699396fde3b5ddee6eee2c8e9c0a4c") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.14e9c56c121c5b8c0b50cce82e6fc7c5") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.615d3d1dfeac70c1d562defb1ef76239") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.5b496a0b1d1de8f86e61bc62819de9e4") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.1685f9c69f38dd22af99782629656269") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.11f0fe2ec9d279724079e6290abb0174") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.ddee62b7ab28b4e997ae9a296bddad48") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.fb6d591552493d3745fa77c0b9b04298") {\n      firstName @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.2ccf3198425dfd5af50085e114a4a1d2") {\n      name @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.3796598c7caa08b8b5f4c1dbbbd15c0c") {\n      name @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.33513a00530f05e5410877de1ab3e8e1") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.6307aa03e4da766e9192cfd7ce8353fa") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.06d67602d00d78e95969ac52753eeb72") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.3c80f646550a626bf7eaecc033b459a8") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.b9d617623216b909de7e48157cc90c6b") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.c4cc5a6074539401c466484e0d446ed6") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.e24fb0136dc26353ab4f648e1902823f") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.ac94868c85ec6dc5d93e9507f4e015c8") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.ac94868c85ec6dc5d93e9507f4e015c8") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.33513a00530f05e5410877de1ab3e8e1") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.6307aa03e4da766e9192cfd7ce8353fa") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.776464b9f5b21efa54a107762c20be41") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.50b2b86a1a9368d9dbd3cec835b33a2e") {\n      adUnit @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.2a922294194be0d4a083a08a7c0b13a7") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.2fb6e9538cf9a75f82ef540708047b66") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.eec8d2f072683bf2e6cac979f0f21027") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.2fb6e9538cf9a75f82ef540708047b66") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.76ee4351004ccd6294ed2c4ae88812ca") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.43cd992edd4c0486fcb43b5e8a601a03") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.d18fd8751eebb115ebdcaa1ce26b98b7") {\n      country\n      extensions @recipeType(name: "com.linkedin.450eb5bee544df534926f3d5cb165c44") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.2f7a949633d9dd0d22b7d4cac4f6eff9") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.264a252634ac15bafcee8ff3cc12d649") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.b9fb5ddb75fc93b0bfcd2e4b06a8eaf2") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.46dac2303162d415e48fa8016b034026") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.9c84646dea76aeadd3cb2a8ea3faf201") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.de9244bde84290263084b5073c529674") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.c3faf46044ea3486f348246e8d30035a") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.81272291d2752fda333844ba4e0bbf8a") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.2d681fcdb4624c3db9eadad5d63934a0") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.b5517e23ad7b47cb72c0cf380906ade4") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.b2033e3b5e90ee3b391cf9536b93d3c6") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.f6bd5263639264e7fd5b051ba08541fd") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.533776559fb08d619af234005b26b343") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.1e9dc094fa5ab32d30eda58e41329430") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.7fef48f52b9439ce2f94bcc7d9c89538") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.2f094c70bdff85cf0c86412f359a710a") {\n      originalSender @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.71d980342ddc8257fe3ac346c600ba81") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{messengerConversationsId:{type:"String",isRequired:!0,kind:"Scalar"},count:{type:"Int",isRequired:!0,kind:"Scalar"}},types:{}}}),Zu=Ku({kind:"query",id:"messengerMessages.f323042c2f26ef35b58f799a59bdbb3f",typeName:"com.linkedin.5ead02a2479291ebdce3f63ac66fbe93",name:"get-messages-by-conversation",source:'query messengerMessagesByConversation($conversationUrn: String!, $count: Int!, $nextCursor: String, $prevCursor: String) @recipeType(name: "com.linkedin.5ead02a2479291ebdce3f63ac66fbe93") {\n  messengerMessagesByConversation(\n    conversationUrn: $conversationUrn\n    count: $count\n    nextCursor: $nextCursor\n    prevCursor: $prevCursor\n  ) @recipeType(name: "com.linkedin.fae8765faf662cca102ede587d8e456d") {\n    elements @recipeType(name: "com.linkedin.a43c319dce4af407d65375b77123709c") {\n      ...MessageFullParticipant\n    }\n    metadata @recipeType(name: "com.linkedin.718bc5c98107bb05a6b017a76589a62b") {\n      nextCursor\n      prevCursor\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.92da8d6b385317069652fac33b0347b4") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.ffcdef84f5a777ed88fb4b45658a9e14") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.5b03af2277489fb7027a1150fd9575ff") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.303b9eb6e59a5450e0577d461cb48f40") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.575d0c1dd58a5ba293bab78a6a3ddbb1") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.230175b918f13003da6b4a753ce5a368") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.6db106eda0592bf5546c0e479e9f1654") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.d6e832aceb42049c6562501bc02e7be4") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.3986eb36516ea239d872dcfe4ad9ea0b") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.f91bd457d68eb9514d5c05b79c16a5a9") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.35023eb3e2f6f5f605cbd00edf448fcc") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.50c7f5d75aa51467c8da0e1a008a9624") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.d4a62fceb0bfd38cde178e7adbff9d10") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.1f1ebfba843743df30587498837a386f") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.70b7922a3ce488ad14b508eb6aa52c2a") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.34c00ff1eb711be7d1cff3638d7a8a1b") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.dba12761bc6277862e052485d4d26c4a") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.5203d1a2bcc81b8a7119a52e40b9f6e9") {\n      firstName @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.5f7040cfe52ee5a28e98a43fe8d34142") {\n      name @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.e37d7fc189f22baa912a8939be2e3f6a") {\n      name @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.6f4a28f99bc2508097b38f69f639e5f1") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.6f4a28f99bc2508097b38f69f639e5f1") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.e3b1d59ecc45f4592691c275d8e57eb2") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.49d0b65974a4e8d9a78e80c3964e478b") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.13eda39e4476fc2ff349f6d99207c536") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.22a92192c99c325348cd20f44405a46f") {\n      adUnit @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.3a13e0e679d90c09669de8d182c25e42") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.456e02a149d79bd7a6b9ddaa10c87685") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.5e0a5f02346ad067f242429d64c3965f") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.456e02a149d79bd7a6b9ddaa10c87685") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.33b07249a4668d2be9c5bc5f3aa1b1dd") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.a9d5ed7dc3be35ed1f1849acb00a00c2") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.b0f1a50a37f641bc5e84959cd542588d") {\n      country\n      extensions @recipeType(name: "com.linkedin.614f84808734f4a3019637f511bfdaf1") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.4356ab368a2fc500442ef43619913ad5") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.95f7dff8470f1c4d01c93606259d3a3e") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.48411f74c5d9fcc7309459278674a7c4") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.06be6a4a9fb1d03a5bb534cdfc0fb023") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.075269c5962458383d2fd90c6386bfa2") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.88b0b93577342865bd6ed68e405c5dbf") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.c864ba3445a21261e2b3df0b57b1fe18") {\n    ...Participant\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.570c8456a814d58227df110f692ca235") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.74e737536ff745b60c7e7712ebf7653a") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.bf59c1e69c9fbc8bb621bd0360e3b108") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.e5b22526f909056ce375d43240cb1c4a") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.6208ae69c8a9065c05d29a7da7a66247") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.aa1bb399179f7f666b5918724dcfeab6") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.26eb3e25741fe5a252a7a40fb679a26b") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.d6f9d3d15b9ce005d3332a70d65e87a4") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.f2b815c7a52091b01033e7da4c710f6d") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.d3eef7c9b92c2d6c582e06ddd4b101ab") {\n      originalSender @recipeType(name: "com.linkedin.c864ba3445a21261e2b3df0b57b1fe18") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.0c8cfc67f81001a4b0f982f83093fd3b") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},count:{type:"Int",isRequired:!0,kind:"Scalar"},nextCursor:{type:"String",isRequired:!1,kind:"Scalar"},prevCursor:{type:"String",isRequired:!1,kind:"Scalar"}},types:{}}}),el=Ku({kind:"query",id:"messengerMessages.7ad56d628983ec50aaaad5c62f78bb26",typeName:"com.linkedin.f06a0d9d67201ccfd952b77289ff240e",name:"get-messages-by-timestamp",source:'query messengerMessagesByAnchorTimestamp($conversationUrn: String!, $deliveredAt: Long!, $countBefore: Int!, $countAfter: Int!) @recipeType(name: "com.linkedin.f06a0d9d67201ccfd952b77289ff240e") {\n  messengerMessagesByAnchorTimestamp(\n    conversationUrn: $conversationUrn\n    deliveredAt: $deliveredAt\n    countAfter: $countAfter\n    countBefore: $countBefore\n  ) @recipeType(name: "com.linkedin.f904502daab23faa50d8f386e7995b56") {\n    elements @recipeType(name: "com.linkedin.231285ee6af57dbbe6266161b7c6a150") {\n      ...MessageFullParticipant\n    }\n    metadata @recipeType(name: "com.linkedin.a2e0a7f4f881a95411a11b1746169343") {\n      nextCursor\n      prevCursor\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.be0e5acdecfe12dada0041f3d644cfa4") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.e545ef8a692fdb8327d2709264ebfd4c") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.cc4b819dfb194cebcca16bf20054c11f") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.ba4b30a74c5b7b374eff33e2ca40edbc") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.bb8b9f6bc8796ae251eca1334b3f092a") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.25d10cc18d63b33341d582fe22a4f5c9") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.d95b97c1b252a9dced9f0bd928cbb47c") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.9c282b4fb14f174ee0396ed27d7bc71d") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.61a744d51d12ffd69112108194fc687f") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.46db4b237275c1e711a115c0dcd987e5") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.4648a3db4eb9ec4da772a185f25f8175") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.5752fc5f1b14322b0051b8f0d8b0085d") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.df2207b7cb43b31871f4f29c25a7bbc7") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.d1285d9066b9c85c30f04b3704b6d0fa") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.f361d0d7a48d349833f078e3e38d18b6") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.ea116566e3091e00c76f1ca2aa202d09") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.877f5193c30eeb2edcc55a86e3ab3b92") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.108a437e3ab0dd42a62fc3d18a5b049a") {\n      firstName @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.07953e7472a7ac99ea930ee110846b07") {\n      name @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.36e35a3dd73fdcc7da4179fa0753362f") {\n      name @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.ac42a972ef433129aa59887db3ca001f") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.ac42a972ef433129aa59887db3ca001f") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.d5730cbdb9cc811036bf0600594dc0af") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.6e0874affec37686fc1ffe18acb84427") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.69f9292c0fe9f61cb473ab22f2993252") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.fe87cc8ab204f9214b9a188fe3e198fe") {\n      adUnit @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.fb5ab118dcb596bde9317540efa3e622") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.3837d7d46962c583a8a33e3356713ac7") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.ddbefd99ac6092b48411efd2914527aa") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.3837d7d46962c583a8a33e3356713ac7") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.26f2d3c87b875eec7ec44ded1e473e67") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.fc0da931c5a176942fd54e907f1582ae") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.9ec094e3def07911b4380a62c6d5abd5") {\n      country\n      extensions @recipeType(name: "com.linkedin.ca1e5e5c555d14ddcc7f52ba3f181dea") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.c7a42a56695951aafaa6d0705af4fcfb") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.5bb6c184f84002e76d9322702d47ae51") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.157ed49fda9e090b1ea1e629897a7005") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.9ef5cae49bcbd97d39774fc27a998d63") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.4757bf27c029dc4b9e9b890dae934909") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.c2d4c83a959dcb4b759f9037b54a0388") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.587bcc596204b389c9305679283b14f7") {\n    ...Participant\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.9d014ff494a179168acc7dbdcaac714d") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.87c9a9cd416518b3ae3ec7fa913beda9") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.ab643b2a910f8d01515e3de05ea3ed58") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.7aa5683921913aade8fa5c4519baa702") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.fe6a30e3187263cbe5e35ddaefad8057") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.7925b565d0d566800b8922aea3867f4a") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.60105a4be7268dcb47c025ca8d8a2ed7") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.b0d4ad02fc936b49872f65040e8bc08d") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.639ce822a6f22d98acc6ad69cac31ba7") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.9b5797921a5dfc2f612edaaeaca81f76") {\n      originalSender @recipeType(name: "com.linkedin.587bcc596204b389c9305679283b14f7") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.293e14ac29718d79e1c6e417d8f78cb2") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},deliveredAt:{type:"Long",isRequired:!0,kind:"Scalar"},countBefore:{type:"Int",isRequired:!0,kind:"Scalar"},countAfter:{type:"Int",isRequired:!0,kind:"Scalar"}},types:{}}}),nl=Ku({kind:"query",id:"messengerConversations.59fb5921b805987618eb19b426375d1d",typeName:"com.linkedin.2a7f21c8d98d18e3a6c802f0dd8d222d",name:"get-conversations-by-ids",source:'query getConversationsByIds($conversationIds: [String!]!) @recipeType(name: "com.linkedin.2a7f21c8d98d18e3a6c802f0dd8d222d") {\n  messengerConversationsByIds(messengerConversationsIds: $conversationIds) @recipeType(name: "com.linkedin.ea0ca8ae0158145afa86564919192206") {\n    ...Conversation\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.a5c2366e94678fa4e07fb9d0071575b4") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.e2c105c22c33e11df69a87b97fe9e6c9") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.39b36fe069d9848219c9cc8da60cf830") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.cd08a6957071c175673f38f8940c9900") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.032ed558567b54b1e4b608f3efbbf6da") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.963451af762cd092f1fd92fb99464320") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.a3bd3f5867b1277cb58b73e20ddbae88") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.1fd95451f0a7fb0e33f983671ba1418a") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.c8734b47faca5bddba8a78b7760aaadd") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.22650e98f182951259aa94c93545a09a") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.031579b3719a1e2effe3cacb8f5fce81") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.f7c85a4de7cde9c8bf03f5130b170fa2") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.7dbe4cb9011f7a05f44b7bb7b7698ba8") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.3d51fe0e0f8aecebb80748069fc288ab") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.f1e3d6ded8aa9a59e30c6c0255837530") {\n      firstName @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.1af67415b1fcedf1c55abbf24ce37c94") {\n      name @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.e03936aaee4f7145b8623f8b0882ee06") {\n      name @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.6c239bf7949c35b1ca0559ccbb29215c") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.65fe1b0695991a83fe42e5c54b26a7e6") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.e48ff5b94807782a785860f6062bfaab") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.25a5e21bab98c96b35b8397913f07722") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.0c5a19f04be34234ac632fdfb2397ef9") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.e48ff5b94807782a785860f6062bfaab") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationIds:{isRequired:!0,kind:"Array",type:"Array",innerType:{type:"String",isRequired:!0,kind:"Scalar"}}},types:{}}}),tl=Ku({kind:"query",id:"messengerMessages.7a5058893d8094e5d3924e7df23daad5",typeName:"com.linkedin.9103982cbb84a6713a12118e18d0aede",name:"get-messages",source:'query GetMessages($messengerMessagesIds: [String!]!) @recipeType(name: "com.linkedin.9103982cbb84a6713a12118e18d0aede") {\n  messengerMessagesByIds(messengerMessagesIds: $messengerMessagesIds) @recipeType(name: "com.linkedin.24fec6c115dc2376d7f1259d2d4e9b60") {\n    ...MessageFullParticipant\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.b88991ca28b25d8fbe90d418eba9110d") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.abdfbe52a4031b28166c3434611b3908") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.c27915a130c0fd1b1a5a8d92384a424d") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.dbd9eeaf4309b1d845a453711f6f3385") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.43a1351caefb875a9b4f2111718268d6") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.bdb371497789d407130716b1aa498e45") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.79f78613aee3c8bf5f147311cc98f57b") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.c4bbc598411f10bea1cc94b708c34532") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.7544a42045552f65c45bb5e461f752b2") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.fd67fdf5c1fd1f257e7bab4322e0474e") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.a85837fd52ced308ca0434207f87e7b6") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.787332bee7aa54108b8d9bd35398d6b4") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.744649eff5248732b730f40038f2af5b") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.a279bbdaace9f55cc8c3c3d181e06e3c") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.f91b7b7db4b46407d8d459f62827ef8b") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.9b7062a00c73f1c760a9bf281197eb1d") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.d697276641563f1c03e6516f96e4bab7") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.cbeee87e5a8212d1b1d407b54643db8e") {\n      firstName @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.7ca82510df09ed627e68dbd920b650db") {\n      name @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.c5394f561e6e8c892529190b9b9352b3") {\n      name @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.7c0808c980cdf5aa49825105ce942786") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.7c0808c980cdf5aa49825105ce942786") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.39f3cb692930844ac0e47f433443e3b9") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.1f95d7e097ee45caf1e35991a4f7afcc") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.0488301023ad3caf5355df0255a1bd97") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.0506d10e5658bb2c9388e384ce60b919") {\n      adUnit @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.d90cf7e1b549baf88350c022e227e78b") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.8bdd2a56e7ec43bae4be1faa18100b86") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.398fe6f97c6a92438a4f23e308563ac4") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.8bdd2a56e7ec43bae4be1faa18100b86") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.9d76c81800a32e544faa1578ddf0dae6") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.475a60b6fe4475d404f1d4ab806fcf86") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.59ccc09dbc88e01813b5ca5bfd2ffb99") {\n      country\n      extensions @recipeType(name: "com.linkedin.765d1e65732f271210f3041ade1e6789") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.415f65893da8debc307a87dc1e562d36") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.9b085a5c610dc8c5605e02873030a3b2") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.171eef35654376c9f06fdeb0de45dbbc") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.39a8f11753f13d4584ba989adde49128") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.4e70e26d7717a5f13a06c156164b0280") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.bfc154492e22aeeeac8169c16b4ae4c9") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.79dea4c365f8b2c222886b8705c5d08a") {\n    ...Participant\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.ecd702b2d7096486eb6d6512b6219524") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.5c6b808b751c4fecbec5418d01bc1836") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.b5a34ef6ddbc301bd3619d0dc8019d42") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.7898ed5c6812f922a32cd971545f41b3") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.fdbcbc95fce14de761dd569daef9593d") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.30c6fff7ec68b00e4382a144677963cd") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.314857d258eb29b44fe3ae757a702270") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.60e803f8de4e001688e546440584a773") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.276601c4dfe3e30f3f3c951390af969a") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.008c4c2e62e7622dc434acf77268f21f") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.04d6b37cfcfff47aed2a83d3fef38482") {\n      originalSender @recipeType(name: "com.linkedin.79dea4c365f8b2c222886b8705c5d08a") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.c99a94c5ac2a664edef4f041f3b8afeb") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.5ecb2d6a2731030ade3f8106f16bd98f") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{messengerMessagesIds:{isRequired:!0,kind:"Array",type:"Array",innerType:{type:"String",isRequired:!0,kind:"Scalar"}}},types:{}}}),rl=Ku({kind:"query",id:"messengerMailboxCounts.fc528a5a81a76dff212a4a3d2d48e84b",typeName:"com.linkedin.7455e0e579fcb3a34f96eb0eefe7a411",name:"get-mailbox-unreadcounts",source:'query getMailboxUnreadCount($mailboxUrn: String!) @recipeType(name: "com.linkedin.7455e0e579fcb3a34f96eb0eefe7a411") {\n  messengerMailboxCountsByMailbox(mailboxUrn: $mailboxUrn) @recipeType(name: "com.linkedin.53337f34a47b3c672713f3ba35605146") {\n    elements @recipeType(name: "com.linkedin.47d6db71cf3196fbd94e1d63c2031539") {\n      category\n      unreadConversationCount\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),il=Ku({kind:"query",id:"messengerQuickReplies.4338d226319203b5b08920ab7621fa45",typeName:"com.linkedin.4c7816368899aefc0404a81a21b89aad",name:"get-quick-replies-by-conversation",source:'query GetQuickRepliesByConversation($conversationUrn: String!) @recipeType(name: "com.linkedin.4c7816368899aefc0404a81a21b89aad") {\n  messengerQuickRepliesByConversation(conversationUrn: $conversationUrn) @recipeType(name: "com.linkedin.b6e858f35d83d6cf5dfa51c1f4e9cf33") {\n    elements @recipeType(name: "com.linkedin.97e0c984dad39a9337fa7f8a08b5bb2c") {\n      ...QuickReply\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.9530dd0266c5e3dfdd2d57398081b9ba") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.9d302f859c4add9e1a2b277a07e5e2bc") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.a47efe23ef54dcfffbae34d2714a7709") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.814d6a3abc3892b25d5efeda1dfdb21b") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.079f490924ce9ea0a2e300c8b005f125") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.323f1daea090cebaa7394cb723af7f64") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.987bbc542a2213455845aa9cd0aa823c") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.a68b6f013115bc3c9f99e7643ee1958f") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.accbc6f97f0585bc2766916e8dfd3abf") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.5eba473fa8c633e37c165ba147eac5bf") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.a91704e48ba8e5816c625494c2f97e48") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.c8fcea02494286c36cdd22ccc61fb32b") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment QuickReply on messenger_QuickReply {\n  displayText @recipeType(name: "com.linkedin.407cdcf10dddee1f9ee388bf65c637e6") {\n    ...AttributedText\n  }\n  message @recipeType(name: "com.linkedin.61b815121b717e1b355148c7cffbce70") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  objectUrn\n  prefillText @recipeType(name: "com.linkedin.407cdcf10dddee1f9ee388bf65c637e6") {\n    ...AttributedText\n  }\n  quickReplyType {\n    type\n    customType\n  }\n  trackingId\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),al=Ku({kind:"query",id:"messengerMessagingParticipants.6a6059be0cc8bfe3b829c850366d1fe4",typeName:"com.linkedin.17d2b5b00f250b93fa250e00473c98a2",name:"get-reactors-by-message-and-emoji",source:'query getReactorsByMessageAndEmoji($messageUrn: String!, $emoji: String!) @recipeType(name: "com.linkedin.17d2b5b00f250b93fa250e00473c98a2") {\n  messengerMessagingParticipantsByMessageAndEmoji(\n    messageUrn: $messageUrn\n    emoji: $emoji\n  ) @recipeType(name: "com.linkedin.f808af31529de4c2c4abd0976d7bcfaa") {\n    elements @recipeType(name: "com.linkedin.fa6606f7f339c4a8571ac9043f664f4b") {\n      ...Participant\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.30426cc31a0002f3526931f9b04d7a2c") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.92edcfdf0a2c55c82fac4f52136f2277") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.4c69a590d6bc461dd9ba423c5a7295b2") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.5e529d741267fbcfd8d758446609293d") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.d6ae29dada06ce0c9022ffd1bdbcf0f5") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.1630188842f9c02068e6b3d3c8759d8e") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.e1ac93598c33825817ae2d22ab66a34c") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.aa6aa1d53b0ef47e7626fcc03c76c0d5") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.717d4681d555c659ed7a3a52fe4cf8ed") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.a106ec2c8d753f89d77776bff2253dcc") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.a5ef24120169ecc1af0d004f4155c3ef") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.5f0afe1fb5e10f3bd70e3076aa777924") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e3a8be2a344d7a4cb105ac0117852d9b") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.b42f4e2270bfbce9ad6c2d81a686d5ed") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.f5afbea91d7f182d4f9fa71aae797789") {\n      firstName @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.30d979b6847245f55adfe80ebcc52b24") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.1b19a2135e616984e3517477d48289f3") {\n      name @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.30d979b6847245f55adfe80ebcc52b24") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.fb7f16d6ad24fc071e8e4c9a507d1a4c") {\n      name @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.30d979b6847245f55adfe80ebcc52b24") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{messageUrn:{type:"String",isRequired:!0,kind:"Scalar"},emoji:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),ol=Ku({kind:"query",id:"messengerSeenReceipts.15417b08a7230a8c0de682635d1fa848",typeName:"com.linkedin.33851ce67c1a444c09e057014b5c4d81",name:"get-seen-receipts-by-conversation",source:'query getSeenReceiptsByConversation($conversationUrn: String!) @recipeType(name: "com.linkedin.33851ce67c1a444c09e057014b5c4d81") {\n  messengerSeenReceiptsByConversation(conversationUrn: $conversationUrn) @recipeType(name: "com.linkedin.610dc666c5c0bd249902fc4a6e29137d") {\n    elements @recipeType(name: "com.linkedin.f2277acfd7c0704a70201139df579a65") {\n      ...SeenReceipt\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.c521d0834988414cb543494eff1defa8") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.f513b47df8c0ff6632ad0cc6e5123ebd") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.48242b0d0c19cbd10a9c27e5146a605c") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.eaf33696dfedf327ee1b3eb79b41200d") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.104498b8848142b8dcdaa5be37aedb4d") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.ccef7b4aabce99014e8de62c834d3365") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.8356230738038667e9e81ce3f2af228a") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.64eeb4db61c989c19f2d0742f4e13511") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.e057e3072c193e04323ff658a6d277c8") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.3a614eefd18e324ebee546b84786adb9") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.92c7f66d7ef276b12852a8f360a337b7") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.3b5950e1cbcc19255c56ebb11566314b") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.6b36e9ed4db8e3d415c01840cec60622") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.e7979b3d0486a3852e5c295c954c551b") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.9623b7f05521f9e416e4aa0e8fd3d9ae") {\n      firstName @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.7425e7cb63a718d023074f06d27eba3b") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.b7042771447567c33cd352afd4d46456") {\n      name @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.7425e7cb63a718d023074f06d27eba3b") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.57e7c3e516f17ecd0668b1133e8f358f") {\n      name @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.7425e7cb63a718d023074f06d27eba3b") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment SeenReceipt on messenger_SeenReceipt {\n  message @recipeType(name: "com.linkedin.dc3ad25c62e56a24aa27aa71fac75dcf") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  seenAt\n  seenByParticipant @recipeType(name: "com.linkedin.29bd4036bc585aa87377842ee2563fb2") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),sl=Ku({kind:"query",id:"messengerConversations.2782734f1f251808c1959921bd56a2e4",typeName:"com.linkedin.bc13e1b1426cc03e36eab503d342cabe",name:"initial-sync-conversations",source:'query initialSyncConversations($mailboxUrn: String!) @recipeType(name: "com.linkedin.bc13e1b1426cc03e36eab503d342cabe") {\n  messengerConversationsBySyncToken(mailboxUrn: $mailboxUrn) @recipeType(name: "com.linkedin.c4d40619b988a313e6dbd442876520d5") {\n    elements @recipeType(name: "com.linkedin.e0457b8b4985e4e141d2bd624526db5a") {\n      ...Conversation\n      messages(count: 1, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.2fd852a9be7c7d3602803db62bded474") {\n        elements @allOrNothing @recipeType(name: "com.linkedin.7f5095a72b369d7ce1483bdfc62ee3e0") {\n          ...MessagePartialParticipant\n        }\n        _recipeType\n        _type\n      }\n    }\n    metadata @recipeType(name: "com.linkedin.6614bca623fc9720b29edae666a9bdb4") {\n      newSyncToken\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.adae398a316afc92d9372666e5da2b7d") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.381a4569be39fc83e21c406f0337b620") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.be4dc8a825294ba651235e4629a3404e") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.9b949b440138d45d2f931879b66187c9") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.a4b572cbcce10658bd90feee6736182f") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.14ea4bb04f4abe63f83e2bc9f36f7abe") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.a696eef5f5d40723095820da042f0287") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.15f11baf4bf3e61a26d61843a47eae67") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.34dd0dcbc21fe095004daa39964cc858") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.2a4bd6f512c36c102e60d42a8726fe61") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.54de8e51102bb201fc1b831d17a81d96") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.70fab14b53c2a72345b27c970c804bd2") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e33a796e937400f974133f8fb6b41e9b") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.75fd15a735d1668ef83e7e6921847f56") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.7eb3a14326aeb4c8c16f24e1979ffe01") {\n      firstName @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.629151bbc2a2b8bde6b327b528766d45") {\n      name @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.aa5278b3b55df5dcc2255a69addddc1e") {\n      name @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.ca1e81b79e7b59bfd3fd25d991a977ae") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.c9ee5cbbe28e24c3c5d9c44f591b7515") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.a2ca2658a10f32cd19074ed775ec6243") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.1c1b542988ebe7ed2a1850a4dc1bbadc") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.a8accbabea9e3c49fca55bf4f5fc610f") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.62100cc3671b2a7952cdf70d774f0c16") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.e0457b8b4985e4e141d2bd624526db5a") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.d92301af8ae432c6a325c67221130182") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.d92301af8ae432c6a325c67221130182") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.ca1e81b79e7b59bfd3fd25d991a977ae") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.c9ee5cbbe28e24c3c5d9c44f591b7515") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.27e4004b3e4d690d33de889202ae5924") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.eb76a49e634a1e9a69ac4c956e935846") {\n      adUnit @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.61bf78953251fbd484afea91d3281c15") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.e133fb8d9410f731252f6f8545875260") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.105290335920ffad003a428431f0a07d") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.e133fb8d9410f731252f6f8545875260") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.ac491e5455a5b4f9bfa0ccf930ef7c49") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.6ad3ab8d5637607a196f6d574ad232c8") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.56948b02e64819b381226994b017f605") {\n      country\n      extensions @recipeType(name: "com.linkedin.8d5cb24a2a625a497d43832a952adbb3") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.feb8f633df71861fcb35a7457a18b442") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.e7e07cf52d05ed52f2a0d6b81646d262") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.c96be118330697a4f65f984bb931b08b") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.8156b60527a213a678bd967456d241b1") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.3bb2afacaffe5eeddedb11a560bb7aac") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.cc640a0bc692dcdaf424217677e95eda") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.d98db434d0bedd33bd439eb153f15c23") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.8c293ff9011b1cd87e91a9f6125c4808") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.5678e7f72a1365bc64e9b97e88f2caf5") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.a3d4d34ad04210655af3c5b561eb2ec9") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.dae3f372acbf89bff4028183a1d3d01b") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.0dbd2db1ff294a149ae39c304fc92c26") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.9985fd78c330eed7474c708294217351") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.5525505b2253ea794bd1c27d81a3f8cf") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.01a37a45120d8d9a82831780d024df16") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.e81ed10998a09fe6281c751c3e45da6d") {\n      originalSender @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.d380b136bf1bc618c26b73dc99001e93") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),cl=Ku({kind:"query",id:"messengerConversations.33c5bfbf15b112da638fee15f77f5e33",typeName:"com.linkedin.2a25dae6962f40be897d5ffe00289c5c",name:"mark-all-conversations-as-read",source:'query MarkAllConversationsAsRead($categories: [String!]!, $mailboxUrn: String!) @recipeType(name: "com.linkedin.2a25dae6962f40be897d5ffe00289c5c") {\n  doMarkAllConversationsAsReadMessengerConversations(\n    categories: $categories\n    mailboxUrn: $mailboxUrn\n  ) @recipeType(name: "com.linkedin.b487f4883be20a28b2aa5907ae18fc9d") {\n    result @recipeType(name: "com.linkedin.755f5f21dbfd545773568b4bb322b73a") {\n      ...MarkAllConversationsAsReadResult\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MarkAllConversationsAsReadResult on messenger_MarkAllConversationsAsReadResult {\n  allSynchronouslyProcessed\n  _recipeType\n  _type\n}',variablesTypes:{properties:{categories:{isRequired:!0,kind:"Array",type:"Array",innerType:{type:"String",isRequired:!0,kind:"Scalar"}},mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),dl=Ku({kind:"query",id:"messengerConversations.09c6b668943338d1fa0dea217ac50565",typeName:"com.linkedin.13baefbc2d95f2e6498312456b544fc4",name:"sync-conversations",source:'query syncConversations($mailboxUrn: String!, $syncToken: String) @recipeType(name: "com.linkedin.13baefbc2d95f2e6498312456b544fc4") {\n  messengerConversationsBySyncToken(\n    mailboxUrn: $mailboxUrn\n    syncToken: $syncToken\n  ) @recipeType(name: "com.linkedin.7a0e6dc56c290d2fef8307054ef628e9") {\n    elements @recipeType(name: "com.linkedin.d0131ba388bd4c274ad89836c477955c") {\n      ...Conversation\n    }\n    metadata @recipeType(name: "com.linkedin.a15242ac776cda2233f011e562abeaaa") {\n      ...SyncMetadata\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.686d9d1ed551117f94c5c18320822486") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.ede146e2a194f51503310066fc058654") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.e5c5349791ff8f20cac26f5d4269aa10") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.6c72b46c06253f9f7e713ee1c93ae444") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.bfecdd43f8a76f54e395909400b3a47e") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.bbff3f0fc66c615b5067ffe7bdc86dcd") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.2d59b6c40fe50dfc0ac0b64f317f23d3") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.0e6524ca57f62ca508a3032da64037fa") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.6bcb9fbf33d4ce137db4354209631166") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.468ac349c18b45e14ec4f937e0dee6c8") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.a5c90d2abc284f2e8b735892dd061818") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.1d26b548f4e5b5288ef95723643d298a") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e2f3217dde3d4432038a1eb1c50606d0") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.3f007f728d032797f2c8875114902308") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.059980bd802789beb784a8f9a9b69137") {\n      firstName @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.173c2f2f123b97f4bb2543e42641c281") {\n      name @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.d6b31717df9125f818b1a1977d5b0653") {\n      name @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n    ...VectorImage\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.bc706a4c6c31ae1ed601f0f95c2f968f") {\n    ...CreativeAdsReportingInfo\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.fec70614c7cf7cbb8e0fd6c57e2c8f6d") {\n    ...SponsoredMetadata\n  }\n  _recipeType\n  _type\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n  }\n  state\n  groupChat\n  incompleteRetriableData\n  creator @recipeType(name: "com.linkedin.239fa054f2ae27d6d786746a5efe7fff") {\n    ...Participant\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.9d0a578a8c22b128956e58f44b165468") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.8340383189efb90020d96ae3d569b834") {\n      ...ConversationAdsContent\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.239fa054f2ae27d6d786746a5efe7fff") {\n    ...Participant\n  }\n  _recipeType\n  _type\n}\n\nfragment SyncMetadata on messenger_SyncMetadata {\n  deletedUrns {\n    conversation @recipeType(name: "com.linkedin.d0131ba388bd4c274ad89836c477955c") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    message @recipeType(name: "com.linkedin.bd421aef6356c2da052bef9b3c2a3674") {\n      entityUrn\n      _recipeType\n      _type\n    }\n  }\n  newSyncToken\n  shouldClearCache\n  _recipeType\n  _type\n}',variablesTypes:{properties:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},syncToken:{type:"String",isRequired:!1,kind:"Scalar"}},types:{}}}),ul=Ku({kind:"query",id:"messengerMessages.8d15783c080e392b337ba57fc576ad21",typeName:"com.linkedin.c38c518a13ae3dfabbd000dba2c1323a",name:"sync-messages",source:'query SyncMessages($conversationUrn: String!, $syncToken: String) @recipeType(name: "com.linkedin.c38c518a13ae3dfabbd000dba2c1323a") {\n  messengerMessagesBySyncToken(\n    conversationUrn: $conversationUrn\n    syncToken: $syncToken\n  ) @recipeType(name: "com.linkedin.b3fb020d7a62182dcf15004c87ed6684") {\n    elements @recipeType(name: "com.linkedin.9a4948e0045f59eb49ee971c440d4e31") {\n      ...MessageFullParticipant\n    }\n    metadata @recipeType(name: "com.linkedin.511454cd272357b3e0558c5dac215b69") {\n      ...SyncMetadata\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.91a2d9e032fa053fe3e1f7eb8b8fb33a") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.465a32a11b07f3705fb16e61cce0b255") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.76f7d68a0b8e0fb4ea4694c56eb8d254") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.c622780354d9de02db8b521c3b0b7589") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.4044504975886ef020cfb369ea9250af") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.085d08f078b2e521c7173cd2c66b37c4") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.b9a402848439cea2c3fc3a80b6df14e1") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.67b4cbbed8d4f59d0731330356a63c9f") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.8ba6d525a8f41d7dc36bcad232dea273") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.06e27543dfb2a7dfaf492c6f69cd9501") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.c3f280f743f59957949667e621ccec8d") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.eafe8089647b6274ef230c4d4f4f0564") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.eccc411590cd40efb6a30363c2a4f6b7") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.f0b7db6037d7be0d51d3ef9f7a8532f0") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.45234f48bb281d0b04e9cd2ee2d88237") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.4e78982efcd19a00e60e23cb18452cb3") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.71cc3c87a83e8848faa739599dff2495") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.a9535f2b6c53c4b69a1dd57697b6de6e") {\n      firstName @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.9dc58bc555360d8643835a6506cbbcc8") {\n      name @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.054f7f9a6b88e95a0912a84064b97b08") {\n      name @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.4d35eb62cdac5ece15f151b81b23bc6a") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.4d35eb62cdac5ece15f151b81b23bc6a") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.1fd72fe3f101c7912879e714fee028aa") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.5b6fc58175860d41ec0ed71f29c97de7") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.41b59b4ac9866b7de43f6c530c298847") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.4bf87417853a73e6a5bed863ba8f114d") {\n      adUnit @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.d421cf79bd9513a768a0122b5572b9f2") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.b75dd201eeaf5a8a40101e283425458d") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.10d654a93349bcf0b7bd45dcea5d51ae") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.b75dd201eeaf5a8a40101e283425458d") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.0495f491608a2d920cecbb2193a29027") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.82dbc40d6a3cba3fa1ea02f713edc992") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.d42c8e81889d9c20b35a2959473d5a4e") {\n      country\n      extensions @recipeType(name: "com.linkedin.106a55544243c43a15d8a3b7247ba907") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.232a58fec9a34ff9d644a27921895969") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.d8130aaee573edd751fc3ce23bba2ba1") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.0f36502a4b30f3736241f333a711d363") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.b30c79a1f13823f96ba29550dc25ad1b") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.64613929601e16b00a6f50c3a14f8489") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.c04631db04ec3f812f916286bcd78313") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.8e75e1b6100649895f69cf66c6e25b20") {\n    ...Participant\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.25e9ea6346fdbd78900ed1c1f090abf4") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.d1b4ff7165007ffd58e7daa04e91dc83") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.f6f94f97f4b492ea82eac78e8b78c90e") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.dee5494b0db49133c0ce4fbbe1028e2a") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.8fc568c3b0a4f8b6d43e85cb2e31f8bf") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.6d3caf68e88606ee9a78df95da083903") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.bd4d498efdc59d6464579320e78c71f2") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.f5714b7ef519213cce06f2e65eeed6e6") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.6dd14eac60d40cd25525b7101e0e9724") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.17a472afaec91a855b119a4c0e9cbc17") {\n      originalSender @recipeType(name: "com.linkedin.8e75e1b6100649895f69cf66c6e25b20") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.1383f18c83262c749cfc543836f7fc8a") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment SyncMetadata on messenger_SyncMetadata {\n  deletedUrns {\n    conversation @recipeType(name: "com.linkedin.45234f48bb281d0b04e9cd2ee2d88237") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    message @recipeType(name: "com.linkedin.9a4948e0045f59eb49ee971c440d4e31") {\n      entityUrn\n      _recipeType\n      _type\n    }\n  }\n  newSyncToken\n  shouldClearCache\n  _recipeType\n  _type\n}',variablesTypes:{properties:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},syncToken:{type:"String",isRequired:!1,kind:"Scalar"}},types:{}}}),ll=Ku({kind:"query",id:"messengerMessages.fe184db152ac438d5712285c5b06cafe",typeName:"com.linkedin.d517c530e9e9e6efa128b8e0e66d8226",name:"sync-messages-by-convo-id-in-batch",source:'query getSyncMessagesByConvoIdInBatch($criteria: [messenger_MessagesFindBySyncTokenCriteriaInput!]!) @recipeType(name: "com.linkedin.d517c530e9e9e6efa128b8e0e66d8226") {\n  messengerMessagesBySyncTokensInBatch(criteria: $criteria) @recipeType(name: "com.linkedin.f9a792d78ca98d67382ae32f4f9cefe9") {\n    elements @recipeType(name: "com.linkedin.3534d423e1e266c870d53cda731136a5") {\n      ...MessageFullParticipant\n    }\n    metadata @recipeType(name: "com.linkedin.a2a48a5f0eedcac77801c6a5f37422ab") {\n      ...SyncMetadata\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.782b0c7286719fedf9957cfbd85363aa") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.1bfd7f5e4ec38bb6502ddef8a60260fc") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.1b8ef43cf021903c28bbeeaa99038ec8") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.50e5b5012fd5216da33dcf69c35fadc2") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.27f753bd8e5ab72b4c9cf9976a60f61e") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.a0df47daad321ae7a54e5fa9a403b9dd") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.2f94b0c2b10f1d6e873cf4743abc5692") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.414ae77309e918fe9d357fddbae49cc1") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.982779de2dfdf62592eadff32ffbe429") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.83d5cb314abbfc47c8c2d497866013ce") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.640da236512d63227a1b19e60cac628f") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.a65a350fbf1d4be74450b4d58ed6866b") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n  _recipeType\n  _type\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n  }\n  footer @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n  }\n  incompleteRetriableData\n  inlineWarning @recipeType(name: "com.linkedin.7189689d0c3f7d45b6f23427485c2bbd") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n      ...AttributedText\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n      ...AttributedText\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.51341effca62deeb3af211b14b7c0193") {\n    ...ReactionSummary\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.0d8ff88970ef6ffa8a6bcf6a5804f7e4") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.d5f76b69247e45d5f2367725625ce659") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.fdfc8ce7a273bff80d1d5b4338cff02e") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n  _recipeType\n  _type\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.fa771270df50f4c8342710233b15830a") {\n      firstName @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      lastName @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      headline @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      profilePicture @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.4f4e1faa3ba9eb2e3d60c798c5b24dc9") {\n      name @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      tagline @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      logo @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n      }\n      industryName @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      following\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.a129493e9d2a25c8929b4879a10be2ed") {\n      name @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      image @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n  _recipeType\n  _type\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n  }\n  text @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n  }\n  _recipeType\n  _type\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.3ce159846977e249e2279cfd56e70e3b") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.3ce159846977e249e2279cfd56e70e3b") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n  _recipeType\n  _type\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n  _recipeType\n  _type\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.761a2c6e0d05a4036ebfcf428a1384c2") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.6c4cdd5bf165b44000028b41b43832d5") {\n    ...SponsoredMetadata\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.64e6d609b1b585ae174e292c10f84ee3") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.c5b3e8fb88889ee77ec03fe3494e35d5") {\n      adUnit @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.a9a5875e22303c042d4f9c00eabd58b8") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.7ce0e208fc65f7f558d3d6d24b7035c6") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.d5eefd150d0fd7c240fcc73e81609255") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.7ce0e208fc65f7f558d3d6d24b7035c6") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n    ...VectorImage\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.adc1c2497cb3562cedd916fe7153f242") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.0879e6ae5a83e72217a572d0c3a4dc9b") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.e3d5652fa4c5185ea563784361520492") {\n      country\n      extensions @recipeType(name: "com.linkedin.e9c15d66cac66b0a284221167c0b05d8") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.26fbe7af56f471221c53fc613495481a") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.28793b47fb741bdc484cd5667dc46ab8") {\n    end\n    start\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.d610f549f9195397d29296c503de2349") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.6c31f1578aa7f079a193fafeb7568532") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.c575890a7cb0edc35833067dbdaf7899") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n      ...AttributedText\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.39a58a60ca0eba04af9009331df953e5") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.7191db3f68aa678cca83f1d52c3e478a") {\n    ...Participant\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.b9b02ed9c59c3183529f7802d0caad11") {\n      ...AudioMetadata\n    }\n    awayMessage @recipeType(name: "com.linkedin.b18cfc1eebb1d9c93b20c40f9465c610") {\n      ...AwayMessage\n    }\n    externalMedia @recipeType(name: "com.linkedin.35815160edef928290f8790250961350") {\n      ...ExternalMedia\n    }\n    file @recipeType(name: "com.linkedin.68f0f70808d2a5572259dd6024e2fae2") {\n      ...FileAttachment\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.6972d7aae92d743baff7478009d73eed") {\n      ...MessageAdRenderContent\n    }\n    vectorImage @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n      ...VectorImage\n    }\n    video @recipeType(name: "com.linkedin.0894306231bd12f14b5e90dd5bf17888") {\n      ...VideoPlayMetadata\n    }\n    videoMeeting @recipeType(name: "com.linkedin.1a531c8ee7a98bf9397df570641dafb4") {\n      ...VideoMeeting\n    }\n    hostUrnData @recipeType(name: "com.linkedin.58482ad6e40391d512e37ff73733e337") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.19ffdb9a3911183a033678d1784169fb") {\n      ...ConversationAdsMessageContent\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.11a42b0fe31f4e10f96d7d6a9d04387e") {\n      originalSender @recipeType(name: "com.linkedin.7191db3f68aa678cca83f1d52c3e478a") {\n        ...Participant\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      footerText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n    unavailableContent @recipeType(name: "com.linkedin.3cec67c0c234b30655be1c4893f7bcd4") {\n      contentType\n      unavailableReason @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n      }\n      _recipeType\n      _type\n    }\n  }\n  _recipeType\n  _type\n}\n\nfragment SyncMetadata on messenger_SyncMetadata {\n  deletedUrns {\n    conversation @recipeType(name: "com.linkedin.0d8ff88970ef6ffa8a6bcf6a5804f7e4") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    message @recipeType(name: "com.linkedin.3534d423e1e266c870d53cda731136a5") {\n      entityUrn\n      _recipeType\n      _type\n    }\n  }\n  newSyncToken\n  shouldClearCache\n  _recipeType\n  _type\n}',variablesTypes:{properties:{criteria:{isRequired:!0,kind:"Array",type:"Array",innerType:{type:"messenger_MessagesFindBySyncTokenCriteriaInput",isRequired:!0,kind:"Object"}}},types:{messenger_MessagesFindBySyncTokenCriteriaInput:{kind:"Object",type:"messenger_MessagesFindBySyncTokenCriteriaInput",fields:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},syncToken:{type:"String",isRequired:!1,kind:"Scalar"}}}}}}),pl=Ku({kind:"query",id:"messengerMailboxRealtimeSubscriptionAuthorizationTokens.94f4ea3e0da0f831ddcf8dfdda7bf509",typeName:"com.linkedin.606462b788cb71b5e1a280f01897a453",name:"realtime-subscription-auth-tokens",source:'query realtimeSubscriptionAuthorizationTokenByMailboxUrnsInBatch($mailboxUrn: String!) @recipeType(name: "com.linkedin.606462b788cb71b5e1a280f01897a453") {\n  messengerMailboxRealtimeSubscriptionAuthorizationTokensByMailboxUrnsInBatch(\n    criteria: [{mailboxUrn: $mailboxUrn}]\n  ) @recipeType(name: "com.linkedin.0c346eec32dce42e0ac0e72ad5dcda02") {\n    elements @recipeType(name: "com.linkedin.dc035023eba03da4fb2704f0575e1c88") {\n      mailboxUrn\n      token\n      conversationsBroadcastTopicUrn\n      conversationDeletesBroadcastTopicUrn\n      messageReactionSummariesBroadcastTopicUrn\n      messageSeenReceiptsBroadcastTopicUrn\n      messagesBroadcastTopicUrn\n      messagingProgressIndicatorBroadcastTopicUrn\n      replySuggestionBroadcastTopicUrn\n      typingIndicatorsBroadcastTopicUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}',variablesTypes:{properties:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}},types:{}}}),fl=function(){return dc()},hl=function(e,n){if(!e||"query"!==e.kind){var t=ba.CANNOT_QUERY_FRAGMENT
throw new Aa("graphql",t.code,t.message)}var r={}
"full"===n.queryFormat&&e.source?r.query=e.source:r.queryId=e.id
for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o]
var s=a[0]
return r.variables=s||{},Fu("graphql",n.messengerResource,"graphql",r)}
function ml(e){return function(n){var t=function(e){return Gu.get(e)}(e)
if(!t)throw Aa.fromGraphQLErrorMemo("GRAPHQL_INVALID_LOOKUP")
var r=zu(t)
return hl(r,n,arguments.length<=1?void 0:arguments[1])}}var yl,gl=ml(Ju),vl=ml(sl),bl=ml(rl),Tl=ml($u),_l=ml(Yu),El=ml(Xu),Sl=ml(nl),Cl=ml(tl),Al=ml(Zu),kl=ml(el),Il=ml(ol),Rl=ml(dl),wl=ml(ul),xl=ml(ll),Ml=ml(cl),Ol=ml(al),Nl=ml(il),Pl=ml(pl),Ul=function(e){return Fu("restli",e.messengerResource,"messengerMessages",{action:"createMessage"})},Dl=function(e){return Fu("restli",e.messengerResource,"messengerMessages",{action:"createMessage"})}
yl=Symbol.iterator
var Ll,Fl,Bl=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
o(this,e),d(this,"_idx",0),d(this,"_messages",[]),d(this,"_clientIdIndex",new Map),d(this,"_entityUrnIndex",new Map),this._messages=Ha(n),this._clientIdIndex=new Map(n.map((function(e){return[e.clientId,e]}))),this._entityUrnIndex=new Map(n.filter(S).map((function(e){return[e.entityUrn,e]})))}return c(e,[{key:"length",get:function(){return this._messages.length}},{key:"at",value:function(e){if(e>=0&&e<this._messages.length)return this._messages[e]
throw new Error("Index out of bounds")}},{key:"getByIdentifier",value:function(e){return Y(e)?this._entityUrnIndex.get(e):this._clientIdIndex.get(e)}},{key:"next",value:function(){return this._idx<this._messages.length?{done:!1,value:this._messages[this._idx++]}:(this._idx=0,{done:!0,value:null})}},{key:"first",value:function(){try{return this.at(0)}catch(e){return}}},{key:"last",value:function(){try{return this.at(this.length-1)}catch(e){return}}},{key:yl,value:function(){return this}},{key:"map",value:function(e){return Array.from(this,e)}},{key:"updateAny",value:function(n,t){return new e(k(n,t,this._messages))}},{key:"updateByUrn",value:function(n,t){return this._entityUrnIndex.has(n)?new e(k(Na(n),qa(t),this._messages)):this}},{key:"updateByClientId",value:function(n,t){return this._clientIdIndex.has(n)?new e(k(Ua(n),qa(t),this._messages)):this}},{key:"add",value:function(n){var t=this,r=n.filter(vo(O,Ja(this._entityUrnIndex,this._clientIdIndex))).map((function(e){return t._clientIdIndex.has(e.clientId)?i(i({},e),{},{clientId:fl()}):e})),a=n.filter(Ja(this._entityUrnIndex,this._clientIdIndex)).map((function(e){return qa(e)(t.getByIdentifier(e.entityUrn||e.clientId))})),o=new Map(a.map((function(e){return[e.clientId,!0]}))),s=this._messages.filter((function(e){return!o.has(e.clientId)}))
return new e([].concat(v(s),v(a),v(r)))}},{key:"removeByClientId",value:function(n){var t=this._messages.filter((function(e){return e.clientId!==n}))
return[this._clientIdIndex.get(n),new e(t)]}},{key:"removeByUrns",value:function(n){var t=this._messages.filter((function(e){return!e.entityUrn||!n.has(e.entityUrn)}))
return new e(t)}}]),e}(),jl={continueOnFailure:!0,convCount:20,decorators:{},enableParameterTypeChecks:!0,experimental:{},graphQlQueryIds:{},headers:function(){return{}},mailboxType:"auto",messengerResource:{host:"/",path:"messenger/api/",graphQLPrefix:"",restliPrefix:""},mpName:"web-messenger-data",mpVersion:"1.0.0",msgCount:20,queryFormat:"id",realtimeHost:null,sendRetryTimeoutInSecond:16,syncRetryTimeoutInSecond:80,typingIndicatorDelayInSecond:5,useRealtime:!0},ql=function(e){return e?e.filter(S):[]},Vl=function(e){var n,t,r,i,a=new Date
return{additionalData:e.additionalData||null,backendConversationUrn:e.backendConversationUrn,backendUrn:e.backendUrn,clientId:null!==(n=e.clientId)&&void 0!==n?n:fl(),content:e.content,deliveredAt:e.deliveredAt?new Date(e.deliveredAt):a,entityUrn:e.entityUrn,footer:e.footer,inlineWarning:null!==(t=e.inlineWarning)&&void 0!==t?t:void 0,incompleteRetriableData:null!==(r=e.incompleteRetriableData)&&void 0!==r&&r,lastActivityAt:a,messageBodyRenderFormat:e.messageBodyRenderFormat||"DEFAULT",optionalSendData:null!==(i=e.optionalSendData)&&void 0!==i?i:{renderContent:[]},reactions:Hl(e.reactions),retries:e.retries||0,senderUrn:e.senderUrn,status:e.status||"Pending",subject:e.subject}},Hl=function(e){return(e||[]).filter(S).map((function(e){return i(i({},e),{},{reactors:[]})}))},Gl=function(e){var n,t,r,i,a,o,s,c,d,u,l,p,f
return{backendUrn:e.backendUrn,categories:e.categories,contentMetadata:null!==(n=e.contentMetadata)&&void 0!==n?n:void 0,conversationTypeText:null!==(t=e.conversationTypeText)&&void 0!==t?t:void 0,conversationUrl:e.conversationUrl,createdAt:new Date(e.createdAt),creatorHostIdentityUrn:null===(r=e.creator)||void 0===r?void 0:r.hostIdentityUrn,disabledFeatures:null!==(i=e.disabledFeatures)&&void 0!==i?i:[],groupChat:null!==(a=e.groupChat)&&void 0!==a&&a,headlineText:null!==(o=e.headlineText)&&void 0!==o?o:void 0,hostConversationActions:e.hostConversationActions,incompleteRetriableData:null!==(s=e.incompleteRetriableData)&&void 0!==s&&s,lastActivityAt:new Date(e.lastActivityAt),lastReadAt:e.lastReadAt?new Date(e.lastReadAt):void 0,metadata:{},notificationStatus:e.notificationStatus,participants:(null!==(c=e.conversationParticipants)&&void 0!==c?c:[]).filter(S).map((function(e){return e.hostIdentityUrn})).filter(S).sort(),quickReplies:null!==(d=e.quickReplies)&&void 0!==d?d:[],read:e.read,seenReceiptsMap:null!==(u=e.seenReceiptsMap)&&void 0!==u?u:{},shortHeadlineText:null!==(l=e.shortHeadlineText)&&void 0!==l?l:void 0,state:null!==(p=e.state)&&void 0!==p?p:void 0,status:{},title:null!==(f=e.title)&&void 0!==f?f:void 0,unreadCount:e.unreadCount}},Kl=function(e,n,t){var r=new Date(Date.now())
return{clientId:fl(),content:null!=n?n:{text:"",attributes:[]},lastActivityAt:r,optionalSendData:null!=t?t:{renderContent:[]},senderUrn:e,status:"Draft"}},Wl=function(e){return i(i({},e),{},{additionalData:null,deliveredAt:new Date(Date.now()),messageBodyRenderFormat:"DEFAULT",reactions:[],incompleteRetriableData:!1,retries:0,status:"Pending"})},zl=function(e){var n,t=new Date
return{clientId:e.clientId,content:e.content,optionalSendData:e.optionalSendData,lastActivityAt:null!==(n=e.lastActivityAt)&&void 0!==n?n:t,senderUrn:e.senderUrn,status:"Draft"}},Ql=function(e){return v(e?e.map((function(e){return Yl(e)})):[])},$l=function(e,n,t){var r,i,a,o,s,c,d,u,l,p,f,h
if(!e.entityUrn)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"conversationResponseToState: convoResponse.entityUrn is null or undefined"})
var m=e.creator&&e.creator.hostIdentityUrn?Yl(e.creator):void 0,y=null!==(r=null===(i=e.messages)||void 0===i?void 0:i.elements)&&void 0!==r?r:[],g=ap(y),v=g.messages,b=g.participants,T=Ql(e.conversationParticipants),_=null===(a=e.conversationParticipants)||void 0===a?void 0:a.map((function(e){return e.hostIdentityUrn})),E=io(b,T),S=E
T.length!==E.length&&(S=E.filter((function(e){return null==_?void 0:_.includes(e.hostIdentityUrn)})))
var C=null!==(o=null===(s=e.creator)||void 0===s?void 0:s.hostIdentityUrn)&&void 0!==o?o:void 0,A={additionalData:null,backendUrn:e.backendUrn,categories:e.categories,clientId:fl(),contentMetadata:null!==(c=e.contentMetadata)&&void 0!==c?c:void 0,conversationTypeText:null!==(d=e.conversationTypeText)&&void 0!==d?d:void 0,conversationUrl:e.conversationUrl,createdAt:new Date(e.createdAt),creatorHostIdentityUrn:C,disabledFeatures:e.disabledFeatures,draftMessage:n,entityUrn:e.entityUrn,groupChat:null!==(u=e.groupChat)&&void 0!==u&&u,headlineText:null!==(l=e.headlineText)&&void 0!==l?l:void 0,incompleteRetriableData:e.incompleteRetriableData,lastActivityAt:new Date(e.lastActivityAt),lastReadAt:e.lastReadAt?new Date(e.lastReadAt):void 0,matchingSearches:t?[t]:[],messages:new Bl(v),quickReplies:[],metadata:{prevCursor:e.prevCursor,syncToken:void 0},notificationStatus:e.notificationStatus,participants:S.map((function(e){return e.hostIdentityUrn})).sort(),read:e.read,shortHeadlineText:null!==(p=e.shortHeadlineText)&&void 0!==p?p:void 0,state:null!==(f=e.state)&&void 0!==f?f:void 0,status:{fullyLoaded:!1,loading:!1,sending:"Ready"},title:null!==(h=e.title)&&void 0!==h?h:void 0,typingUrns:new Set,unreadCount:e.unreadCount,hostConversationActions:e.hostConversationActions}
return m&&!E.find((function(e){return e.hostIdentityUrn===m.hostIdentityUrn}))&&E.push(m),[A,E]},Yl=function(e){var n,t,r
if(!e.hostIdentityUrn)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"messageParticipantDataToState: hostIdentityUrn is missing"})
if(null!==(n=e.participantType)&&void 0!==n&&n.member||null!==(t=e.participantType)&&void 0!==t&&t.organization||null!==(r=e.participantType)&&void 0!==r&&r.custom){var i=e.participantType,a=i.member,o=i.organization,s=i.custom
if(s)return{kind:"CUSTOM",additionalData:null,clientId:fl(),entityUrn:e.entityUrn,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn,name:s.name,image:s.image}
if(o)return{kind:"ORGANIZATION",additionalData:null,clientId:fl(),entityUrn:e.entityUrn,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn,name:o.name,tagline:o.tagline,logo:o.logo,pageType:o.pageType,pageUrl:o.pageUrl,following:o.following,industryName:o.industryName}
if(a){var c,d,u,l,p,f,h,m,y,g={url:null!==(c=a.profileUrl)&&void 0!==c?c:void 0,picture:a.profilePicture&&a.profilePicture.rootUrl?{rootUrl:a.profilePicture.rootUrl,artifacts:a.profilePicture.artifacts.filter(S)}:void 0}
return{kind:"MEMBER",additionalData:null,clientId:fl(),entityUrn:e.entityUrn,firstName:a.firstName.text,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn,lastName:null!==(d=null===(u=a.lastName)||void 0===u?void 0:u.text)&&void 0!==d?d:"",headline:null!==(l=null===(p=a.headline)||void 0===p?void 0:p.text)&&void 0!==l?l:"",pronoun:{customPronoun:null!==(f=null===(h=a.pronoun)||void 0===h?void 0:h.customPronoun)&&void 0!==f?f:"",standardizedPronoun:null!==(m=null===(y=a.pronoun)||void 0===y?void 0:y.standardizedPronoun)&&void 0!==m?m:""},profile:g}}}return{kind:"EMPTY",additionalData:null,clientId:fl(),entityUrn:e.entityUrn,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn}},Xl=function(e){return null!==e},Jl=function(e,n){var t,r=null===(t=e.data)||void 0===t?void 0:t.messengerConversationsByRecipients.elements.filter(Xl)
if(!r)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"recipientConversationsToState: messengerConversationsByRecipients response does not contain non-null elements"})
return np(r,n)},Zl=function(e,n){var t,r=null===(t=e.data)||void 0===t?void 0:t.messengerConversationsByIds
if(!r)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"getConversationsToState: messengerConversationsByIds response is missing"})
return i(i({},np(r,n)),{},{requestId:e.requestId})},ep=function(e){return e&&e.length?e.reduce((function(e,n){return function(e,n){if(n&&n.participantType&&!e[n.entityUrn]){var t=Yl(n)
return i(i({},e),{},d({},t.hostIdentityUrn,t))}return e}(e,n)}),{}):{}},np=function(e,n){var t={},r=e.filter(Xl).map((function(e){var r=g($l(e,n),2),i=r[0]
return r[1].forEach((function(e){t[e.hostIdentityUrn]=e})),i}))
return{conversations:r,participants:t}},tp=function(e){var n
dp(e,"messengerMessagesBySyncToken")
var t=null===(n=e.data)||void 0===n?void 0:n.messengerMessagesBySyncToken
if(!t)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"syncMessagesToMessageStates: messengerMessagesBySyncToken response is missing"})
return rp(t,e.requestId)},rp=function(e,n){var t,r,i,a,o,s,c=null===(t=e.metadata)||void 0===t?void 0:t.newSyncToken,d=null!==(r=null===(i=e.metadata)||void 0===i?void 0:i.shouldClearCache)&&void 0!==r&&r,u=null!==(a=null===(o=e.metadata)||void 0===o?void 0:o.deletedUrns)&&void 0!==a?a:[],l=(null!==(s=e.elements)&&void 0!==s?s:[]).filter(S),p=ap(l)
return{messages:new Bl(p.messages),newSyncToken:c,shouldClearCache:d,deletedUrns:u,participants:p.participants,requestId:n}},ip=function(e,n,t){if(n.originToken&&n.originToken!==t)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{cause:new Error("Invalid originToken ".concat(n.originToken," - expected ").concat(t)),msg:"messagePostToState: MessagePostResponse originToken does not match with the clientId"})
return{clientId:t,content:(r=n,s=(null!==(a=r.body.attributes)&&void 0!==a?a:[]).filter(S),c=s.find((function(e){return e.attributeKindUnion})),i(i({},r.body),{},c?{attributes:s.map((function(e){return{start:e.start,length:e.length,attributeKind:e.attributeKindUnion}}))}:{attributes:null!==(o=r.body.attributes)&&void 0!==o?o:[]})),entityUrn:n.entityUrn,backendConversationUrn:n.backendConversationUrn,backendUrn:n.backendUrn,lastActivityAt:new Date(n.deliveredAt),deliveredAt:new Date(n.deliveredAt),senderUrn:e,status:"Sent",subject:n.subject}
var r,a,o,s,c},ap=function(e){var n=ep(e.reduce((function(e,n){return[].concat(v(e),[n.sender])}),[])),t=e.reduce((function(e,n){var t=function(e){var n,t,r,i
if(!e.sender.hostIdentityUrn)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"singleMessageAndParticipantsToState: sender hostIdentityUrn is missing"})
var a=Yl(e.sender),o=cp(ql(e.renderContent)),s=o.data,c=o.participants
return{participants:io([a],c).sort(),message:{additionalData:null,clientId:fl(),content:null!==(n=e.body)&&void 0!==n?n:{text:"",attributes:[]},optionalSendData:s,inlineWarning:null!==(t=e.inlineWarning)&&void 0!==t?t:void 0,incompleteRetriableData:e.incompleteRetriableData,deliveredAt:new Date(e.deliveredAt),entityUrn:e.entityUrn,backendConversationUrn:e.backendConversationUrn,backendUrn:e.backendUrn,footer:null!==(r=e.footer)&&void 0!==r?r:void 0,subject:null!==(i=e.subject)&&void 0!==i?i:void 0,messageBodyRenderFormat:e.messageBodyRenderFormat,reactions:Hl(e.reactionSummaries),retries:0,senderUrn:e.sender.hostIdentityUrn,status:"Delivered"}}}(n),r=t.participants,i=t.message
return{messages:[].concat(v(e.messages),[i]),participants:io(r,e.participants)}}),{messages:[],participants:[]}),r=io(t.participants,P(n))
return r.sort(),{messages:t.messages,participants:r}},op=function(e){return"search"===e.kind},sp=function(e){if(!e.data||!e.data.messengerMailboxCountsByMailbox||!e.data.messengerMailboxCountsByMailbox.elements)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"mailboxUnreadCountsResponseToUnreadCounts: messengerMailboxCountsByMailbox response is missing"})
return function(e,n){return{counters:e.reduce((function(e,n){var t
return i(i({},e),{},d({},n.category,(null!==(t=e[n.category])&&void 0!==t?t:0)+n.unreadConversationCount))}),{}),requestId:n}}(e.data.messengerMailboxCountsByMailbox.elements.filter(S),e.requestId)},cp=function(e){var n={}
return{data:{renderContent:e.map((function(e){var t,r,a=e.forwardedMessageContent?(t=e.forwardedMessageContent,r=Yl(t.originalSender),{content:{originalSendAt:t.originalSendAt,originalSenderUrn:t.originalSender.hostIdentityUrn,forwardedBody:t.forwardedBody,footerText:t.footerText},participant:r}):{content:void 0,participant:void 0},o=a.content,s=a.participant
return s&&(n[s.hostIdentityUrn]=s),i(i({},B(e,"forwardedMessageContent")),{},{forwardedMessageContent:o})}))},participants:P(n)}},dp=function(e,n){var t=e.errors
if(t){var r=t.map((function(e){return Aa.buildGraphQLPayloadError(e,n)})),i=t.filter((function(e){return void 0!==e.extensions&&void 0!==e.extensions.status})).map((function(e){var n
return null===(n=e.extensions)||void 0===n?void 0:n.status})).filter(S)
throw Aa.fromApiErrorMemo("ERRORS_IN_RESPONSE",{cause:r,msg:n,originalStatusCodes:i})}},up=0,lp=function(){return up+=1},pp={accept:"application/graphql","x-restli-protocol-version":"2.0.0"},fp=function(e){pp=i(i({},pp),e())},hp=function(e){var n=lp(),t=function(e,n){var t={url:n,request:{}},r=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return function(e){const{path:n,queryString:t}=wu(e)
if(n.length>Lu)throw new Error(`Per AFD limitations, this request url ${e} will not work. Please contact ask_traffic@.`)
return e.length>Lu||t.length>4e3}(e)?function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const t=Object.assign({},n)
t.url=e,t.forceQueryTunnel=!0
const r=function(e){if(!0===e.forceQueryTunnel){const{path:n,queryString:t}=wu(e.url||void 0)
if(t){const r={}
for(const n in e.headers)"CONTENT-TYPE"!==n.toUpperCase()&&(r[n]=e.headers[n]||"")
let i,a
if(r["X-HTTP-Method-Override"]=e.method||"GET",e.body){const n=`RESTLI_${Date.now()}`
a="multipart/mixed; boundary="+n,i=["--"+n,"Content-Type: "+Uu,"",t,"--"+n,"Content-Type: application/json","",e.body,"--"+n+"--"].join("\r\n")}else a=Uu,i=t
return r["Content-Type"]=a,{body:i,headers:r,method:Du,url:n}}}const n={method:e.method,url:e.url}
return e.body&&(n.body=e.body),n}(t)
if(n.method=r.method,n.headers=r.headers,n.body=r.body,n.data=r.body,null==r.url)throw new Error("Invalid: URL to be encoded cannot be 'null' or 'undefined' when performing query tunneling")
return{url:r.url,request:n}}(e,n):{url:e,request:n}}("/".concat(n),{method:"GET"})
if(n&&r.url)return t.url=r.url.substring(1),t.request=r.request,{url:t.url,request:t.request}
throw Aa.fromClientErrorMemo("INVALID_URL")}(0,e),r=t.url,a=t.request
return Ll&&fp(Ll),fetch(r,{body:a.body,headers:i(i(i({},a.headers),pp),{},{accept:"application/graphql","x-restli-protocol-version":"2.0.0"}),method:a.method||"GET"}).then((function(e){return{response:e,requestId:n}}))},mp=function(e,n){var t=lp()
return Ll&&fp(Ll),fetch(e,{headers:i(i({},pp),{},{accept:"application/json"}),body:n,method:"POST"}).then((function(e){return{response:e,requestId:t}}))},yp=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Fu("restli",e.messengerResource,n,t),a=lp()
return fetch(r,{headers:i({"x-restli-protocol-version":"2.0.0"},pp),method:"DELETE"}).then((function(e){return{response:e,requestId:a}}))},gp=new Uint8Array(16)
function vp(){if(!Fl&&!(Fl="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return Fl(gp)}for(var bp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Tp=[],_p=0;_p<256;++_p)Tp.push((_p+256).toString(16).substr(1))
function Ep(e,n,t){var r=(e=e||{}).random||(e.rng||vp)()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0
for(var i=0;i<16;++i)n[t+i]=r[i]
return n}return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Tp[e[n+0]]+Tp[e[n+1]]+Tp[e[n+2]]+Tp[e[n+3]]+"-"+Tp[e[n+4]]+Tp[e[n+5]]+"-"+Tp[e[n+6]]+Tp[e[n+7]]+"-"+Tp[e[n+8]]+Tp[e[n+9]]+"-"+Tp[e[n+10]]+Tp[e[n+11]]+Tp[e[n+12]]+Tp[e[n+13]]+Tp[e[n+14]]+Tp[e[n+15]]).toLowerCase()
if(!function(e){return"string"==typeof e&&bp.test(e)}(t))throw TypeError("Stringified UUID is invalid")
return t}(r)}const Sp="See https://go/pem/degradation-tracking-user-guide for instrumentation instructions"
class Cp{constructor(e,n){this._collectedFeatureMetrics=e,this._fireEventCallback=n}}class Ap extends Cp{produceMetricEvent(e){this._collectedFeatureMetrics.flushMetrics().forEach((n=>{const t=[]
n.featureCallCounts.forEach((e=>{t.push({featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,degradedDownstreamCallCount:0,totalDownstreamCallCount:e.totalApiCallCount,retriedDownstreamCallCount:e.retriedApiCallCount,retriedSuccessfulDownstreamCallsRatio:e.retriedSuccessfulCallsRatio,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,successfulDownstreamCallsRatio:e.successfulApiCallsRatio,metricKey:{featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,responseFabric:e.featureMetricIdentifier.responseFabric}})}))
const r={header:{},requestHeader:{},time:Date.now(),metrics:t}
this._fireEventCallback("FeatureDegradationMetricEvent",r,n.pageInstance,e)}))}}class kp{constructor(e){this._featureCallCounts=new Map,this._pageInstance=e}get pageInstance(){return this._pageInstance}get featureCallCounts(){return this._featureCallCounts}}class Ip{constructor(e){this.featureMetricIdentifier=e}}function Rp(e){return JSON.stringify(e,Object.keys(e).sort())}class wp extends kp{trackSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio+=1,e.totalApiCallCount++}))}trackFailedFeatureApiCall(e,n){this.trackMetric(e,(e=>{e.successfulApiCallsRatio+=n,e.totalApiCallCount++}))}trackRetriedFeatureApiCall(e,n){this.trackMetric(e,(e=>{e.retriedApiCallCount++,e.retriedSuccessfulCallsRatio+=n}))}trackRetriedSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio++,e.totalApiCallCount++}))}changeRetriedMetricsToTotal(){this.featureCallCounts.forEach((e=>e.changeCallCountsFromRetriedToTotal()))}trackMetric(e,n){const t=Rp(e)
if(this.featureCallCounts.has(t))n(this.featureCallCounts.get(t))
else{const r=new xp(e)
n(r),this.featureCallCounts.set(t,r)}}}class xp extends Ip{constructor(){super(...arguments),this.successfulApiCallsRatio=0,this.totalApiCallCount=0,this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}mergeCallCounts(e){return this.successfulApiCallsRatio+=e.successfulApiCallsRatio,this.totalApiCallCount+=e.totalApiCallCount,this.retriedApiCallCount+=e.retriedApiCallCount,this.retriedSuccessfulCallsRatio+=e.retriedSuccessfulCallsRatio,this}changeCallCountsFromRetriedToTotal(){this.totalApiCallCount+=this.retriedApiCallCount,this.successfulApiCallsRatio+=this.retriedSuccessfulCallsRatio,this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}}class Mp{flushMetrics(){const e=[...this.metrics.values()]
return this.metrics=new Map,e}}class Op extends Mp{constructor(){super(...arguments),this.metrics=new Map}incrementSuccessfulFeatureApiCall(e,n){this.incrementMetric(n,(n=>n.trackSuccessfulFeatureApiCall(e)))}incrementFailedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(n,(n=>n.trackFailedFeatureApiCall(e,t)))}incrementRetriedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(n,(n=>n.trackRetriedFeatureApiCall(e,t)))}incrementRetriedSuccessfulApiCall(e,n){this.incrementMetric(n,(n=>n.trackRetriedSuccessfulFeatureApiCall(e)))}mergeMetricsFrom(e){e.metrics.forEach(((e,n)=>{const t=this.metrics.get(n)
void 0!==t?e.featureCallCounts.forEach(((e,r)=>{var i
let a=t.featureCallCounts.get(r)
void 0!==a?a=a.mergeCallCounts(e):null===(i=this.metrics.get(n))||void 0===i||i.featureCallCounts.set(n,e)})):this.metrics.set(n,e)}))}changeRetriedMetricsToTotal(){this.metrics.forEach((e=>e.changeRetriedMetricsToTotal()))}incrementMetric(e,n){const t=Rp(e)
if(this.metrics.has(t))n(this.metrics.get(t))
else{const r=new wp(e)
n(r),this.metrics.set(t,r)}}}var Np
!function(e){e.ProductName="productName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides",e.ClientSensorGroupName="clientSensorGroupName",e.EnablePerformanceMeasurement="enablePerformanceMeasurement",e.CustomTrackingId="customTrackingId",e.DisableAvailabilityCalculation="disableAvailabilityCalculation",e.EnableSessionRecording="enableSessionRecording"}(Np||(Np={}))
const Pp=new Set(Object.values(Np))
class Up extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Up.prototype)}}function Dp(e){return 0===e.length||!e.trim()}function Lp(e){if("string"!=typeof e)throw new Up(`The product name must be a string. ${Sp}.`)
if(Dp(e))throw new Up(`No product name was specified. Please configure a defaultProductName or specify it per instrumented API call. ${Sp}.`)
if(/[^a-zA-Z0-9-_ \\/]/.test(e))throw new Up(`Product name '${e}' can only contain alphanumeric, underscores (_), spaces ( ), dashes (-) and forward slashes (/). ${Sp}.`)
return e}function Fp(e){if("string"!=typeof e)throw new Up(`Keys must be strings. ${Sp}.`)
if(Dp(e))throw new Up(`Keys should not be blank. ${Sp}.`)
if(/[^a-z0-9-]/.test(e))throw new Up(`'${e}' can only contain lowercase alphanumeric characters and dashes (-). ${Sp}.`)
return e}class Bp{constructor(e,n,t){var r,i,a
if(this._shouldEnablePerformanceMeasurement=!1,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._featureKey=Fp(e),this._defaultDegradationKey=Fp(n),!t)return this._additionalDegradedResponseCodes=[],this._nonDegradedResponseCodes=[],void(this._degradationKeyOverrides=[])
if("object"!=typeof t)throw new Up(`DegradationTrackingMetadata options should be an object. ${Sp}.`)
const o=t.productName
o&&(this._productName=Lp(o))
const s=t.additionalDegradedResponseCodes,c=t.nonDegradedResponseCodes
!function(e,n){const t=(e,n)=>{if("number"!=typeof(t=e)||!isFinite(t)||Math.floor(t)!==t||e<=0||e>999)throw new Up(`Please only specify positive integer response codes between 1 and 999 for the ${n} option. ${e} was specified. ${Sp}.`)
var t
if(429===e||999===e)throw new Up(`PEM does not consider 429 and 999 API responses indications of the real member experience because it represents LinkedIn throttling abusive requests. We drop 429s and 999s by default, so please remove them from your ${n} options.`)
if(n===Np.NonDegradedResponseCodes&&e>=400&&e<500)throw new Up(`For server responses that have a status code, PEM does not consider 4xx as degraded. ${e} is not considered a degradation unless you explicitly add it to the ${Np.AdditionalDegradedResponseCodes} option. Please remove ${e} from the ${Np.NonDegradedResponseCodes} option. ${Sp}.`)}
if(void 0!==e&&!Array.isArray(e))throw new Up(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that shouldn't be counted as degraded for the ${Np.NonDegradedResponseCodes} option. ${Sp}.`)
if(void 0!==n&&!Array.isArray(n))throw new Up(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that should only be considered as the degraded state(s) for the ${Np.AdditionalDegradedResponseCodes} option. ${Sp}.`)
null==e||e.forEach((e=>t(e,Np.NonDegradedResponseCodes))),null==n||n.forEach((e=>t(e,Np.AdditionalDegradedResponseCodes)))
const r=new Set(n),i=new Set(e)
if([...r].some((e=>i.has(e))))throw new Up(`Response codes can't be both degraded and non-degraded. Please ensure that your additionalDegradedResponseCodes and nonDegradedResponseCodes don't have any overlapping response codes. ${Sp}.`)}(c,s),this._nonDegradedResponseCodes=c||[],this._additionalDegradedResponseCodes=s||[],this._degradationKeyOverrides=t.degradationKeyOverrides||[],this._clientSensorGroupName=t.clientSensorGroupName,this._shouldEnablePerformanceMeasurement=null!==(r=t.enablePerformanceMeasurement)&&void 0!==r&&r,this._customTrackingId=t.customTrackingId,this._shouldDisableAvailabilityCalculation=null!==(i=t.disableAvailabilityCalculation)&&void 0!==i&&i,this._shouldRecordSession=null!==(a=t.enableSessionRecording)&&void 0!==a&&a,function(e){Object.keys(e).forEach((e=>{if(!Pp.has(e))throw new Up(`An unsupported degradation tracking option '${e}' was provided. Please fix or remove it. ${Sp}`)}))}(t)}static isDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(Bp.prototype).every((n=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),n)))}get featureKey(){return this._featureKey}get defaultDegradationKey(){return this._defaultDegradationKey}get degradationKey(){return this._defaultDegradationKey}get productName(){return this._productName}get additionalDegradedResponseCodes(){return this._additionalDegradedResponseCodes}get nonDegradedResponseCodes(){return this._nonDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationKeyOverrides}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._shouldEnablePerformanceMeasurement}get customTrackingId(){return this._customTrackingId}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}}class jp{constructor(e){this._degradationTrackingMetadata=e,this._featureMetricStore=new Op,this._lastRequestMetricStore=new Op,this._requestsMade=0,this._trackingId=Ep()}static isRetryableDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(jp.prototype).every((n=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),n)))}get degradationTrackingMetadata(){return this._degradationTrackingMetadata}get featureMetricStore(){return this._featureMetricStore}get currentRequestSequenceId(){return this._requestsMade-1}get flowTrackingId(){return this._trackingId}get shouldDisableAvailabilityCalculation(){return this._degradationTrackingMetadata.shouldDisableAvailabilityCalculation}get featureKey(){return this._degradationTrackingMetadata.featureKey}get defaultDegradationKey(){return this._degradationTrackingMetadata.defaultDegradationKey}get productName(){return this._degradationTrackingMetadata.productName}get nonDegradedResponseCodes(){return new Set(this._degradationTrackingMetadata.nonDegradedResponseCodes)}get additionalDegradedResponseCodes(){return this._degradationTrackingMetadata.additionalDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationTrackingMetadata.degradationKeyOverrides}get customTrackingId(){return this._degradationTrackingMetadata.customTrackingId}get clientSensorGroupName(){return this._degradationTrackingMetadata.clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._degradationTrackingMetadata.shouldEnablePerformanceMeasurement}incrementRetriedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedFeatureApiCall(e,n,t)}incrementRetriedSuccessfulApiCall(e,n){this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedSuccessfulApiCall(e,n)}flushMetricStoreToServiceStore(e){this._lastRequestMetricStore.changeRetriedMetricsToTotal(),this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),e.mergeMetricsFrom(this._featureMetricStore),this._featureMetricStore.flushMetrics(),this._lastRequestMetricStore.flushMetrics()}}class qp extends Bp{static isFailureTrackingMetadata(e){return"object"==typeof e&&(null==e?void 0:e.constructor.name)===qp.name}}class Vp{constructor(e,n){if(this._additionalDegradedResponseCodes=new Set,this._degradationKeyByResponseCode=new Map,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._retryableTrackingMetadata=null,!jp.isRetryableDegradationTrackingMetadata(e)&&!Bp.isDegradationTrackingMetadata(e)&&!qp.isFailureTrackingMetadata(e))throw new Up("We encountered a bug where we forgot to provide the tracking metadata as an argument. Please report it to the #pem team.")
if(!n)throw new Up("We encountered a bug where we forgot to provide the product name as an argument. Please report it to the #pem team.")
this._featureKey=e.featureKey,this._productName=n,this._clientSensorGroupName=e.clientSensorGroupName,this._defaultDegradationKey=e.defaultDegradationKey
let t=Bp.isDegradationTrackingMetadata(e)?e:void 0
jp.isRetryableDegradationTrackingMetadata(e)&&(t=e.degradationTrackingMetadata,this._retryableTrackingMetadata=e),void 0!==t?(this._nonDegradedResponseCodes=new Set(t.nonDegradedResponseCodes),this._customTrackingId=t.customTrackingId,this._shouldDisableAvailabilityCalculation=t.shouldDisableAvailabilityCalculation,this._shouldRecordSession=t.shouldRecordSession,t.additionalDegradedResponseCodes.length&&(this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))):(this._nonDegradedResponseCodes=new Set(e.nonDegradedResponseCodes),this._customTrackingId=e.customTrackingId,this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))}getDegradationKey(e){return this._degradationKeyByResponseCode.has(e)?this._degradationKeyByResponseCode.get(e):this._defaultDegradationKey}get featureKey(){return this._featureKey}get productName(){return this._productName}get customTrackingId(){return this._customTrackingId}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}get retryableTrackingMetadata(){return this._retryableTrackingMetadata}get retryMetricStore(){var e,n
return void 0!==(null===(e=this._retryableTrackingMetadata)||void 0===e?void 0:e.featureMetricStore)?null===(n=this._retryableTrackingMetadata)||void 0===n?void 0:n.featureMetricStore:null}isCountedAgainstAvailability(e,n){return null!==e&&(null==n||this.canResponseCodeCountAgainstAvailability(n))}canResponseCodeCountAgainstAvailability(e){if(this._degradationKeyByResponseCode.has(e))return!0
if(this._additionalDegradedResponseCodes.has(e))return!0
const n=e>=400&&e<500,t=this._nonDegradedResponseCodes.has(e)
return!n&&!t}shouldImpactAvailability(e,n,t){return!(e&&"CLIENT_ABORTED"===e||"BLOCKED_BY_CLIENT_PROXY"===e||!(null==t?void 0:t.hasAnyLinkedInHeaders())&&n&&n>=400&&n<600||"TOO_MANY_REQUESTS"===e)}processAdditionalDegradedResponseCodes(e){e.forEach((e=>{if(this._nonDegradedResponseCodes.has(e))throw new Up(`You attempted to specify ${e} as an additional degraded response code for the '${this.featureKey}' feature, however it is also specified in the non-degraded response codes for that feature. Please decide whether you want to consider ${e} responses a degraded state or not. ${Sp}.`)
this._additionalDegradedResponseCodes.add(e)}))}initializeDegradationKeyOverrides(e){e.forEach((e=>{if(!e.responseCodesToOverride||!e.degradationKey||!Array.isArray(e.responseCodesToOverride)||"string"!=typeof e.degradationKey)throw new Up(`Degradation key overrides must consist of an array of responseCodesToOverride and a string degradationKey. ${Sp}.`)
new Set(e.responseCodesToOverride).forEach((n=>{if(!this.canResponseCodeCountAgainstAvailability(n))throw new Up(`A degradation key override was specified for ${n}, but that response code isn't considered degraded. Please add it to additionalDegradedResponseCodes if you want it to count against your availability.`)
this._degradationKeyByResponseCode.set(n,e.degradationKey)}))}))}}class Hp{constructor(e){const n=new Map
null==e||e.forEach(((e,t)=>{n.set(t.toLowerCase(),e)})),this._callTreeId=n.get("x-li-uuid")||null,this._pointOfPresenceId=n.get("x-li-pop")||null,this._msEdgeRef=n.get("x-msedge-ref")||null,this._fabric=n.get("x-li-fabric")||null,this._responseMetadata=n.get("x-li-pem-resp-meta")||null,this._downstreamAvailability=function(e){if(null==e)return null
const n=e.split(",")
for(const e of n){const n=e.split("=",2)
if(2===n.length&&"availability"===n[0]){const e=parseFloat(n[1])
if(e>=0&&e<=1)return e}}return null}(this._responseMetadata)||1}get callTreeId(){return this._callTreeId}get pointOfPresenceId(){return this._pointOfPresenceId}get microsoftEdgeReference(){return this._msEdgeRef}get fabric(){return this._fabric}get downstreamAvailability(){return this._downstreamAvailability}hasAnyLinkedInHeaders(){return!!(this._fabric||this._pointOfPresenceId||this._msEdgeRef||this._callTreeId)}}class Gp{constructor(e,n,t,r){this._responseCode=e||null,this._parsedResponseHeaders=n?new Hp(n):new Hp,this._responseError=t||null,this._downstreamServiceErrorCode=r}get responseCode(){return this._responseCode}get parsedHeaders(){return this._parsedResponseHeaders}get responseError(){return this._responseError}set responseError(e){this._responseError=e}get downstreamServiceErrorCode(){return this._downstreamServiceErrorCode}set downstreamServiceErrorCode(e){this._downstreamServiceErrorCode=e}}const Kp="undefined"==typeof FastBoot
function Wp(e){e._metricsInterval&&window.clearInterval(e._metricsInterval),window.removeEventListener("visibilitychange",e._visibilityListener)}class zp{constructor(e,n,t){this._featureMetricStore=new Op,this._visibilityListener=()=>{"hidden"===document.visibilityState&&this._metricSender.produceMetricEvent(!0)},this._defaultProductName=e,this._fireEventCallback=n,this._jetErrorCallback=t,this._metricSender=new Ap(this._featureMetricStore,n),Kp&&(this._metricsInterval=window.setInterval((()=>this._metricSender.produceMetricEvent()),6e4),window.addEventListener("visibilitychange",this._visibilityListener))}trackFeatureDegradationsForFetch(e,n,t,r,i){let a,o=null
const s=new Map,c=this._createFailureProcessingMetadata(t)
return n=this._getAndValidateUrlEntityIDs(n),r.then((e=>{o=e.status,e.headers.forEach(((e,n)=>s.set(n.toLowerCase(),e))),!1===e.ok&&(a=e)})).catch((e=>{throw a=e,e})).finally((()=>{this._trackResponse(e,o,n,c,i,s,a)}))}trackFeatureDegradationsForJQueryAjax(e,n,t,r,i,a){const o=n.status,s=n.getAllResponseHeaders(),c=new Map
s&&s.trim().split(/[\r\n]+/).forEach((e=>{const n=e.split(": "),t=n.shift()
if(t){const e=n.join(": ")
c.set(t.toLowerCase(),e)}}))
const d=a?null:n,u=this._createFailureProcessingMetadata(r)
t=this._getAndValidateUrlEntityIDs(t),this._trackResponse(e,o,t,u,i,c,d)}startRetryFlow(e){return zp.startRetryFlow(e)}static startRetryFlow(e){return new jp(e)}completeRetryFlow(e){if(!jp.isRetryableDegradationTrackingMetadata(e))throw new Up("retryFlowMetadata must be an instance of RetryableDegradationTrackingMetadata")
e.flushMetricStoreToServiceStore(this._featureMetricStore)}_trackResponse(e,n,t,r,i,a,o){const s=new Gp(n,a,o),c=s.parsedHeaders,d=function(e){const n=e.responseError,t=e.parsedHeaders,r=e.responseCode
if(r){if(429===r||999===r)return"TOO_MANY_REQUESTS"
if(t&&!t.hasAnyLinkedInHeaders()&&r&&r>=400&&r<600)return"BLOCKED_BY_CLIENT_PROXY"
if((i=r)>=400&&i<500)return function(e){return 429===e?"TOO_MANY_REQUESTS":"CLIENT_ERROR"}(r)
if(function(e){return e>=500&&e<600}(r))return function(e){if(e){if(e.fabric)return"SERVER_ERROR"
if(e.pointOfPresenceId)return"TRAFFIC_LI_POP_TO_DC_ERROR"
if(e.microsoftEdgeReference)return"TRAFFIC_AFD_TO_LI_POP_ERROR"}return"SERVER_ERROR"}(t)
if(function(e,n){return!!(e>=200&&e<300&&n&&n.downstreamAvailability<1)}(r,t))return"DOWNSTREAM_GRACEFUL_DEGRADATION"}var i
if(!n)return null
if(n instanceof Error){if("AbortError"===n.name)return"CLIENT_ABORTED"
if(n instanceof TypeError&&(n.message.indexOf("Network request failed")>=0||n.message.indexOf("NetworkError when attempting to fetch resource")>=0||n.message.indexOf("Failed to fetch")>=0))return"NETWORK_ERROR"}else{if("timeout"===n.statusText)return"CLIENT_TIMEOUT"
if(0===n.status&&"abort"===n.statusText)return"CLIENT_ABORTED"
if("readyState"in n&&0===n.readyState)return"NETWORK_ERROR"}return"UNCLASSIFIED"}(s),u=function(e,n){if(!e.includes("/"))return e
const t=function(e){const n=document.createElement("a")
return n.href=e,n.pathname}(e),r=t.split("/").filter((e=>e.length))
if(!n.length)return r.join("/")
const i=[]
for(let e=r.length-1;e>=0;e--){const t=r[e],a=n.indexOf(t)
a>=0?n.splice(a,1):i.push(t)}return i.reverse().join("/")}(e,t),l=new Set,p=new Set
if(r.forEach((e=>{l.add(e.productName),p.add(e.featureKey)
const t=null!==e.retryableTrackingMetadata&&null!==e.retryMetricStore
!e.shouldDisableAvailabilityCalculation&&e.shouldImpactAvailability(d)&&(e.isCountedAgainstAvailability(d,n)?(t?e.retryableTrackingMetadata.incrementRetriedFeatureApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementFailedFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseErrorType:d,responseFabric:c.fabric},i,function(e,n){return"DOWNSTREAM_GRACEFUL_DEGRADATION"===e?n.downstreamAvailability:0}(d,c)):(t?e.retryableTrackingMetadata.incrementRetriedSuccessfulApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementSuccessfulFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseFabric:c.fabric},i))})),d){this._reportErrorIfUnclassified(o,d,n,l,p)
const e=function(e,n,t,r){if(!(null==e?void 0:e.trim())||!n||!Array.isArray(n))return[]
const i=[],a=r.responseCode
return n.forEach((n=>{const o=n.getDegradationKey(a),s=n.shouldImpactAvailability(t)&&n.isCountedAgainstAvailability(t,a),c={endpointPath:e,degradationKey:o,responseErrorTypeV2:t,isCountedAgainstAvailability:s,downstreamServiceErrorCode:r.downstreamServiceErrorCode}
a&&(c.responseCode=a)
const d=r.parsedHeaders
d.callTreeId&&(c.responseCallTreeId=d.callTreeId),(null==d?void 0:d.pointOfPresenceId)&&(c.pointOfPresenceId=d.pointOfPresenceId),(null==d?void 0:d.microsoftEdgeReference)&&(c.microsoftEdgeReference=d.microsoftEdgeReference),(null==d?void 0:d.fabric)&&(c.fabric=d.fabric),jp.isRetryableDegradationTrackingMetadata(n.retryableTrackingMetadata)&&(c.retryDetails={trackingId:n.retryableTrackingMetadata.flowTrackingId,sequenceId:n.retryableTrackingMetadata.currentRequestSequenceId}),i.push({header:{},requestHeader:{},productName:n.productName,featureKey:n.featureKey,failedDownstreamRequests:[c],customTrackingId:n.customTrackingId})})),i}(u,r,d,s)
e.forEach((e=>{this._fireEventCallback("FeatureDegradeEvent",e,i)}))}}_reportErrorIfUnclassified(e,n,t,r,i){var a
if((0===t||null==t)&&"UNCLASSIFIED"===n){const n=["noise","pem-unclassified-error"]
let t
r.forEach((e=>n.push(`pem-product-${e}`))),i.forEach((e=>n.push(`pem-feature-${e}`))),t=e instanceof Error?e:new Error(`Could not classify jQuery response: ${JSON.stringify(e)}`),null===(a=this._jetErrorCallback)||void 0===a||a.call(this,t,n,!1)}}_createFailureProcessingMetadata(e){if(!e||!Array.isArray(e)||!e.length)throw new Up(`Please specify a non-empty array of degradation tracking metadata. ${Sp}.`)
const n=new Set
return e.map((e=>{if(!Bp.isDegradationTrackingMetadata(e)&&!jp.isRetryableDegradationTrackingMetadata(e))throw new Up(`Please use DegradationTrackingMetadata or RetryableDegradationTrackingMetadata to specify the degradations. ${Sp}.`)
const t=Lp(e.productName||this._defaultProductName),r=`${t}!!${e.featureKey}`
if(n.has(r))throw new Up("More than one degradation tracking metadata has the same productName/featureKey combination. Please merge them together")
return n.add(r),new Vp(e,t)}))}_getAndValidateUrlEntityIDs(e){if(!Array.isArray(e))throw new Up(`Please specify the queried IDs to remove from the request URL, or use an empty array if there are none. ${Sp}.`)
return e}}var Qp=function(e,n,t){},$p=function(){},Yp=function(e){return function(n,t,r,i){e(n,t)}},Xp=function(e,n,t,r){return function(){return e.track?vo(e.track(n,"READ",t,r),hp)(n):hp(n)}},Jp=function(e,n,t,r){return function(){return e.track?vo(e.track(n,"SEARCH",t,r),hp)(n):hp(n)}},Zp=function(e,n,t,r){return function(i){return e.track?vo(e.track(n,"WRITE",t,r),mp)(n,i):mp(n,i)}},ef=function(e){return function(n){return Promise.reject(Aa.fromApiErrorMemo("NETWORK_ERROR",{cause:n,msg:e}))}}
var nf=function(e){return function(n){var t=n.response,r=n.requestId
return t?t.ok?t.json().then((function(e){return function(e){return function(e){return null!==e&&"object"===a(e)&&!Array.isArray(e)}(e)&&"value"in e&&1===Object.keys(e).length}(e)?e.value:e})).then(function(e){return function(n){return i(i({},n),{},{requestId:e})}}(r)).catch((function(n){return Promise.reject(Aa.fromApiErrorMemo("RESPONSE_INVALID_JSON",{cause:n,msg:e}))})):t.json().catch((function(e){return Promise.reject(new Aa("api",t.status,t.statusText,e))})).then((function(n){return ka("".concat(e," failed"),n,t.status)})):Promise.reject(Aa.fromApiErrorMemo("NO_RESPONSE_RECEIVED",{msg:e}))}},tf=function(e){return function(n){var t=n.response,r=n.requestId
return t?t.ok?Promise.resolve({requestId:r}):t.json().then((function(n){return ka("".concat(e," failed"),n,t.status)})):Promise.reject(Aa.fromApiErrorMemo("NO_RESPONSE_RECEIVED",{msg:e}))}},rf=function(e,n,t,r){var i="getConversationById",a=gl(e,{messengerConversationsId:n,count:t}),o=nf(i)
return Xp(e,a,i,r)().catch(ef(i)).then(o)},af=function(e,n,t,r){var i="getConversationsByIds",a=Sl(e,{conversationIds:n,count:t}),o=nf(i)
return Xp(e,a,i,r)().catch(ef(i)).then(o)},of=function(e,n,t,r){var i="getSyncMessagesByConversationId",a={conversationUrn:n,syncToken:t}
t||delete a.syncToken
var o=wl(e,a),s=nf(i)
return Xp(e,o,i,r)().catch(ef(i)).then(s)},sf=function(e,n,t){var r="initialSyncConversations",i=vl(e,{mailboxUrn:n}),a=nf(r)
return Xp(e,i,r,t)().catch(ef(r)).then(a)},cf={category:"INBOX",count:20},df=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cf,i=arguments.length>4?arguments[4]:void 0,a="findConversationsByCursor",o=r.count,s=r.category,c=Tl(e,{category:s,count:o,mailboxUrn:n,nextCursor:t}),d=nf(a)
return Xp(e,c,a,i)().catch(ef(a)).then(d)},uf=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cf,i=arguments.length>4?arguments[4]:void 0,a="findConversationsByTimestamp",o=r.count,s={category:r.category,count:o,mailboxUrn:n}
null!==t&&(s.lastUpdatedBefore=t)
var c=Tl(e,s),d=nf(a)
return Xp(e,c,a,i)().catch(ef(a)).then(d)},lf=function(e,n,t,r){var i="findConversationsByRecipients",a=_l(e,{mailboxUrn:n,recipients:t}),o=nf(i)
return Xp(e,a,i,r)().catch(ef(i)).then(o)},pf=function(e,n,t,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7?arguments[7]:void 0,c="findConversationsBySearchCriteria",d={categories:t,count:20,firstDegreeConnections:i,mailboxUrn:n}
void 0!==a&&(d.read=a),null!==o&&(d.nextCursor=o),r&&r.trim().length>0&&(d.keywords=r)
var u=El(e,d),l=nf(c)
return Jp(e,u,c,s)().catch(ef(c)).then(l)},ff=function(e,n){var t="getMailboxUnreadCounts",r=bl(e,{mailboxUrn:n}),i=nf(t)
return hp(r).catch(ef(t)).then(i)},hf=function(e,n,t){var r="updateConversation",i=tf(r),a=function(e,n){var t="messengerConversations/".concat(encodeURIComponent(n))
return Fu("restli",e.messengerResource,t)}(e,n)
return mp(a,t).catch(ef(r)).then(i)},mf=function(e,n,t){var r=JSON.stringify({patch:{$set:t}})
return hf(e,n,r)},yf=function(e,n){var t="activateTypingStatus",r=JSON.stringify({conversationUrn:n}),i=tf(t),a=function(e){return Fu("restli",e.messengerResource,"messengerConversations",{action:"typing"})}(e)
return mp(a,r).catch(ef(t)).then(i)},gf=function(e,n,t,r,a,o,s){var c,d,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"NOT_DEDUPE",l="sendMessageToConversation",p=null!==(c=null==s?void 0:s.renderContent)&&void 0!==c?c:void 0,f=null!==(d=null==s?void 0:s.messageSubject)&&void 0!==d?d:void 0,h=B(i({},s),"renderContent","messageSubject"),m=i({message:{body:r,subject:f,renderContentUnions:p,conversationUrn:t,originToken:a},mailboxUrn:n,trackingId:o.trackingId,dedupeByClientGeneratedToken:"DEDUPE"===u},h),y=JSON.stringify(m),g=nf(l),v=Ul(e)
return Zp(e,v,l,o)(y).catch(ef(l)).then(g)},vf=function(e,n,t,r,a,o,s){var c,d,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"NOT_DEDUPE",l="sendFirstMessageToRecipients",p=null!==(c=null==s?void 0:s.renderContent)&&void 0!==c?c:void 0,f=null!==(d=null==s?void 0:s.messageSubject)&&void 0!==d?d:void 0,h=i({},s)
delete h.renderContent,delete h.messageSubject
var m=i({message:{body:t,subject:f,originToken:r,renderContentUnions:p},mailboxUrn:n,trackingId:o.trackingId,dedupeByClientGeneratedToken:"DEDUPE"===u,hostRecipientUrns:a},h),y=JSON.stringify(m),g=nf(l),v=Dl(e)
return Zp(e,v,l,o)(y).catch(ef(l)).then(g)},bf=function(e,n,t){var r="reactWithEmojiAPI",i=JSON.stringify({messageUrn:n,emoji:t}),a=function(e){return Fu("restli",e.messengerResource,"messengerMessages",{action:"reactWithEmoji"})}(e),o=tf(r)
return mp(a,i).catch(ef(r)).then(o)},Tf=function(e,n,t){var r="unreactWithEmojiAPI",i=JSON.stringify({messageUrn:n,emoji:t}),a=function(e){return Fu("restli",e.messengerResource,"messengerMessages",{action:"unreactWithEmoji"})}(e),o=tf(r)
return mp(a,i).catch(ef(r)).then(o)},_f={kind:"category",category:"INBOX"},Ef=function(e){var n,t
return null===(n=Ra[e])||void 0===n||null===(t=n.store)||void 0===t?void 0:t.getState()},Sf=function(e,n,t,r,a){var o=i(i({},e.status),{},{fullyLoaded:a,nextCursor:r})
switch(n.kind){case"category":return"INBOX"===n.category?i(i({},e),{},{status:o,conversations:e.conversations.filtered((function(e){return ro(e,t)&&e.categories.includes("INBOX")&&!e.categories.some((function(e){return["SPAM","ARCHIVE"].includes(e)}))}))}):i(i({},e),{},{status:o,conversations:e.conversations.filtered((function(e){return ro(e,t)&&e.categories.includes(n.category)}))})
case"search":return i(i({},e),{},{status:o,conversations:e.conversations.filtered((function(e){return ro(e,t)&&e.matchingSearches.includes(n.id)}))})}},Cf=function(e){var n=Ra[e]
if(n&&n.store)return{urn:e,data:n.store.getState(),realtime:n.realtime}},Af=function(e){var n
return null===(n=Ra[e])||void 0===n?void 0:n.store},kf=function(e,n){Ra[e].observers.push(n)},If=function(e,n){var t=Ra[e]
return t?(F(n.message),t.observers.forEach((function(e){return e.error(n)})),t.observers.length):0},Rf=function(e,n,t,r,i){return rf(e,t,20,i).then(function(e,n){return function(t){var r,i,a=null===(r=t.data)||void 0===r?void 0:r.messengerConversationsById,o=t.requestId
if(!a)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"conversationByIdResponseToState: messengerConversationsById response is missing"})
var s,c=a.backendUrn,d=a.categories,u=a.contentMetadata,l=a.conversationTypeText,p=a.conversationUrl,f=a.createdAt,h=a.creator,m=a.disabledFeatures,y=a.entityUrn,g=a.groupChat,v=a.incompleteRetriableData,b=a.lastActivityAt,T=a.lastReadAt,_=a.messages,E=a.notificationStatus,S=a.conversationParticipants,C=a.read,A=a.state,k=a.title,I=a.unreadCount,R=a.hostConversationActions,w=_.elements,x=ep(S),M=ap(w),O=M.messages,U=M.participants,D=io(U,P(x))
return{conversationState:{additionalData:null,backendUrn:c,categories:d,clientId:n,conversationUrl:p,createdAt:new Date(f),creatorHostIdentityUrn:null!==(i=null==h?void 0:h.hostIdentityUrn)&&void 0!==i?i:void 0,draftMessage:Kl(e),entityUrn:y,incompleteRetriableData:v,lastActivityAt:new Date(b),lastReadAt:new Date(T),messages:new Bl(O),participants:(s=x,N(s).sort()),quickReplies:[],read:C,title:k,state:A,groupChat:null!=g&&g,conversationTypeText:l,contentMetadata:u,disabledFeatures:m,typingUrns:new Set,matchingSearches:[],metadata:{},notificationStatus:E,status:{loading:!1,sending:"Ready",fullyLoaded:!1},unreadCount:I,hostConversationActions:R},participants:D.sort(),requestId:o}}}(n,r))},wf=function(e,n){return function(t){var r=n?Aa.fromClientErrorMemo(n,t):t
return If(e,r),Promise.reject(r)}},xf=function(e,n){return function(t){var r=n?Aa.fromClientErrorMemo(n,t):t
return If(e,r),r}},Mf=function(e,n){return function(t){var r=Aa.fromUnknown(t,n)
If(e,r)}},Of=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null
return function(t){return If(e,t),Promise.resolve(n)}},Nf=function(){return new Map},Pf=function(e,n){return e.updateAny(Da(n),function(e){return function(n){return i(i({},n),{},{additionalData:e[n.clientId]||n.additionalData})}}(n))},Uf=function(e,n){if(!n||!N(n).length||!n.emoji||!n.reactors&&void 0===n.viewerReacted||n.reactors&&(!e||!e.length))return e
var t=n.emoji,r=v(e),i=r.findIndex((function(e){return e.emoji===t}))
if(i>-1){var a=r[i]
if(n.reactors)return a.reactors=n.reactors,r.splice(i,1,a),r
if(a.viewerReacted=n.viewerReacted,n.count&&0===n.count)return r.splice(i,1),r
if(n.count&&n.count>0)a.count=n.count
else if(n.viewerReacted)a.count=a.count+1
else{if(1===a.count)return r.splice(i,1),r
a.count=a.count-1}return n.firstReactedAt&&n.firstReactedAt<a.firstReactedAt&&(a.firstReactedAt=n.firstReactedAt),r.splice(i,1,a),r}return 0===n.count?r:[].concat(v(r),[{count:void 0!==n.count?n.count:1,emoji:t,firstReactedAt:n.firstReactedAt?n.firstReactedAt:Date.now(),viewerReacted:n.viewerReacted,reactors:[]}]).sort((function(e,n){return e.firstReactedAt-n.firstReactedAt}))},Df=function(e,n){var t=g(oo(n),2),r=t[0],i=t[1]
return e.filter((function(e){return La(e)?!r.includes(e.conversationUrn):!i.includes(e.messageUrn)}))},Lf=function(e,n,t){var r=[]
return n.length&&(r=function(e,n){var t=function(e,n){var t=g(oo(n),2),r=t[0],a=t[1]
return e.map((function(e){var n=Fa(e)&&a.includes(e.messageUrn),t=La(e)&&r.includes(e.conversationUrn)
return n||t?i(i({},e),{},{retryCount:e.retryCount+1}):e}))}(e,n),r=function(e,n){return Df(n,e).map((function(e){return i(i({},e),{},{retryCount:0})}))}(e,n)
return[].concat(v(t),v(r))}(e,n)),t.length&&(r=Df(r,t)),r},Ff=function(e,n){return n&&n>e?n:e},Bf=function(e){for(var n=Object.keys(e),t={},r=0;r<n.length;r++){var i=n[r]
"function"==typeof e[i]&&(t[i]=e[i])}var a,o=Object.keys(t)
try{!function(e){Object.keys(e).forEach((function(n){var t=e[n]
if(void 0===t(void 0,{type:yo.INIT}))throw new Error(po(12))
if(void 0===t(void 0,{type:yo.PROBE_UNKNOWN_ACTION()}))throw new Error(po(13))}))}(t)}catch(e){a=e}return function(e,n){if(void 0===e&&(e={}),a)throw a
for(var r=!1,i={},s=0;s<o.length;s++){var c=o[s],d=t[c],u=e[c],l=d(u,n)
if(void 0===l)throw n&&n.type,new Error(po(14))
i[c]=l,r=r||l!==u}return(r=r||o.length!==Object.keys(e).length)?i:e}}({entityUrn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0
return"UPDATE_MAILBOXURN"===n.type?n.entityUrn:e},lastActivityAt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date
return(arguments.length>1?arguments[1]:void 0).type,e},draftConversations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nf(),n=arguments.length>1?arguments[1]:void 0
switch(n.type){case"REMOVE_DRAFT_CONVERSATION":case"CONVERT_DRAFT_CONVERSATION":return D(e,n.payload.conversationId)
case"ADD_DRAFT_CONVERSATION":return U(e,n.payload.conversation.clientId,n.payload.conversation)
case"DRAFT_MESSAGE_READY_TO_SEND":var t=e.get(n.payload.clientId)
return t?U(e,n.payload.clientId,i(i({},t),{},{messages:t.messages.add([Wl(t.draftMessage)]),draftMessage:Kl(t.draftMessage.senderUrn)})):e
case"ADD_NEW_MESSAGE_BY_ID":var r=e.get(n.payload.conversationId)
return r?U(e,n.payload.conversationId,i(i({},r),{},{messages:r.messages.add([n.payload.message])})):e
case"READY_MESSAGE_BACK_TO_DRAFT":var a=e.get(n.payload.conversationId)
if(!a)return e
var o=g(a.messages.removeByClientId(n.payload.messageClientId),2),s=o[0],c=o[1]
return U(e,n.payload.conversationId,i(i({},a),{},{messages:c,draftMessage:s?zl(s):Kl(n.payload.mboxUrn)}))
case"DELETE_MESSAGE":var d=e.get(n.payload.conversationId)
if(!d)return e
var u=g(d.messages.removeByClientId(n.payload.messageClientId),2)[1]
return U(e,n.payload.conversationId,i(i({},d),{},{messages:u}))
case"UPDATE_DRAFT_MESSAGE":var l=e.get(n.payload.conversationId)
return l?U(e,n.payload.conversationId,i(i({},l),{},{draftMessage:i(i({},n.payload.messageUpdate),{},{clientId:l.draftMessage.clientId})})):e
case"UPDATE_NEW_MESSAGE":if(!Q(n.payload.conversationIdentifier))return e
var p=e.get(n.payload.conversationIdentifier)
return p?U(e,n.payload.conversationIdentifier,i(i({},p),{},{messages:p.messages.updateByClientId(n.payload.messageId,n.payload.message)})):e
case"UPDATE_DRAFT_CONVERSATION":var f=e.get(n.payload.conversationId)
return f?U(e,n.payload.conversationId,i(i({},f),{},{recipients:n.payload.recipientUrns})):e
case"UPDATE_DRAFT_CONVERSATION_SENDING_STATUS":var h=e.get(n.payload.conversationId)
return h?U(e,n.payload.conversationId,i(i({},h),{},{sending:n.payload.sendingStatus})):e
default:return e}},participants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0
switch(n.type){case"DECORATE_PARTICIPANTS":var t=n.payload.data,r=I(N(t).map((function(n){return[n,i(i({},e[n]),{},{additionalData:t[n]})]})))
return i(i({},e),r)
case"ADD_MAILBOX_PARTICIPANTS":case"ADD_CONVERSATION":case"ADD_OLDER_CONVERSATIONS":case"ADD_CONVERSATIONS":var a=I(R(n.payload.participants)),o=N(a).reduce((function(n,t){return e[t]&&"EMPTY"!==e[t].kind&&a[t]&&"EMPTY"===a[t].kind?n[t]=i({},e[t]):n[t]=i(i(i({},e[t]),a[t]),{},{clientId:e[t]?e[t].clientId:a[t].clientId}),n}),{})
return i(i({},e),o)
default:return e}},conversations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:so(),n=arguments.length>1?arguments[1]:void 0
switch(n.type){case"DECORATE_CONVERSATIONS":return uo.fromConversationArray(e.map((function(e){return i(i({},e),{},{additionalData:n.payload.data[e.clientId]||e.additionalData})})))
case"DECORATE_ALL_MESSAGES":return uo.fromConversationArray(e.map((function(e){return i(i({},e),{},{messages:Pf(e.messages,n.payload.data)})})))
case"DECORATE_MESSAGES":return e.updateItem(wa(n.payload.conversationUrn),(function(e){return i(i({},e),{},{messages:Pf(e.messages,n.payload.data)})}))
case"DECORATE_MESSAGE":return e.updateItem(wa(n.payload.conversationUrn),(function(e){return i(i({},e),{},{messages:e.messages.updateByUrn(n.payload.messageUrn,{additionalData:n.payload.data})})}))
case"DRAFT_MESSAGE_READY_TO_SEND":return e.updateItem(Ma(n.payload.clientId),(function(e){return i(i({},e),{},{messages:e.messages.add([Wl(e.draftMessage)]),draftMessage:Kl(e.draftMessage.senderUrn)})}))
case"UPDATE_DRAFT_MESSAGE":return e.updateItem(Ma(n.payload.conversationId),(function(e){return i(i({},e),{},{draftMessage:i(i({},n.payload.messageUpdate),{},{clientId:e.draftMessage.clientId})})}))
case"UPDATE_NEW_MESSAGE":return e.updateItem(Ma(n.payload.conversationIdentifier),(function(e){return i(i({},e),{},{messages:e.messages.updateByClientId(n.payload.messageId,n.payload.message),quickReplies:eo(e,e.quickReplies,n.payload.message)})}))
case"UPDATE_MESSAGES":var t=n.payload.conversationUrn,r=n.payload.messageUpdateMap
if(!t){var a=N(r),o=Z(e,a[0])
if(!o)return e
t=o.entityUrn}return e.updateItem(wa(t),(function(e){if(z(e)){var n=N(r)
return i(i({},e),{},{messages:e.messages.updateAny(Pa(n),(function(e){return e.entityUrn?i(i(i({},e),r[e.entityUrn]),{},{clientId:e.clientId}):e})),quickReplies:eo(e,e.quickReplies)})}return e}))
case"UPDATE_REACTIONS_ON_MESSAGE":var s=n.payload,c=s.messageUrn,d=s.reaction,u=Z(e,c)
if(!u)return e
var l=u.entityUrn
return e.updateItem(wa(l),(function(e){if(z(e)){var n=e.messages.getByIdentifier(c)
return i(i({},e),{},{messages:e.messages.updateAny(Na(c),(function(e){return i(i({},e),{},{reactions:Uf(n.reactions,d),clientId:e.clientId})}))})}return e}))
case"READY_MESSAGE_BACK_TO_DRAFT":return e.updateItem(Ma(n.payload.conversationId),(function(e){var t=g(e.messages.removeByClientId(n.payload.messageClientId),2),r=t[0],a=t[1]
return i(i({},e),{},{messages:a,draftMessage:r?zl(r):Kl(n.payload.mboxUrn)})}))
case"DELETE_MESSAGE":return e.updateItem(Ma(n.payload.conversationId),(function(e){var t=g(e.messages.removeByClientId(n.payload.messageClientId),2)[1]
return i(i({},e),{},{messages:t})}))
case"DELETE_MESSAGES":return e.updateItem(wa(n.payload.conversationUrn),(function(e){var t=n.payload.clearAll?new Bl(Array.from(e.messages).filter((function(e){return $a(e)}))):e.messages.removeByUrns(n.payload.messageUrns)
return i(i({},e),{},{messages:t})}))
case"REALTIME_TYPING_ON":return e.updateItem(wa(n.payload.conversationUrn),(function(e){return i(i({},e),{},{typingUrns:j(e.typingUrns,n.payload.typingUrn)})}))
case"REALTIME_TYPING_OFF":return e.updateItem(wa(n.payload.conversationUrn),(function(e){return i(i({},e),{},{typingUrns:q(e.typingUrns,n.payload.typingUrn)})}))
case"ADD_NEW_MESSAGE_BY_ID":var p=n.payload,f=p.message,h=p.conversationId,m=f.optionalSendData.conversationState
return e.updateItem(Ma(h),(function(e){return i(i({},e),{},{messages:e.messages.add([f]),typingUrns:q(e.typingUrns,f.senderUrn),quickReplies:eo(e,e.quickReplies,f),state:null!=m?m:void 0})}))
case"ADD_NEW_MESSAGE_BY_CONVO_URN":return e.updateItem(wa(n.payload.conversationUrn),(function(e){var t=n.payload.message
return i(i({},e),{},{messages:e.messages.add([t]),typingUrns:q(e.typingUrns,t.senderUrn),quickReplies:eo(e,e.quickReplies,t)})}))
case"CONVERSATION_LOADING":return e.updateItem(Ma(n.payload.conversationId),(function(e){return i(i({},e),{},{status:i(i({},e.status),{},{loading:n.payload.loading})})}))
case"ADD_OLDER_MESSAGES":return e.updateItem(Ma(n.payload.conversationUrn),(function(e){return i(i({},e),{},{messages:e.messages.add(n.payload.messages),metadata:i(i({},e.metadata),{},{prevCursor:n.payload.prevCursor}),status:i(i({},e.status),{},{fullyLoaded:n.payload.completed,loading:!1})})}))
case"ADD_NEW_MESSAGES":return e.updateItem(Ma(n.payload.conversationUrn),(function(e){var t=e.messages.add(n.payload.messages)
return i(i({},e),{},{quickReplies:[],messages:t,metadata:i(i({},e.metadata),{},{syncToken:n.payload.syncToken,shouldClearCache:n.payload.shouldClearCache}),status:i(i({},e.status),{},{loading:!1})})}))
case"CONVERT_DRAFT_CONVERSATION":return e.find(wa(n.payload.conversation.entityUrn),"FullMailboxState")?e.updateItem(wa(n.payload.conversation.entityUrn),(function(e){var t=n.payload.conversation.participants.filter(x(e.participants)),r=[].concat(v(e.participants),v(t))
return i(i(i({},e),n.payload.conversation),{},{participants:r,messages:e.messages.add(v(n.payload.conversation.messages)),clientId:n.payload.conversation.clientId})})):e.addItem(i(i({},n.payload.conversation),{},{clientId:n.payload.conversationId}))
case"ADD_OLDER_CONVERSATIONS":return e.addItems(n.payload.conversations,n.payload.writeCategories)
case"ADD_CONVERSATIONS":return e.addItems(n.payload.conversations)
case"ADD_CONVERSATION":return e.addItem(n.payload.conversation)
case"UPDATE_CONVERSATION_BY_URN":return e.updateItem(wa(n.payload.conversationUrn),(function(e){return Ya(e,n.payload.conversationUpdate)}))
case"UPDATE_CONVERSATIONS_BY_URN":return e.updateAny(xa(N(n.payload.convoStatusUpdateMap)),(function(e){var t=n.payload.convoStatusUpdateMap[e.entityUrn]
if(!Qa(t)&&t.seenReceiptsMap&&e.seenReceiptsMap){var r=to(e.seenReceiptsMap,t.seenReceiptsMap),a=i(i(i({},e),t),{},{seenReceiptsMap:r})
return Xa(e,a)}return Xa(e,t)}))
case"UPDATE_CONVERSATION_QUICK_REPLIES":return e.updateItem(wa(n.payload.conversationUrn),(function(e){return i(i({},e),{},{quickReplies:n.payload.quickReplies})}))
case"UPDATE_CONVERSATION_BY_MESSAGE_URN":var y=Z(e,n.payload.messageUrn)
return y?e.updateItem(Ma(y.entityUrn),(function(e){return n.payload.conversationUpdate.quickReplies?i(i({},e),{},{quickReplies:eo(e,n.payload.conversationUpdate.quickReplies)}):i(i({},e),n.payload.conversationUpdate)})):e
case"UPDATE_ALL_CONVERSATIONS_IN_CATEGORIES":return e.updateAny(Oa(n.payload.categories),(function(e){return Xa(e,n.payload.conversationUpdate)}))
case"DELETE_CONVERSATION":return e.deleteItems(wa(n.payload.conversationUrn))
case"DELETE_CONVERSATIONS":return n.payload.clearAll?so():e.deleteItems(xa(n.payload.conversationUrns))
default:return e}},additionalData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0
return"DECORATE_MAILBOX"===n.type?n.payload:e},connected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{api:!1,realtime:!1},n=arguments.length>1?arguments[1]:void 0
switch(n.type){case"CONNECT":return i(i({},e),{},{api:!0})
case"REALTIME_CONNECT":return i(i({},e),{},{realtime:n.payload})
default:return e}},status:function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i({},Ia),r=arguments.length>1?arguments[1]:void 0
switch(r.type){case"MAILBOX_LOADING":return i(i({},t),{},{loading:r.payload.loading,lastRequestId:Ff(t.lastRequestId,r.requestId)})
case"ADD_OLDER_CONVERSATIONS":return i(i({},t),{},{nextCursor:null!==(e=r.payload.nextCursor)&&void 0!==e?e:t.nextCursor,fullyLoaded:r.payload.fullyLoaded,loading:!1,lastRequestId:Ff(t.lastRequestId,r.requestId)})
case"ADD_CONVERSATIONS":return i(i({},t),{},{loading:!1,syncToken:null!==(n=r.payload.syncToken)&&void 0!==n?n:t.syncToken,lastRequestId:Ff(t.lastRequestId,r.requestId)})
case"UPDATE_REQUEST_ID":return i(i({},t),{},{lastRequestId:Ff(t.lastRequestId,r.requestId)})
default:return r.requestId?i(i({},t),{},{lastRequestId:Ff(t.lastRequestId,r.requestId)}):t}},unreadCounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{requestId:0},n=arguments.length>1?arguments[1]:void 0
return"UPDATE_MAILBOX_UNREAD_COUNT"===n.type?i(i({},e),n.payload):e},incompleteRetriableEntities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0
switch(n.type){case"ADD_CONVERSATION":var t=n.payload.conversation
return t.incompleteRetriableData?Lf(e,[{conversationUrn:t.entityUrn}],[]):Lf(e,[],[{conversationUrn:t.entityUrn}])
case"ADD_CONVERSATIONS":case"ADD_OLDER_CONVERSATIONS":var r=n.payload.conversations,i=r.filter((function(e){return e.incompleteRetriableData})).map((function(e){return{conversationUrn:e.entityUrn}})),a=r.filter((function(e){return!e.incompleteRetriableData})).map((function(e){return{conversationUrn:e.entityUrn}}))
return Lf(e,i,a)
case"UPDATE_CONVERSATION_BY_URN":var o=n.payload,s=o.conversationUrn
return o.conversationUpdate.incompleteRetriableData?Lf(e,[{conversationUrn:s}],[]):Lf(e,[],[{conversationUrn:s}])
case"UPDATE_CONVERSATIONS_BY_URN":var c=n.payload.convoStatusUpdateMap,d=[],u=[]
for(var l in c){var p=c[l]
!Qa(p)&&p.incompleteRetriableData?d.push({conversationUrn:l}):Qa(p)||C(p.incompleteRetriableData)||u.push({conversationUrn:l})}return Lf(e,d,u)
case"UPDATE_CONVERSATION_BY_MESSAGE_URN":case"UPDATE_ALL_CONVERSATIONS_IN_CATEGORIES":var f=n.payload.conversationUpdate
return f.entityUrn?f.incompleteRetriableData?Lf(e,[{conversationUrn:f.entityUrn}],[]):Lf(e,[],[{conversationUrn:f.entityUrn}]):e
case"ADD_NEW_MESSAGE_BY_ID":case"ADD_NEW_MESSAGE_BY_CONVO_URN":case"UPDATE_NEW_MESSAGE":var h=n.payload.message
return h.entityUrn?h.incompleteRetriableData?Lf(e,[{messageUrn:h.entityUrn}],[]):Lf(e,[],[{messageUrn:h.entityUrn}]):e
case"ADD_NEW_MESSAGES":case"ADD_OLDER_MESSAGES":var m=n.payload.messages.filter((function(e){return e.entityUrn})),y=m.filter((function(e){return e.incompleteRetriableData})).map((function(e){return{messageUrn:e.entityUrn}})),g=m.filter((function(e){return!e.incompleteRetriableData})).map((function(e){return{messageUrn:e.entityUrn}}))
return Lf(e,y,g)
case"UPDATE_MESSAGES":var v=n.payload.messageUpdateMap,b=[],T=[]
for(var _ in v){var E=v[_]
E.incompleteRetriableData?b.push({messageUrn:_}):C(E.incompleteRetriableData)||T.push({messageUrn:_})}return Lf(e,b,T)
default:return e}}}),jf=function(e,n){return{type:"ADD_MAILBOX_PARTICIPANTS",payload:{participants:e},requestId:n}},qf=function(e,n){return{type:"REALTIME_TYPING_ON",payload:{conversationUrn:e,typingUrn:n}}},Vf=function(e,n){return{type:"REALTIME_TYPING_OFF",payload:{conversationUrn:e,typingUrn:n}}},Hf=function(e){return{type:"REALTIME_CONNECT",payload:e}},Gf=function(e,n){return{type:"UPDATE_CONVERSATIONS_BY_URN",payload:{convoStatusUpdateMap:e},requestId:n}},Kf=function(e,n){return{type:"DELETE_CONVERSATION",payload:{conversationUrn:e},requestId:n}},Wf=function(e){return{type:"DELETE_CONVERSATIONS",payload:{conversationUrns:e,clearAll:arguments.length>1&&void 0!==arguments[1]&&arguments[1]},requestId:arguments.length>2?arguments[2]:void 0}},zf=function(e,n,t){return{type:"ADD_CONVERSATION",payload:{conversation:e,participants:n},requestId:t}},Qf=function(e,n){return{type:"UPDATE_CONVERSATION_BY_URN",payload:{conversationUpdate:e,conversationUrn:n}}},$f=function(e,n){return{type:"ADD_CONVERSATIONS",payload:{syncToken:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,conversations:e,participants:n},requestId:arguments.length>3?arguments[3]:void 0}},Yf=function(e,n,t){return{type:"ADD_NEW_MESSAGE_BY_ID",payload:{message:e,conversationId:n},requestId:t}},Xf=function(e,n){return{type:"CONVERSATION_LOADING",payload:{conversationId:e,loading:n}}},Jf=function(e){return{type:"MAILBOX_LOADING",payload:{loading:e}}},Zf=function(e,n,t,r,i){return{type:"ADD_OLDER_MESSAGES",payload:{messages:e,conversationUrn:n,completed:t,prevCursor:r},requestId:i}},eh=function(e,n,t,r,i){return{type:"ADD_NEW_MESSAGES",payload:{conversationUrn:n,messages:e,syncToken:t,shouldClearCache:r},requestId:i}},nh=function(e,n,t,r){return{type:"UPDATE_NEW_MESSAGE",payload:{message:e,messageId:n,conversationIdentifier:t},requestId:r}},th=function(e,n,t){return{type:"CONVERT_DRAFT_CONVERSATION",payload:{conversationId:e,conversation:n},requestId:t}},rh=function(e,n,t){return{type:"UPDATE_MESSAGES",payload:{messageUpdateMap:e,conversationUrn:n},requestId:t}},ih=function(e,n,t){return{type:"UPDATE_REACTIONS_ON_MESSAGE",payload:{messageUrn:e,reaction:n},requestId:t}},ah=function(e,n,t){return{type:"UPDATE_CONVERSATION_BY_MESSAGE_URN",payload:{messageUrn:e,conversationUpdate:n},requestId:t}},oh=function(e,n){return{type:"UPDATE_DRAFT_MESSAGE",payload:{conversationId:e,messageUpdate:n}}},sh=function(e,n){return{type:"UPDATE_DRAFT_CONVERSATION_SENDING_STATUS",payload:{conversationId:e,sendingStatus:n}}},ch=function(e,n,t){return{type:"DELETE_MESSAGE",payload:{conversationId:e,messageClientId:n},requestId:t}},dh=function(e,n){return{type:"DELETE_MESSAGES",payload:{conversationUrn:e,messageUrns:n,clearAll:arguments.length>2&&void 0!==arguments[2]&&arguments[2]},requestId:arguments.length>3?arguments[3]:void 0}},uh=function(e,n){return{type:"UPDATE_MAILBOX_UNREAD_COUNT",payload:e,requestId:n}},lh={quickReplyMap:{},seenReceiptsMap:{}},ph=function(e,n,t){var r,i
yh(n,"SeenReceipt","doDecorateSeenReceiptMessengerRealtimeDecoration",e)
var a,o=null===(r=n.payload.data)||void 0===r||null===(i=r.doDecorateSeenReceiptMessengerRealtimeDecoration)||void 0===i?void 0:i.result
if(o&&o.message){var s=o.message.entityUrn
a=d({},s,[{participantUrn:o.seenByParticipant.hostIdentityUrn,seenAt:o.seenAt}]),lh.seenReceiptsMap=to(lh.seenReceiptsMap,a),t.dispatch(ah(s,{seenReceiptsMap:lh.seenReceiptsMap}))}},fh=function(e,n,t){var r,i
yh(n,"QuickReplies","doDecorateQuickRepliesMessengerRealtimeDecoration",e)
var a,o=null===(r=n.payload.data)||void 0===r||null===(i=r.doDecorateQuickRepliesMessengerRealtimeDecoration)||void 0===i?void 0:i.result
if(o&&o.length>0&&o[0].message){var s=o[0].message,c=o.filter(S)
a=d({},s.entityUrn,c),lh.quickReplyMap=a,t.dispatch(ah(s.entityUrn,{quickReplies:c}))}},hh=function(e,n,t,r){if(mh(n,"NewMessage",e)){var a
t.triggerChainSync({pageInstance:null==r||null===(a=r.getPageInstance)||void 0===a?void 0:a.call(r)})}else{var o,s
yh(n,"NewMessage","doDecorateMessageMessengerRealtimeDecoration",e)
var c=null===(o=n.payload.data)||void 0===o||null===(s=o.doDecorateMessageMessengerRealtimeDecoration)||void 0===s?void 0:s.result
if(c&&c.sender){var u,l,p,f=c.backendConversationUrn,h=c.backendUrn,m=c.body,y=c.conversation,g=c.deliveredAt,v=c.entityUrn,b=c.inlineWarning,T=c.messageBodyRenderFormat,_=c.originToken,E=c.previousMessages,S=c.reactionSummaries,C=c.renderContent,A=c.sender,k=c.subject,I=null!==(u=(null!==(l=null==E?void 0:E.elements)&&void 0!==l?l:[])[0])&&void 0!==u?u:null,R=y.entityUrn,w=Yl(A),x=cp(ql(C)),M=x.data,O=x.participants
if(function(e,n){return 0==e.text.length&&(null===n||0===n.length)}(m,C))return void setTimeout((function(){var e
t.triggerMessagesSync(R,{pageInstance:null==r||null===(e=r.getPageInstance)||void 0===e?void 0:e.call(r)})}),2e3)
var N=Vl({senderUrn:w.hostIdentityUrn,content:m,optionalSendData:M,entityUrn:v,inlineWarning:b,messageBodyRenderFormat:T,reactions:Hl(S),status:"Delivered",clientId:_,deliveredAt:new Date(g),backendConversationUrn:f,backendUrn:h,subject:k}),P=function(e,n){var t=lh.quickReplyMap[n]?lh.quickReplyMap[n]:[],r=lh.seenReceiptsMap[n]?d({},n,lh.seenReceiptsMap[n]):{},a=i(i({},e),{},{quickReplies:t,seenReceiptsMap:r})
return delete lh.quickReplyMap[n],delete lh.seenReceiptsMap[n],a}(y,v),U=Gl(P),D=io(O,Ql(y.conversationParticipants))
t.dispatch(jf(D)),t.handleRealtimeNewMessage(R,U,N,I,{pageInstance:null==r||null===(p=r.getPageInstance)||void 0===p?void 0:p.call(r)}).catch((function(n){Of(e)(Aa.fromRealtimeErrorMemo("EVENT_ERROR",n))}))}}},mh=function(e,n,t){var r=e.payload.errors
if(!r)return!1
var i=r.map((function(e){return Aa.buildGraphQLPayloadError(e,n)}))
return Of(t)(Aa.fromRealtimeErrorMemo("EVENT_RESPONSE_ERROR",i)),!0},yh=function(e,n,t,r){var i=e.payload.data
if(i){var a=i[t]
if(a){if(!a.result){var o=Ta.PAYLOAD_RESULT_DOES_NOT_EXIST
Of(r)(new Aa("realtime",o.code,'"'.concat(n,'": ').concat(o.message)))}}else{var s=Ta.PAYLOAD_DECORATION_DOES_NOT_EXIST
Of(r)(new Aa("realtime",s.code,'"'.concat(n,'": ').concat(s.message)))}}else{var c=Ta.PAYLOAD_DATA_DOES_NOT_EXIST
Of(r)(new Aa("realtime",c.code,"".concat(n,": ").concat(c.message)))}},gh="2770ad8e74334783a50c4784aeb17b00",vh="280dd3e05c2756f34bd490c227d64518",bh="18c72c0ef88106e86b0df4dadc13f200",Th="7606db239e7cda3ea88b4ace2d4733ab",_h="886854b77ee64679ebf42b1a9a05076d",Eh="4e5b40b7a6723463f6deec71ca09be21",Sh="15007ba729faa527d4b1a77c2d101a78",Ch="messengerRealtimeDecoration",Ah=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
return{topicToGraphQLQueryParams:{conversationsBroadcastTopic:{queryId:Qu("realtime-conversation-update")||"".concat(e).concat(Ch,".").concat(gh),variables:{},extensions:{}},conversationsTopic:{queryId:Qu("realtime-conversation-update")||"".concat(e).concat(Ch,".").concat(gh),variables:{},extensions:{}},conversationDeletesBroadcastTopic:{queryId:Qu("realtime-conversation-delete")||"".concat(e).concat(Ch,".").concat(vh),variables:{},extensions:{}},conversationDeletesTopic:{queryId:Qu("realtime-conversation-delete")||"".concat(e).concat(Ch,".").concat(vh),variables:{},extensions:{}},messageReactionSummariesBroadcastTopic:{queryId:Qu("realtime-reaction-summary")||"".concat(e).concat(Ch,".").concat(bh),variables:{},extensions:{}},messageReactionSummariesTopic:{queryId:Qu("realtime-reaction-summary")||"".concat(e).concat(Ch,".").concat(bh),variables:{},extensions:{}},messageSeenReceiptsBroadcastTopic:{queryId:Qu("realtime-seen-receipt")||"".concat(e).concat(Ch,".").concat(Th),variables:{},extensions:{}},messageSeenReceiptsTopic:{queryId:Qu("realtime-seen-receipt")||"".concat(e).concat(Ch,".").concat(Th),variables:{},extensions:{}},messagesBroadcastTopic:{queryId:Qu("realtime-message-update")||"".concat(e).concat(Ch,".").concat(_h),variables:{},extensions:{}},messagesTopic:{queryId:Qu("realtime-message-update")||"".concat(e).concat(Ch,".").concat(_h),variables:{},extensions:{}},replySuggestionBroadcastTopic:{queryId:Qu("realtime-quick-reply")||"".concat(e).concat(Ch,".").concat(Eh),variables:{},extensions:{}},replySuggestionTopicV2:{queryId:Qu("realtime-quick-reply")||"".concat(e).concat(Ch,".").concat(Eh),variables:{},extensions:{}},typingIndicatorsBroadcastTopic:{queryId:Qu("realtime-typing-indicator")||"".concat(e).concat(Ch,".").concat(Sh),variables:{},extensions:{}},typingIndicatorsTopic:{queryId:Qu("realtime-typing-indicator")||"".concat(e).concat(Ch,".").concat(Sh),variables:{},extensions:{}}}}},kh=function(e){var n={},t={}
return e&&(e.csrfToken&&(n={"csrf-token":e.csrfToken}),e.xLiLang&&(t={"x-li-lang":e.xLiLang})),i(i({"x-RestLi-Protocol-Version":"2.0.0","x-li-query-accept":"application/graphql","x-li-track":e.xLiTrack||JSON.stringify({mpName:e&&e.mpName?e.mpName:jl.mpName}),"x-li-query-map":JSON.stringify(Ah())},t),n)},Ih=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2
o(this,e),d(this,"_maxRetryCount",void 0),d(this,"_retryTimeoutInSecond",void 0),d(this,"_backoffMultiplier",void 0),d(this,"_attemptCount",0),d(this,"_startTime",Date.now()),d(this,"_currentTask",null),d(this,"_messageId",void 0),d(this,"_tryFn",void 0),d(this,"_cancelCondition",void 0),d(this,"_retryCondition",void 0),d(this,"_internalResolve",void 0),d(this,"_internalReject",void 0),this._messageId=n,this._backoffMultiplier=t,this.reset()}return c(e,[{key:"retryCount",get:function(){return this._attemptCount-1}},{key:"_backoff",get:function(){return Math.min(Math.pow(2,this._attemptCount)*this._backoffMultiplier,640)}},{key:"try",value:function(e){return this._tryFn=e,this}},{key:"times",value:function(e){return this._maxRetryCount=e,this}},{key:"timeoutAfter",value:function(e){return this._retryTimeoutInSecond=e,this}},{key:"cancelIf",value:function(e){return this._cancelCondition=e,this}},{key:"retryIf",value:function(e){return this._retryCondition=e,this}},{key:"start",value:function(){var e=this
this._startTime=Date.now()
var n=new Promise((function(n,t){e._internalResolve=n,e._internalReject=t}))
return this._cycle(),n}},{key:"cancel",value:function(){this._currentTask&&(this._currentTask.cancel(),this._currentTask=null),this._stopRetrying(Aa.fromClientErrorMemo("RETRY_CANCELLED"))}},{key:"reset",value:function(){this._attemptCount=0,this._startTime=Date.now()}},{key:"_cycle",value:function(){var e=this
this._currentTask=null,this._attemptCount++,void 0!==this._tryFn?this._tryFn(this._attemptCount).then((function(n){var t
return null===(t=e._internalResolve)||void 0===t||t.call(e,n),n})).catch((function(n){var t
if(null!==(t=e._cancelCondition)&&void 0!==t&&t.call(e,n)||e._exceedMaxRetryCount()||e._exceedRetryTimeout())e._stopRetrying(n)
else if(e._retryCondition&&e._messageId&&!e._retryCondition(e._messageId)){var r
null===(r=e._internalResolve)||void 0===r||r.call(e,n)}else{var i=new nn(e._cycle.bind(e))
i.start(1e3*e._backoff),e._currentTask=i}})):this._stopRetrying(new Error("No function supplied to retry"))}},{key:"_stopRetrying",value:function(e){var n
null===(n=this._internalReject)||void 0===n||n.call(this,e)}},{key:"_exceedMaxRetryCount",value:function(){return void 0!==this._maxRetryCount&&this._attemptCount>this._maxRetryCount}},{key:"_exceedRetryTimeout",value:function(){return void 0!==this._retryTimeoutInSecond&&(Date.now()-this._startTime)/1e3+this._backoff>this._retryTimeoutInSecond}}]),e}(),Rh=function(e,n,t,r,i){if(t&&i){var a=e?e.messages:null,o=a&&a.length>1?a.at(a.length-2):null,s={funnelBody:{clientSend:{isFirstMessage:!e||1===e.messages.length,isSelfReply:!(!o||!n)&&o.senderUrn===n.senderUrn,messagingThreadUrn:e?e.backendUrn:null,messagingMessageUrn:n?n.backendUrn:null,sourceType:null==t?void 0:t.sourceType,previousMessageCreatedTime:o?o.deliveredAt.getTime():null,previousMessagingMessageUrn:o?o.backendUrn:null,draftMessageStorageType:null,isSystemClipboardUsed:null==t?void 0:t.isSystemClipboardUsed,sentTime:r}},trackingId:t.trackingId,funnelStep:"CLIENT_SEND"}
t.messageComposeFlowTrackingId&&(s.messageComposeFlowTrackingId=t.messageComposeFlowTrackingId),i&&i("MessageSendFunnelTrackingEvent",s)}},wh=function(e){var n=e.optionalSendData.renderContent[0]
return null!=n&&n.file?"ATTACHMENT":null!=n&&n.externalMedia?"GIF":null!=n&&n.forwardedMessageContent?"FORWARD":null!=n&&n.vectorImage?"IMAGE":"TEXT_ONLY"},xh=function(e,n){var t="ONE_ON_ONE"
return n&&(t="GROUP_CHAT"),e.optionalSendData.renderContent.length&&e.optionalSendData.renderContent.forEach((function(e){e.hostUrnData&&e.hostUrnData.type.includes("INMAIL")&&(t="INMAIL")})),t},Mh=function(e){var n=e.code,t=e.message
return A()&&window.navigator&&!window.navigator.onLine?"NO_NETWORK":t&&t.includes("Failed to fetch")?"NETWORK_ERROR":n&&/^[4-5][0-9][0-9]$/.test(n.toString())?"SERVER_ERROR":n&&999===n?"OTHER_NON_FATAL_ERROR":null},Oh=function(e,n,t,r,i){if(i){var a={syncedMessagingMessageUrns:e.filter((function(e){return!!e})),messagingThreadUrn:n,isBootstrap:!!r}
t&&(a.consumedTime=t),i("MessagesSyncConsumedEvent",a)}},Nh=function(e,n,t){t&&t("ConversationsSyncConsumedEvent",{syncedMessagingThreadUrns:e,isBootstrap:n})},Ph=function(e,n,t,r,i){var a={trackingId:pc(),syncType:n,messagingThreadUrns:r?r.forEach((function(e){return e.backendUrn})):[],failureReason:Mh(e),failureDetail:e.message,responseCode:e.code,retryCount:t,failureTime:Date.now()}
i&&i("MessagingSyncClientFailureEvent",a)},Uh=function(e,n,t){var r={sentTime:n,messageUrn:e.backendUrn,publisherTrackingId:""}
t&&t("MessagingClientSendEvent",r)},Dh=function(e){return lc(Array.from(hc(e)))},Lh=function(e){return e.headers()["Csrf-Token"]||e.headers()["csrf-token"]},Fh=function(e,n,t,r,a,o,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"FIRST",d=t.messages.getByIdentifier(r)
if(!d)return Promise.reject(Aa.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
var u=Dh(r),l=i(i({},s),{},{trackingId:u}),p=-1
return a(nh({status:"Sending"},r,t.entityUrn)),new Ih(r).try((function(i){try{p=ya().serverClockTime}catch(e){p=Date.now()}return gf(e,n,t.entityUrn,d.content,r,l,d.optionalSendData,1!==i||"RETRY"===c?"DEDUPE":"NOT_DEDUPE").then(nm(o,i,c)).catch(em(o,i,c,t,d,l))})).timeoutAfter(o.options.sendRetryTimeoutInSecond).retryIf(Za(o,t.clientId)).cancelIf(Xh).start().then((function(e){return ip(d.senderUrn,e,r)})).then((function(e){var n,i
return p&&a(nh({lastAttemptAt:new Date(p)},r,t.entityUrn)),Rh(t,e,l,p,null===(n=o.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),Uh(e,p,null===(i=o.options.trackingOptions)||void 0===i?void 0:i.trackingFireEvent),e})).then((function(e){return a(nh(i(i({},e),{},{status:"Sent"}),r,t.entityUrn)),t.clientId})).catch((function(e){return a(nh({status:"Failed"},r,t.entityUrn)),Promise.reject(e)}))},Bh=function(e,n,t,r,a,o,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"FIRST",d=t.messages.getByIdentifier(r)
if(!d)return Promise.reject(Aa.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
var u=t.clientId,l=t.recipients,p=Dh(r),f=i(i({},s),{},{trackingId:p}),h=-1
return a(nh({status:"Sending"},r,u)),new Ih(r).try((function(t){try{h=ya().serverClockTime}catch(e){L("Failed to retrieve server time from common-time:",e),h=Date.now()}return vf(e,n,d.content,r,l,f,d.optionalSendData,1!==t||"RETRY"===c?"DEDUPE":"NOT_DEDUPE").then(nm(o,t,c)).catch(em(o,t,c,void 0,d,f,l))})).timeoutAfter(o.options.sendRetryTimeoutInSecond).retryIf(Za(o,u)).cancelIf(Xh).start().then((function(t){return Rf(e,n,t.conversationUrn,u,f)})).then((function(e){h&&a(nh({lastAttemptAt:new Date(h)},r,u))
var n,t,i=e.conversationState.messages.last()
return i&&(Rh(e.conversationState,i,f,h,null===(n=o.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),Uh(i,h,null===(t=o.options.trackingOptions)||void 0===t?void 0:t.trackingFireEvent)),e})).then((function(e){var n=e.conversationState,t=e.participants,i=e.requestId
return a(jf(t,i)),a(th(u,n,i)),a(nh({status:"Sent"},r,n.entityUrn)),n.entityUrn})).catch((function(e){return a(nh({status:"Failed"},r,u)),Promise.reject(e)}))},jh=function(e,n){if(Ra[e])return!1
var t=function(e,n){return{entityUrn:e,lastActivityAt:new Date,conversations:uo.fromConversationArray(),participants:{},draftConversations:Nf(),connected:{api:n.connected,realtime:n.connected},additionalData:null,status:i(i({},Ia),{},{loading:n.loading}),unreadCounts:{},incompleteRetriableEntities:[]}}(e,n),r=go(Bf,t)
return Ra[e]={store:r,observers:[]},r.subscribe((function(){!function(e){var n=Ra[e]
n&&(n.observers.forEach((function(e){return e.next(n.store.getState())})),n.observers.length)}(e)})),!0},qh=function(e,n,t,r,i){var a=Cf(e)
return a&&Va(a.data)?Promise.resolve(a):n.useRealtime?function(e,n,t){return function(e,n,t,r,i){var a,o,s=(a=r.triggerChainSync,o=null==i?void 0:i.getPageInstance,lo((function(){L("Throttled chain-sync"),a({pageInstance:null==o?void 0:o()})}),6e4))
return(e.connected?Promise.resolve():e.connect("RETRY")).then((function(){L("realtime connected"),function(e,n){var t=g(n.getRealtimeTopics(),2),r=t[0],i=v(t[1].values()).filter((function(e){return!e.endsWith(":myself")}))
r&&i.length>0&&(L("Subscribing to broadcast topics",'JWT="...'.concat(W(20,r),'"'),"Number of topics: ".concat(i.length)),e.addSubscriptions(i,r).catch((function(e){L("Broadcast topics subscription failed! âŒ",e)})))}(e,r)
var a=new Map
e.addEventListener("error",(function(t,i){L("error event from common-time - ".concat(i.message," ").concat(e.connected?"ðŸ’š":"ðŸ’”")),r.dispatch(Hf(e.connected)),function(e){return void 0!==e.status}(i)&&600===i.status&&Of(n)(Aa.buildCommonTimeError(i))})),e.addEventListener("connect",(function(){L("realtime connect ".concat(e.connected?"ðŸ’š":"ðŸ’”")),r.dispatch(Hf(e.connected))})),e.addEventListener("reconnecting",(function(){L("realtime reconnecting ".concat(e.connected?"ðŸ’š":"ðŸ’”"))})),e.addEventListener("close",(function(){L("realtime close ".concat(e.connected?"ðŸ’š":"ðŸ’”")),r.dispatch(Hf(e.connected))})),e.addEventListener("poorRealtimeConnectionDetected",(function(){L("realtime poor connection ".concat(e.connected?"ðŸ’›":"ðŸ’”")),r.dispatch(Hf(e.connected))})),e.addEventListener("authSubscribeFailed",(function(n,t){L("realtime authSubscribeFailed (Auth token likely expired) ".concat(e.connected?"ðŸ’š":"ðŸ’”")),function(e,n,t){n.getRealtimeTopics()[0]===e&&n.fetchAndUpdateTopics().then((function(){var e=g(n.getRealtimeTopics(),2),r=e[0],i=e[1]
r&&t.addSubscriptions(Array.from(i.values()),r)}))}(t,r,e)})),"personal"===r.mailboxType?e.addEventListener("reconnected",(function(t,i){L("personal mailbox ".concat(n," re-subscribed - chainSync! gap (sec):"),i/1e3),s(),r.dispatch(Hf(e.connected))})):e.addEventListener("topicsResubscribed",(function(t,i){(function(e,n,t){var r=g(e.getRealtimeTopics(),2)[1].get("NewMessage")
return S(r)&&n.includes(r)})(r,i.topics)&&(L("secondary mailbox ".concat(n," re-subscribed - chainSync! gap (sec):"),i.timeGapMs/1e3),s(),r.dispatch(Hf(e.connected)))})),e.addEventListener("topic",(function(o,s){!function(e,n,t,r,i,a,o){try{var s,c,d,u,l,p,f,h=g(i.getRealtimeTopics(),2)[1],m=null!==(s=null==h?void 0:h.get("TypingIndicator"))&&void 0!==s?s:"no-topic",y=null!==(c=null==h?void 0:h.get("NewMessage"))&&void 0!==c?c:"no-topic",v=null!==(d=null==h?void 0:h.get("ConversationUpdate"))&&void 0!==d?d:"no-topic",b=null!==(u=null==h?void 0:h.get("ConversationDelete"))&&void 0!==u?u:"no-topic",T=null!==(l=null==h?void 0:h.get("SeenReceipt"))&&void 0!==l?l:"no-topic",_=null!==(p=null==h?void 0:h.get("QuickReplies"))&&void 0!==p?p:"no-topic",E=null!==(f=null==h?void 0:h.get("ReactionSummary"))&&void 0!==f?f:"no-topic"
switch(Array.from(h.values()).includes(n.topic)&&o&&function(e,n,t){if(t&&t.trackingFireEvent){var r={publisherTrackingId:e.publisherTrackingId||null,realtimeEventId:e.id,realtimeTrackingId:e.trackingId,topicUrn:e.topic,consumedTime:n}
t.trackingFireEvent("RealtimeEventConsumedEvent",r)}}(n,a,o),n.topic){case m:!function(e,n,t,r,i){var a,o
yh(n,"TypingIndicator","doDecorateTypingIndicatorMessengerRealtimeDecoration",e)
var s=null===(a=n.payload.data)||void 0===a||null===(o=a.doDecorateTypingIndicatorMessengerRealtimeDecoration)||void 0===o?void 0:o.result
if(s){var c=s.conversation.entityUrn,d=s.typingParticipant.hostIdentityUrn
t>=0&&function(e,n,t,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5
r(i(e,n))
var s="".concat(e,",").concat(n)
t.has(s)&&clearTimeout(t.get(s))
var c=setTimeout((function(){r(a(e,n))}),1e3*o)
t.set(s,c)}(c,d,r,i.dispatch,qf,Vf,t)}}(e,n,r,t,i)
break
case y:hh(e,n,i)
break
case v:!function(e,n,t,r){if(mh(n,"ConversationUpdate",e)){var i
t.triggerChainSync({pageInstance:null==r||null===(i=r.getPageInstance)||void 0===i?void 0:i.call(r)})}else{var a,o
yh(n,"ConversationUpdate","doDecorateConversationMessengerRealtimeDecoration",e)
var s=null===(a=n.payload.data)||void 0===a||null===(o=a.doDecorateConversationMessengerRealtimeDecoration)||void 0===o?void 0:o.result
if(s){var c=s.entityUrn,d=Gl(s)
t.dispatch(Qf(ao(d),c))}}}(e,n,i,o)
break
case b:!function(e,n,t,r){if(mh(n,"ConversationDelete",e)){var i
t.triggerChainSync({pageInstance:null==r||null===(i=r.getPageInstance)||void 0===i?void 0:i.call(r)})}else{var a,o
yh(n,"ConversationDelete","doDecorateConversationDeleteMessengerRealtimeDecoration",e)
var s=null===(a=n.payload.data)||void 0===a||null===(o=a.doDecorateConversationDeleteMessengerRealtimeDecoration)||void 0===o?void 0:o.result
if(s){var c=s.entityUrn
t.dispatch(Kf(c))}}}(e,n,i,o)
break
case T:ph(e,n,i)
break
case _:fh(e,n,i)
break
case E:!function(e,n,t){var r,i
yh(n,"ReactionSummary","doDecorateRealtimeReactionSummaryMessengerRealtimeDecoration",e)
var a=null===(r=n.payload.data)||void 0===r||null===(i=r.doDecorateRealtimeReactionSummaryMessengerRealtimeDecoration)||void 0===i?void 0:i.result
if(a&&a.reactionSummary){var o=a.message.entityUrn
t.dispatch(ih(o,a.reactionSummary))}}(e,n,i)
break
default:F("Unhandled realtime event: ",n)}}catch(n){var S=Ta.EVENT_ERROR
Of(e)(new Aa("realtime",S.code,S.message,n))}}(n,s,a,t,r,e.serverClockTime,i)}))})).catch((function(e){var t=Ta.CANNOT_CONNECT
return wf(n)(new Aa("realtime",t.code,t.message,e))}))}(n.realtimeHost?ya({domain:n.realtimeHost,mpInfo:{name:n.mpName,id:n.mpName,version:n.mpVersion},sessionHeartbeat:n.sessionHeartbeatInSecond?1e3*n.sessionHeartbeatInSecond:void 0,reconnectGapThreshold:void 0!==n.realtimeMaxDisconnectInSecond?1e3*n.realtimeMaxDisconnectInSecond:void 0,connectHeaders:kh({mpName:n.mpName,csrfToken:Lh(n),xLiTrack:n.headers()["X-LI-Track"],xLiLang:n.headers()["x-li-lang"]}),tracking:n.trackingOptions&&n.trackingOptions.trackingFireEvent?{fireEventCallback:n.trackingOptions.trackingFireEvent}:void 0}):ya(),e,n.typingIndicatorDelayInSecond,t,n.trackingOptions).catch((function(){return Promise.resolve()}))}(e,n,r).then((function(){return Vh(e,n,t,i)})):a?Promise.resolve(a):Vh(e,n,t,i)},Vh=function(e,n,t,r){return function(e,n,t,r){return sf(e,n,r).then((a=t,function(e){var n,t,r
dp(e,"messengerConversationsBySyncToken")
var o=null===(n=e.data)||void 0===n?void 0:n.messengerConversationsBySyncToken
if(!o)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"allConversationsToState: messengerConversationsBySyncToken response is missing"})
var s=e.requestId,c=d({},a.hostIdentityUrn,a),u=null!==(t=null===(r=o.metadata)||void 0===r?void 0:r.newSyncToken)&&void 0!==t?t:null,l=o.elements.filter(Xl).map((function(e){var n=g($l(e,Kl(a.entityUrn)),2),t=n[0]
return n[1].forEach((function(e){c[e.hostIdentityUrn]?c[e.hostIdentityUrn]=i(i({},c[e.hostIdentityUrn]),e):c[e.hostIdentityUrn]=e})),t})).filter(S)
return{conversations:l,newSyncToken:u,participants:c,requestId:s}})).then((function(e){return(t=n,function(e){var n=new Date,r=e.conversations,a=e.participants,o=e.newSyncToken,s=e.requestId
return{additionalData:null,connected:{api:!1,realtime:!1},conversations:uo.fromConversationArray(r),draftConversations:new Map,entityUrn:t,lastActivityAt:n,participants:a,status:i(i({},Ia),{},{syncToken:o,lastRequestId:s}),unreadCounts:{}}})(e)
var t}))
var a}(Wh(n),e,t,r).then((function(n){return{urn:e,data:n}})).catch((function(e){var t,r,i
throw null===(t=n.trackingOptions)||void 0===t||null===(r=t.incrementMetricCounterHandler)||void 0===r||r.call(t,{groupName:"messengerData",metricName:"conversation-list-sync-fail"}),Ph(e,"CONVERSATIONS",1,void 0,null===(i=n.trackingOptions)||void 0===i?void 0:i.trackingFireEvent),e}))},Hh=function(e){var n
return e.data&&void 0!==e.data.messengerConversationsByCategory?{data:e.data.messengerConversationsByCategory,requestId:e.requestId}:null!==(n=e.data)&&void 0!==n&&n.messengerConversationsBySearchCriteria&&function(e){return void 0!==e.messengerConversationsBySearchCriteria}(e.data)?{data:e.data.messengerConversationsBySearchCriteria,requestId:e.requestId}:{data:{elements:[],metadata:{nextCursor:null}}}},Gh=function(e,n){return d({},e.entityUrn,{status:{sending:n}})},Kh=function(e,n,t,r){e(n?r?dh(r,new Set,!0):Wf([],!0):r?dh(r,new Set(t.filter((function(e){return e.message})).map((function(e){return e.message.entityUrn})))):Wf(t.filter((function(e){return e.conversation})).map((function(e){return e.conversation.entityUrn}))))},Wh=function(e){var n,t=null!==(n=function(e){var n,t
if(!1===(null===(n=e.trackingOptions)||void 0===n?void 0:n.usePemTracking))return null
var r=null!==(t=e.trackingOptions)&&void 0!==t?t:{},i=r.pemPrefix,a=r.trackingFireEvent
return void 0!==i&&void 0!==a&&A()?function(e,n,t){var r,i=function(e,n){return{READ:new zp("".concat(e," - Read"),Yp(n),Qp),WRITE:new zp("".concat(e," - Send"),Yp(n),Qp),SEARCH:new zp("".concat(e," - Search"),Yp(n),Qp)}}(e,t)
return[function(e,t,r,a){return function(o){var s,c=(null!=a?a:{}).pageInstance
if(c){var d=[new Bp(n[t],"failed-to-".concat((s=r,s.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})))))],u=new Promise((function(e,n){o.then((function(n){return e(n.response)})).catch(n)}))
return i[t].trackFeatureDegradationsForFetch(e,[],d,u,c).then((function(){return o}))}return o}},(r=i,function(){return P(r).forEach(Wp)})]}(i,{READ:"messaging-conversation-load-module",WRITE:"messaging-conversation-send-module",SEARCH:"messaging-conversation-search-module"},a):[function(){return function(e){return e}},$p]}(e))&&void 0!==n?n:[],r=g(t,2),i=r[0],a=void 0===i?null:i,o=r[1],s=void 0===o?$p:o
return{experimental:e.experimental,messengerResource:e.messengerResource,mpName:e.mpName,queryFormat:e.queryFormat,teardown:A()?s:$p,track:a}},zh=function(e,n,t,r){t.length&&function(e,n,t){var r="acknowledgeMessagesReceived",i=JSON.stringify({messageUrns:n,clientId:e.mpName,deliveryMechanism:t,clientConsumedAt:Date.now()}),a=function(e){return Fu("restli",e.messengerResource,"messengerMessageDeliveryAcknowledgements",{action:"sendDeliveryAcknowledgement"})}(e),o=tf(r)
return mp(a,i).catch(ef(r)).then(o)}(n,t,r).catch(Of(e))},Qh=function(e,n,t,r){n(function(e,n,t){return{type:"ADD_NEW_MESSAGE_BY_CONVO_URN",payload:{message:e,conversationUrn:n},requestId:void 0}}(r,t)),e.clientSensorTrackers.triggerRecipientMetric("realtime-message-received")},$h=function(e,n,t){return function(r,a,o,s,c){o.entityUrn&&zh(e.id,n,[o.entityUrn],"REALTIME")
var d=e.state.conversations.getByIdentifier(r,"FullMailboxState")
if(d){var u=d.messages.first()
return u&&u.deliveredAt.getTime()>o.deliveredAt.getTime()?Promise.resolve():(a.lastActivityAt>d.lastActivityAt&&t(Qf(ao(a),r)),Qh(e,t,r,o),s&&d.messages.getByIdentifier(s.entityUrn)?Promise.resolve():(e.clientSensorTrackers.triggerRecipientMetric("realtime-message-gap-detected"),e.syncConversationMessages(r,"FullMailboxState",c)))}var l=function(e,n,t){var r,a,o
return i(i({},n),{},{clientId:fl(),entityUrn:e,draftMessage:t,matchingSearches:[],messages:new Bl,typingUrns:new Set,additionalData:null,status:{fullyLoaded:null!==(r=n.status.fullyLoaded)&&void 0!==r&&r,loading:null!==(a=n.status.loading)&&void 0!==a&&a,sending:null!==(o=n.status.sending)&&void 0!==o?o:"Ready"}})}(r,a,Kl(e.participant.hostIdentityUrn))
return t(zf(l,[])),Qh(e,t,r,o),Promise.resolve()}},Yh=function(e,n,t,r,i){return function(a){var o,s,c
if(!a)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"chainSync > handleSingleResponseBatchSync: messengerMessagesBySyncTokensInBatch response for a single conversation is missing"})
var d=rp(a,t),u=d.messages,l=d.newSyncToken,p=d.shouldClearCache,f=d.deletedUrns,h=d.participants,m=d.requestId
e(jf(h,m))
var y=null===(o=(null!==(c=a.elements)&&void 0!==c?c:[])[0])||void 0===o||null===(s=o.conversation)||void 0===s?void 0:s.entityUrn
if(y){Kh(e,p,f,y),void 0===r.state.conversations.getByIdentifier(y)&&e(zf(n[y],[])),e(eh(v(u),y,l,p,m)),zh(r.id,i,u.map((function(e){return e.entityUrn})),"SYNC")
var g,b,T,_=r.state.conversations.getByIdentifier(y,"FullMailboxState")
_&&Oh(u.map((function(e){return e.backendUrn})),_.backendUrn,null===(g=Cf(r.id))||void 0===g||null===(b=g.realtime)||void 0===b?void 0:b.serverClockTime,p,null===(T=r.options.trackingOptions)||void 0===T?void 0:T.trackingFireEvent)}r._updateLocalParticipant()}},Xh=function(e){if(Ea(e)){var n=e.code
return void 0!==n&&n>399&&n<500&&422!==n&&429!==n}return!1},Jh=function(e){if(Ea(e)){var n=e.code
return void 0!==n&&n>399&&n<500}return!1},Zh=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()
return e.reduce((function(e,n){return n.lastActivityAt.getTime()<e?n.lastActivityAt.getTime():e}),n)}
function em(e,n,t,r,i,a,o){return function(s){var c,d
1===n?e.clientSensorTrackers.triggerSenderMetric("FIRST"===t?"message-send-fail":"message-manual-retry-fail"):e.clientSensorTrackers.triggerSenderMetric("message-auto-retry-fail")
var u=-1
try{u=ya().serverClockTime}catch(s){u=Date.now()}return Rh(r,i,a,u,null===(c=e.options.trackingOptions)||void 0===c?void 0:c.trackingFireEvent),function(e,n,t,r,i,a,o){var s=Mh(e),c=e.message,d="failure message: ".concat(c),u=!1
if(a&&(u=a.length>1),t&&(u=null==t?void 0:t.groupChat),i&&r){var l={isAutoRetry:n>1,clientFailureType:s,clientFailureDetail:d,conversationType:xh(r,u),messageContentType:wh(r),messagingThreadUrn:t?t.backendUrn:null,sourceType:i.sourceType,trackingId:i.trackingId,messageComposeFlowTrackingId:i.messageComposeFlowTrackingId,messageSendAttemptedAt:Date.now()}
o&&o("MessageSendClientFailureEvent",l)}}(s,n,r,i,a,o,null===(d=e.options.trackingOptions)||void 0===d?void 0:d.trackingFireEvent),Promise.reject(s)}}function nm(e,n,t){return function(r){return 1===n?e.clientSensorTrackers.triggerSenderMetric("FIRST"===t?"message-send-success":"message-manual-retry-success"):e.clientSensorTrackers.triggerSenderMetric("message-auto-retry-success"),r}}var tm,rm=function(e,n,t,r){t&&t.length>0&&t.map((function(t){n.findIndex((function(e){return La(e)&&e.conversationUrn===t.entityUrn}))>-1&&(t.incompleteRetriableData?e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-reload-failure"):e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-reload-success"))})),r&&r.length>0&&r.map((function(t){t.entityUrn&&n.findIndex((function(e){return Fa(e)&&e.messageUrn===t.entityUrn}))>-1&&(t.incompleteRetriableData?e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-reload-failure"):e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-reload-success"))}))},im=function(){function e(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
o(this,e),d(this,"_queue",void 0),d(this,"_continueOnFailure",void 0),this._queue=[],this._continueOnFailure=n}return c(e,[{key:"length",get:function(){return this._queue.length}},{key:"enqueue",value:function(e,n,t){var r=this
return new Promise((function(i,a){r._queue.push({requestGenerator:e,resolve:i,reject:a,messageId:n}),1===r._queue.length&&r._flush(t)}))}},{key:"start",value:function(e){return this._flush(e)}},{key:"_flush",value:function(e){var n=this
if(this._queue.length){var t=this._queue[0]
if(!e||e&&t.messageId&&e(t.messageId))return t.requestGenerator().then((function(r){return t.resolve(r),n._queue.shift(),n._queue.length>0?n._flush(e).then((function(e){return e+1})):1})).catch((function(r){return t.reject(r),n._continueOnFailure&&(n._queue.shift(),n._queue.length>0)?n._flush(e):Promise.resolve(0)}))
if(this._queue.shift(),this._queue.length>0)return this._flush(e)}return Promise.resolve(0)}}]),e}(),am="function"==typeof Symbol&&Symbol.observable||"@@observable",om="messengerData",sm=function(e){return{triggerSenderMetric:function(n){null==e||e({groupName:om,metricName:n})},triggerRecipientMetric:function(n){null==e||e({groupName:om,metricName:n})},triggerOtherMetric:function(n){null==e||e({groupName:om,metricName:n})}}},cm=1.25
tm=Symbol.observable
var dm=function(){function e(n,t,r){var a,s=this,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_f,u=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0
o(this,e),d(this,"_retrieveNetworkConfig",void 0),d(this,"_stateSubscribers",[]),d(this,"_pendingErrors",[]),d(this,"_id",void 0),d(this,"_options",void 0),d(this,"_throttledTypingFns",{}),d(this,"_filter",void 0),d(this,"_oldestConversationTime",0),d(this,"_cursor",null),d(this,"_fullyLoaded",!1),d(this,"_isLoadingConversations",!1),d(this,"_localParticipant",void 0),d(this,"_dispatch",void 0),d(this,"_clientSensorTrackers",void 0),d(this,"trackingData",{}),d(this,"_sendFullMessageInDraftConversation",(function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"FIRST"
if(e.messages.length>0)return wf(s.id)(Aa.fromClientErrorMemo("CANNOT_ADD_MESSAGES_IN_CONVERSATION"))
var a=Vl({senderUrn:s.participant.hostIdentityUrn,content:n,optionalSendData:t})
s._dispatch(Yf(a,e.clientId))
var o=s.state.draftConversations.get(e.clientId)
return o?("Failed"!==o.sending&&s._dispatch(sh(o.clientId,"InProgress")),s._getRequestQueue("messageSend",o.clientId).enqueue((function(){return Bh(s.networkConfig,s.participant.hostIdentityUrn,o,a.clientId,s._dispatch.bind(s),s,r,i).then((function(e){var n
return(null===(n=s.state.conversations.getByIdentifier(e,"FullMailboxState"))||void 0===n?void 0:n.clientId)||o.clientId})).catch((function(e){return s.options.continueOnFailure||s._dispatch(sh(o.clientId,"Failed")),wf(s.id)(Aa.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),a.clientId,Za(s,o.clientId)).finally((function(){0===s._getRequestQueue("messageSend",o.clientId).length&&s._dispatch(sh(o.clientId,"Ready"))}))):wf(s.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))})),this._id=n,this._options=i({},t),this._filter=c,this._dispatch=u,this._retrieveNetworkConfig=l,this._clientSensorTrackers=sm(null===(a=t.trackingOptions)||void 0===a?void 0:a.incrementMetricCounterHandler),this._localParticipant={kind:"MEMBER",clientId:r,entityUrn:"urn:li:msg_messagingParticipant:".concat(this.id),hostIdentityUrn:this.id,backendUrn:null,firstName:"",lastName:"",headline:"",additionalData:null,pronoun:{customPronoun:"",standardizedPronoun:""},profile:{}},kf(n,{next:function(e){return E(s._stateSubscribers,Sf(e,c,s._oldestConversationTime,s._cursor,s._fullyLoaded))},error:function(e){return s._notifyErrorSubscribers(e)}})}return c(e,[{key:tm,value:function(){return this}},{key:am,value:function(){return this}},{key:"observable",get:function(){return this}},{key:"subscribe",value:function(e){var n=this
if(this._options.enableParameterTypeChecks&&!ne(e)&&!ee(e))throw Aa.fromInvalidType("subscribe","subscriber"," Subscriber | NextFunction")
var t=e
return ee(e)&&(t={next:e}),this._stateSubscribers.push(t),this._pendingErrors.length>0&&this._pendingErrors.forEach((function(e){return n._notifyErrorSubscribers(e)})),setTimeout((function(){return t.next(n.state)}),0),{unsubscribe:function(){n._stateSubscribers=n._stateSubscribers.filter((function(e){return e!==t}))}}}},{key:"filter",get:function(){return this._filter}},{key:"subscribersCount",get:function(){return this._stateSubscribers.length}},{key:"state",get:function(){var e=Ef(this._id)
return Sf(e,this._filter,this._oldestConversationTime,this._cursor,this._fullyLoaded)}},{key:"participant",get:function(){return this._localParticipant}},{key:"id",get:function(){return this._id}},{key:"options",get:function(){return this._options}},{key:"clientSensorTrackers",get:function(){return this._clientSensorTrackers}},{key:"getPageInstanceFn",get:function(){var e,n
return null!==(e=this._options.trackingOptions)&&void 0!==e&&e.getPageInstance?null===(n=this._options.trackingOptions)||void 0===n?void 0:n.getPageInstance:function(){}}},{key:"getPageKeyFn",get:function(){var e
return null===(e=this._options.trackingOptions)||void 0===e?void 0:e.getPageKey}},{key:"isLoadingConversations",get:function(){return this._isLoadingConversations}},{key:"getConversations",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0
if(this._options.enableParameterTypeChecks){var i="getConversations"
if(!Array.isArray(e))return wf(this.id)(Aa.fromInvalidType(i,"conversationIdentifiers"," URN | UUIDV4[]"))
if(!H(t))return wf(this.id)(Aa.fromInvalidType(i,"count"," number"))
if(!C(r)&&!pe(r))return wf(this.id)(Aa.fromInvalidType(i,"trackingData","TrackingData | undefined"))
if(!K(e,X))return wf(this.id)(Aa.fromInvalidType(i,"conversationIdentifiers[x]"," URN or UUIDV4"))}var a=[],o=[]
return e.forEach((function(e){var t=n.state.conversations.getByIdentifier(e,"FullMailboxState")
t?a.push(t):Y(e)&&o.push(e)})),o.length?af(this.networkConfig,o,t,r).then((function(e){return Zl(e,n.createNewDraftMessage())})).then((function(e){var t=e.conversations,r=e.participants,i=e.requestId
return n._dispatch($f(t,P(r),null,i)),n._updateLocalParticipant(),Ga([].concat(a,v(t)))})).catch(wf(this.id)):Promise.resolve(a)}},{key:"syncConversationMessages",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FullMailboxState",r=arguments.length>2?arguments[2]:void 0
if(this._options.enableParameterTypeChecks){var i="syncConversationMessages"
if(!Y(e))return wf(this.id)(Aa.fromInvalidType(i,"conversationUrn","URN"))
if(!ue(t))return wf(this.id)(Aa.fromInvalidType(i,"selectOption","SelectorFilterOption"))
if(!C(r)&&!pe(r))return wf(this.id)(Aa.fromInvalidType(i,"trackingData","TrackingData | undefined"))}var a=this.state.conversations.getByIdentifier(e,t)
return a?(this._dispatch(Xf(a.clientId,!0)),new Ih(void 0,cm).try((function(t){return of(n.networkConfig,e,a.metadata.syncToken,r).catch((function(e){var r
throw n.clientSensorTrackers.triggerRecipientMetric("message-list-sync-fail"),Ph(e,"MESSAGES",t,[a],null===(r=n.options.trackingOptions)||void 0===r?void 0:r.trackingFireEvent),e}))})).timeoutAfter(this.options.syncRetryTimeoutInSecond).cancelIf(Jh).start().then((function(e){return tp(e)})).then((function(t){var r,i,o,s=t.messages,c=t.newSyncToken,d=t.shouldClearCache,u=t.deletedUrns,l=t.participants,p=t.requestId
return n._dispatch(jf(l,p)),Kh(n._dispatch.bind(n),d,u,e),n._dispatch(eh(v(s),a.entityUrn,c,d,p)),zh(n.id,n.networkConfig,s.map((function(e){return e.entityUrn})),"SYNC"),Oh(s.map((function(e){return e.backendUrn})),a.backendUrn,null===(r=Cf(n.id))||void 0===r||null===(i=r.realtime)||void 0===i?void 0:i.serverClockTime,d,null===(o=n.options.trackingOptions)||void 0===o?void 0:o.trackingFireEvent),n._updateLocalParticipant(),n._getSeenReceipts(e).catch(Of(n.id)),n._getQuickReplies(e).catch(wf(n.id)),n.clientSensorTrackers.triggerRecipientMetric("message-list-sync-success"),Promise.resolve()})).catch((function(e){return n._dispatch(Xf(a.clientId,!1)),wf(n.id)(Aa.fromClientErrorMemo("MESSAGE_LIST_SYNC_FAILED",e))}))):wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"syncConversations",value:function(e){var n=this
if(this._options.enableParameterTypeChecks&&!C(e)&&!pe(e))return wf(this.id)(Aa.fromInvalidType("syncConversations","trackingData","TrackingData | undefined"))
var t=this.state.status.syncToken
return this.state.status.loading?(F("Trying to chain-sync while already loading"),Promise.resolve(0)):t?(this._dispatch(Jf(!0)),new Ih(void 0,cm).try((function(r){return function(e,n,t,r,a,o,s){return function(e,n,t,r){var i="syncConversations",a={mailboxUrn:n}
t&&(a.syncToken=t)
var o=Rl(e,a),s=nf(i)
return Xp(e,o,i,r)().then(s)}(e,n,r,s).then((function(e){return function(e,n){var t,r,a,o,s,c,d
dp(e,"messengerConversationsBySyncToken")
var u=null===(t=e.data)||void 0===t?void 0:t.messengerConversationsBySyncToken
if(!u)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"syncConversationsToState: messengerConversationsBySyncToken response is missing"})
var l=e.requestId,p={},f=null!==(r=null===(a=u.metadata)||void 0===a?void 0:a.newSyncToken)&&void 0!==r?r:null,h=null!==(o=null===(s=u.metadata)||void 0===s?void 0:s.shouldClearCache)&&void 0!==o&&o,m=null!==(c=null===(d=u.metadata)||void 0===d?void 0:d.deletedUrns)&&void 0!==c?c:[],y=u.elements.filter(Xl).map((function(e){var t=g($l(e,Kl(n)),2),r=t[0]
return t[1].forEach((function(e){p[e.hostIdentityUrn]?p[e.hostIdentityUrn]=i(i({},p[e.hostIdentityUrn]),e):p[e.hostIdentityUrn]=e})),r})).filter(S)
return{conversations:y,newSyncToken:f,shouldClearCache:h,deletedUrns:m,participants:p,requestId:l}}(e,n)})).then((function(e){var n
return Nh(e.conversations.map((function(e){return e.backendUrn})),!!e.shouldClearCache,null===(n=a.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),a.clientSensorTrackers.triggerRecipientMetric("conversation-list-sync-success"),e})).catch((function(e){var n
throw a.clientSensorTrackers.triggerRecipientMetric("conversation-list-sync-fail"),Ph(e,"CONVERSATIONS",o,void 0,null===(n=a.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),e})).then((function(n){var r=n.conversations.map((function(e){var n,t,r=null===(n=a.state.conversations.getByIdentifier(e.entityUrn))||void 0===n||null===(t=n.metadata)||void 0===t?void 0:t.syncToken
return r?{conversationUrn:e.entityUrn,syncToken:r}:{conversationUrn:e.entityUrn}}))
return function(e,n,t){var r="getSyncMessagesByConversationIdInBatch",i=xl(e,{criteria:n}),a=nf(r)
return Xp(e,i,r,t)().catch(ef(r)).then(a)}(e,r,s).then((function(r){var i
dp(r,"messengerMessagesBySyncTokensInBatch")
var o=null===(i=r.data)||void 0===i?void 0:i.messengerMessagesBySyncTokensInBatch
if(!o)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"chainSync: messengerMessagesBySyncTokensInBatch response is missing"})
var s=I(n.conversations.map((function(e){return[e.entityUrn,e]})))
return o.forEach(Yh(t,s,r.requestId,a,e)),a.clientSensorTrackers.triggerRecipientMetric("message-list-sync-success"),n})).catch((function(e){var t
throw a.clientSensorTrackers.triggerRecipientMetric("message-list-sync-fail"),Ph(e,"MESSAGES",1,n.conversations,null===(t=a.options.trackingOptions)||void 0===t?void 0:t.trackingFireEvent),e}))}))}(n.networkConfig,n.id,n._dispatch.bind(n),t,n,r,e)})).timeoutAfter(this.options.syncRetryTimeoutInSecond).cancelIf(Jh).start().then((function(e){var t=e.conversations,r=e.newSyncToken,i=e.shouldClearCache,a=e.deletedUrns,o=e.participants,s=e.requestId
return Kh(n._dispatch.bind(n),null!=i&&i,null!=a?a:[]),n._dispatch($f(t,P(o),r,s)),n._updateLocalParticipant(),t.length})).catch((function(e){return n._dispatch(Jf(!1)),wf(n.id)(Aa.fromClientErrorMemo("CHAIN_SYNC_FAILED",e))}))):wf(this.id)(Aa.fromClientErrorMemo("CHAIN_SYNC_CANNOT_START"))}},{key:"composeByRecipients",value:function(e){var n,t,r=this
if(this._options.enableParameterTypeChecks){var i="composeByRecipients"
if(!Array.isArray(e))return wf(this.id)(Aa.fromInvalidType(i,"recipientUrns","URN[]"))
if(!K(e,Y))return wf(this.id)(Aa.fromInvalidType(i,"recipientUrns[x]","URN"))}return lf(this.networkConfig,this.id,e,{pageInstance:null===(n=this.options.trackingOptions)||void 0===n||null===(t=n.getPageInstance)||void 0===t?void 0:t.call(n)}).then((function(n){var t,i=null===(t=n.data)||void 0===t?void 0:t.messengerConversationsByRecipients.elements.filter(Xl),a=n.requestId
if(null!=i&&i.length){var o=i[0],s=r.state.conversations.getByIdentifier(o.entityUrn,"FullMailboxState")
if(s)return Promise.resolve(s)
var c=Jl(n,r.createNewDraftMessage()),d=c.conversations,u=c.participants,l=d.filter((function(e){return!r.state.conversations.getByIdentifier(e.clientId)}))
r._dispatch($f(l,P(u),null,a))
var p=r.state.conversations.getByIdentifier(d[0].clientId,"FullMailboxState")
return p?Promise.resolve(p):wf(r.id)(Aa.fromClientErrorMemo("COMPOSE_BY_RECIPIENTS_FAILED"))}return r.createDraftConversation(e)}))}},{key:"getConversationsByRecipients",value:function(e){var n,t,r=this
if(this._options.enableParameterTypeChecks){var i="getConversationsByRecipients"
if(!Array.isArray(e))return wf(this.id)(Aa.fromInvalidType(i,"recipientUrns","URN[]"))
if(!K(e,Y))return wf(this.id)(Aa.fromInvalidType(i,"recipientUrns[x]","URN"))}return lf(this.networkConfig,this.id,e,{pageInstance:null===(n=this.options.trackingOptions)||void 0===n||null===(t=n.getPageInstance)||void 0===t?void 0:t.call(n)}).then((function(e){var n=Jl(e,r.createNewDraftMessage()),t=n.conversations,i=n.participants,a=r._updateConvoStateListClientId(t)
return r._dispatch($f(a,P(i),null,e.requestId)),Promise.resolve(a)}))}},{key:"createDraftConversation",value:function(e){if(this._options.enableParameterTypeChecks){var n="createDraftConversation"
if(!Array.isArray(e))return wf(this.id)(Aa.fromInvalidType(n,"recipientUrns","URN[]"))
if(!K(e,Y))return wf(this.id)(Aa.fromInvalidType(n,"recipientUrns[x]","URN"))}var t,r,i=(t=this.participant.entityUrn,r=e,{clientId:fl(),draftMessage:Kl(t),messages:new Bl,recipients:r,sending:"Ready"})
return this._dispatch({type:"ADD_DRAFT_CONVERSATION",payload:{conversation:i}}),Promise.resolve(i)}},{key:"deleteDraftConversation",value:function(e){return this._options.enableParameterTypeChecks&&!X(e)?wf(this.id)(Aa.fromInvalidType("deleteDraftConversation","draftConversationClientId","URN")):this.state.draftConversations.has(e)?(this._dispatch({type:"REMOVE_DRAFT_CONVERSATION",payload:{conversationId:e}}),Promise.resolve(e)):wf(this.id)(Aa.fromClientErrorMemo("DRAFT_CONVERSATION_NOT_FOUND"))}},{key:"updateDraftConversation",value:function(e,n){if(this._options.enableParameterTypeChecks){var t="deleteDraftConversation"
if(!Q(e))return wf(this.id)(Aa.fromInvalidType(t,"conversationId","UUIDV4"))
if(!Array.isArray(n))return wf(this.id)(Aa.fromInvalidType(t,"newRecipientUrns","URN[]"))
if(!K(n,Y))return wf(this.id)(Aa.fromInvalidType(t,"newRecipientUrns[x]","URN"))}return this.state.draftConversations.get(e)?(this._dispatch(function(e,n){return{type:"UPDATE_DRAFT_CONVERSATION",payload:{conversationId:e,recipientUrns:n}}}(e,n)),Promise.resolve(this.state.draftConversations.get(e))):wf(this.id)(Aa.fromClientErrorMemo("DRAFT_CONVERSATION_NOT_FOUND"))}},{key:"setConversationAsActive",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{markConvoReadTypes:"NO_CHANGE",setConvoActiveSyncOption:"FALLBACK_SYNC"},t=arguments.length>2?arguments[2]:void 0
if(this._options.enableParameterTypeChecks){var r="setConversationAsActive"
if(!X(e))return wf(this.id)(Aa.fromInvalidType(r,"convoIdentifier","URN | UUIDV4"))
if(!re(n))return wf(this.id)(Aa.fromInvalidType(r,"convoActivationOption","ConvoActivationOption"))
if(t&&!pe(t))return wf(this.id)(Aa.fromInvalidType(r,"trackingData","TrackingData"))}var i=this._getConversationByIdentifier(e,"FullMailboxState"),a=this.state.connected.realtime
return i?z(i)?("MARK_READ"!==n.markConvoReadTypes&&"MARK_UNREAD"!==n.markConvoReadTypes||this.updateConversationsReadStatus(d({},i.entityUrn,"MARK_READ"===n.markConvoReadTypes)).then((function(){return Promise.resolve()})).catch(wf(this.id)),"ALWAYS_SYNC"!==n.setConvoActiveSyncOption&&i.metadata.syncToken&&a?Promise.resolve():this.syncConversationMessages(i.entityUrn,"FullMailboxState",t)):Promise.resolve():wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"updateConversation",value:function(e,n){if(this._options.enableParameterTypeChecks){var t="updateConversation"
if(!Y(e))return wf(this.id)(Aa.fromInvalidType(t,"conversationUrn","URN"))
if(!V(n)||Array.isArray(n))return wf(this.id)(Aa.fromInvalidType(t,"status","ConversationUpdate<C, M>"))}var r=d({},e,n)
return this._dispatch(Gf(r)),mf(this.networkConfig,e,n).then((function(){return Promise.resolve()})).catch(wf(this.id))}},{key:"updateConversationsReadStatus",value:function(e){if(this._options.enableParameterTypeChecks&&!ae(e))return wf(this.id)(Aa.fromInvalidType("updateConversationsReadStatus","readStatusUpdateMap","UrnUpdateMap"))
var n=I(N(e).map((function(n){return[n,{read:e[n]}]})))
return this._dispatch(Gf(n)),function(e,n){var t="updateConversations",r=N(n),i={}
r.forEach((function(e){i[e]={patch:{$set:n[e]}}}))
var a=JSON.stringify({entities:i}),o=tf(t),s=function(e,n){var t=Hu(n),r="messengerConversations?ids=List(".concat(t,")")
return Fu("restli",e.messengerResource,r)}(e,r)
return mp(s,a).catch(ef(t)).then(o)}(this.networkConfig,n).then((function(){return Promise.resolve()})).catch(wf(this.id))}},{key:"addCategoryToConversations",value:function(e,n){if(this._options.enableParameterTypeChecks){var t="addCategoryToConversations"
if(!Array.isArray(e))return wf(this.id)(Aa.fromInvalidType(t,"conversationUrns","URN[]"))
if(!K(e,Y))return wf(this.id)(Aa.fromInvalidType(t,"conversationUrns[x]","URN"))
if(!de(n))return wf(this.id)(Aa.fromInvalidType(t,"category","ConversationCategory"))}return this._dispatchCategoryUpdate(e,n,"ADD"),function(e,n,t){var r="addCategoryToConversationsAPI",i=JSON.stringify({conversationUrns:n,category:t}),a=tf(r),o=function(e){return Fu("restli",e.messengerResource,"messengerConversations",{action:"addCategory"})}(e)
return mp(o,i).catch(ef(r)).then(a)}(this.networkConfig,e,n).then((function(){return Promise.resolve()})).catch(wf(this.id))}},{key:"removeCategoryFromConversations",value:function(e,n){if(this._options.enableParameterTypeChecks){var t="removeCategoryFromConversations"
if(!Array.isArray(e))return wf(this.id)(Aa.fromInvalidType(t,"conversationUrns","URN[]"))
if(!K(e,Y))return wf(this.id)(Aa.fromInvalidType(t,"conversationUrns[x]","URN"))
if(!de(n))return wf(this.id)(Aa.fromInvalidType(t,"category","ConversationCategory"))}return this._dispatchCategoryUpdate(e,n,"REMOVE"),function(e,n,t){var r="removeCategoryFromConversationsAPI",i=JSON.stringify({conversationUrns:n,category:t}),a=tf(r),o=function(e){return Fu("restli",e.messengerResource,"messengerConversations",{action:"removeCategory"})}(e)
return mp(o,i).catch(ef(r)).then(a)}(this.networkConfig,e,n).then((function(){return Promise.resolve()})).catch(wf(this.id))}},{key:"updateConversationTitle",value:function(e,n){if(this._options.enableParameterTypeChecks){var t="updateConversationTitle"
if(!Y(e))return wf(this.id)(Aa.fromInvalidType(t,"conversationUrn","URN"))
if(!G(n))return wf(this.id)(Aa.fromInvalidType(t,"title","string"))}var r=d({},e,{title:n})
return this._dispatch(Gf(r)),function(e,n,t){var r=JSON.stringify({patch:{$set:{title:t}}})
return hf(e,n,r)}(this.networkConfig,e,n).then((function(){return Promise.resolve()})).catch(wf(this.id))}},{key:"deleteConversation",value:function(e){var n=this
return this._options.enableParameterTypeChecks&&!Y(e)?wf(this.id)(Aa.fromInvalidType("deleteConversation","conversationUrn","URN")):function(e,n){var t="deleteConversation",r="messengerConversations/".concat(encodeURIComponent(n)),i=tf(t)
return yp(e,r).catch(ef(t)).then(i)}(this.networkConfig,e).then((function(){n._dispatch(Kf(e))})).catch(wf(this.id))}},{key:"deleteConversations",value:function(e){var n=this
if(this._options.enableParameterTypeChecks){var t="deleteConversations"
if(!Array.isArray(e))return wf(this.id)(Aa.fromInvalidType(t,"conversationUrns","URN[]"))
if(!K(e,Y))return wf(this.id)(Aa.fromInvalidType(t,"conversationUrns[x]","URN"))}return function(e,n){var t="bulkDeleteConversations",r=Hu(n),i="messengerConversations?ids=List(".concat(r,")"),a=tf(t)
return yp(e,i).catch(ef(t)).then(a)}(this.networkConfig,e).then((function(){n._dispatch(Wf(e))})).catch(wf(this.id))}},{key:"loadOlderConversations",value:function(){var e=this
if(this._isLoadingConversations)return Promise.resolve(0)
if("search"!==this.filter.kind&&this.state.status.fullyLoaded)return Promise.resolve(0)
this._isLoadingConversations=!0
var n=this.state.conversations.last()
this._dispatch(Jf(!0))
var t=n?n.lastActivityAt.getTime():null,r=this._cursor
return function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null
switch(t.kind){case"category":var o,s,c,d,u={category:t.category,count:r.convCount}
return a?df(e,n,a,u,{pageInstance:null===(o=r.trackingOptions)||void 0===o||null===(s=o.getPageInstance)||void 0===s?void 0:s.call(o)}):uf(e,n,i,u,{pageInstance:null===(c=r.trackingOptions)||void 0===c||null===(d=c.getPageInstance)||void 0===d?void 0:d.call(c)})
case"search":var l,p,f=t.categories,h=t.keywords,m=t.read,y=t.firstDegreeConnections
return pf(e,n,f,null!=h?h:null,y,m,a,{pageInstance:null===(l=r.trackingOptions)||void 0===l||null===(p=l.getPageInstance)||void 0===p?void 0:p.call(l)})}}(this.networkConfig,this.id,this.filter,this.options,t,r).then(Hh).then((function(n){var t=n.data,i=n.requestId,a=function(e,n){var t,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{kind:"category",category:"INBOX"}
if(!e||!e.elements)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"conversationsResponseDataToState: data or its elements is missing"})
var a={},o=e.elements.filter(Xl).map((function(e){var t=g($l(e,n,op(i)?i.id:void 0),2),r=t[0]
return t[1].forEach((function(e){J(e)&&e.hostIdentityUrn.includes(e.firstName)?F("Failed participant decoration",e.entityUrn):a[e.hostIdentityUrn]=e})),r}))
return{conversations:o,participants:a,nextCursor:null!==(t=null===(r=e.metadata)||void 0===r?void 0:r.nextCursor)&&void 0!==t?t:null}}(t,e.createNewDraftMessage(),e.filter),o=a.conversations,s=a.participants,c=a.nextCursor
e._cursor=c,e._fullyLoaded=null===c||c===r,e._oldestConversationTime=Zh(o,e._oldestConversationTime)
var d="search"!==e.filter.kind
return e._dispatch(function(e,n){return{type:"ADD_OLDER_CONVERSATIONS",payload:{nextCursor:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,conversations:e,participants:n,fullyLoaded:arguments.length>3?arguments[3]:void 0,writeCategories:arguments.length>4?arguments[4]:void 0},requestId:arguments.length>5?arguments[5]:void 0}}(o,P(s),e._cursor,e._fullyLoaded,d,i)),e.clientSensorTrackers.triggerRecipientMetric("conversation-list-load-more-success"),o.length})).catch((function(n){return e.clientSensorTrackers.triggerRecipientMetric("conversation-list-load-more-fail"),e._dispatch(Jf(!1)),wf(e.id)(n)})).finally((function(){e._isLoadingConversations=!1}))}},{key:"sendMessage",value:function(e,n,t,r){if(this._options.enableParameterTypeChecks){var i="sendMessage"
if(!X(e))return wf(this.id)(Aa.fromInvalidType(i,"convoIdentifier","URN | UUIDV4"))
if(!se(n))return wf(this.id)(Aa.fromInvalidType(i,"content","TextFragment"))
if(!C(t)&&!le(t))return wf(this.id)(Aa.fromInvalidType(i,"optionalSendData","OptionalSendData"))
if(!C(r)&&!pe(r))return wf(this.id)(Aa.fromInvalidType(i,"trackingData","TrackingData | undefined"))}var a=this._getConversationByIdentifier(e)
return a?z(a)?this._sendMessageInExistingConvo(a,n,t,r):this._sendFullMessageInDraftConversation(a,n,t,r):wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"sendPendingMessages",value:function(e){var n=this
if(this._options.enableParameterTypeChecks&&!X(e))return wf(this.id)(Aa.fromInvalidType("sendPendingMessages","conversationId","URN | UUIDV4"))
var t=this._getConversationByIdentifier(e)
if(!t)return wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))
if(z(t)){var r
if("InProgress"===(null===(r=t.status)||void 0===r?void 0:r.sending))return wf(this.id)(Aa.fromClientErrorMemo("SENDING_QUEUE_IN_PROGRESS"))
this._dispatch(Gf(Gh(t,"InProgress")))}else{if("InProgress"===t.sending)return wf(this.id)(Aa.fromClientErrorMemo("SENDING_QUEUE_IN_PROGRESS"))
this._dispatch(sh(t.clientId,"InProgress"))}return this._getRequestQueue("messageSend",t.clientId).start(Za(this,t.clientId)).then((function(){return t.clientId})).finally((function(){0===n._getRequestQueue("messageSend",t.clientId).length&&(z(t)?n._dispatch(Gf(Gh(t,"Ready"))):n._dispatch(sh(t.clientId,"Ready")))}))}},{key:"retrySendMessage",value:function(e,n,t){if(this._options.enableParameterTypeChecks){var r="retrySendMessage"
if(!X(e))return wf(this.id)(Aa.fromInvalidType(r,"convoIdentifier","URN | UUIDV4"))
if(!Q(n))return wf(this.id)(Aa.fromInvalidType(r,"messageId","UUIDV4"))
if(!C(t)&&!pe(t))return wf(this.id)(Aa.fromInvalidType(r,"trackingData","TrackingData | undefined"))}var i=this._getConversationByIdentifier(e)
if(!i)return wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))
var a=i.messages.getByIdentifier(n)
if(!a)return wf(this.id)(Aa.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
this._dispatch(ch(i.clientId,n))
var o=this._getConversationByIdentifier(e)
return o?z(o)?this._sendMessageInExistingConvo(o,a.content,a.optionalSendData,t,"RETRY"):this._sendFullMessageInDraftConversation(o,a.content,a.optionalSendData,t,"RETRY"):wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"fetchEntities",value:function(e){var n=this
if(this._options.enableParameterTypeChecks){var t="fetchEntities"
if(!Array.isArray(e))return wf(this.id)(Aa.fromInvalidType(t,"entities","GenericEntity[]"))
var r,i=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(!t){if(Array.isArray(e)||(t=b(e))){t&&(e=t)
var r=0,i=function(){}
return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1
return{s:function(){t=t.call(e)},n:function(){var e=t.next()
return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}(e)
try{for(i.s();!(r=i.n()).done;){var a=r.value
if(!Ba(a))return wf(this.id)(Aa.fromInvalidType(t,"entities","GenericEntity[]"))}}catch(e){i.e(e)}finally{i.f()}}var o,s,c=g(oo(e),2),d=c[0],u=c[1],l=this.state.incompleteRetriableEntities
return function(e,n,t){var r=e.state.incompleteRetriableEntities
n&&n.length>0&&n.map((function(n){r.findIndex((function(e){return La(e)&&e.conversationUrn===n&&0===e.retryCount}))>-1&&e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-received")})),t&&t.length>0&&t.map((function(n){r.findIndex((function(e){return Fa(e)&&e.messageUrn===n&&0===e.retryCount}))>-1&&e.clientSensorTrackers.triggerRecipientMetric("messenger-incomplete-data-received")}))}(this,d,u),o=d.length?af(this.networkConfig,d,1).then((function(e){return Zl(e,n.createNewDraftMessage())})).then((function(e){var t=e.conversations,r=e.participants,i=e.requestId
return n._dispatch($f(t,P(r),null,i)),n._updateLocalParticipant(),rm(n,l,t,void 0),Promise.resolve(t)})).catch(wf(this.id)):Promise.resolve(),s=u.length?function(e,n,t){var r="getMessagesByIds",i=Cl(e,{messengerMessagesIds:n}),a=nf(r)
return Xp(e,i,r,void 0)().catch(ef(r)).then(a)}(this.networkConfig,u).then((function(e){return function(e){var n,t,r=(null!==(n=null===(t=e.data)||void 0===t?void 0:t.messengerMessagesByIds)&&void 0!==n?n:[]).filter(S)
if(!e||!e.data)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"messagesByIdsResponseToStates: messengerMessagesByIds response is missing"})
var i=ap(r)
return{messages:i.messages,participants:i.participants,requestId:e.requestId}}(e)})).then((function(e){var t=e.messages,r=e.participants,i=e.requestId,a=t.filter(S).reduce((function(e,n){return e[n.entityUrn]=n,e}),{})
return n._dispatch(rh(a,void 0,i)),n._dispatch(jf(r)),n._updateLocalParticipant(),rm(n,l,void 0,t),Promise.resolve(t)})).catch(wf(this.id)):Promise.resolve(),Promise.allSettled([o,s]).then((function(e){var n={conversations:{status:null},messages:{status:null}}
return e.forEach((function(e,t){var r=0===t?"conversations":"messages"
n[r]={status:e.status},"fulfilled"===e.status?n[r].value=e.value:n[r].reason=e.reason})),n}))}},{key:"editMessage",value:function(e,n,t){var r,i,a=this
if(this._options.enableParameterTypeChecks){var o="editMessage"
if(!Y(e))return wf(this.id)(Aa.fromInvalidType(o,"conversationUrn","URN"))
if(!Y(n))return wf(this.id)(Aa.fromInvalidType(o,"messageUrn","URN"))
if(!se(t))return wf(this.id)(Aa.fromInvalidType(o,"editedMessage","TextFragment"))}return(null===(r=this.state.conversations.getByIdentifier(e))||void 0===r||null===(i=r.messages)||void 0===i?void 0:i.getByIdentifier(n))?function(e,n,t){var r="editConversationMessage",i=JSON.stringify({patch:{$set:{body:t}}}),a=function(e,n){var t="messengerMessages/".concat(encodeURIComponent(n))
return Fu("restli",e.messengerResource,t)}(e,n),o=tf(r)
return mp(a,i).catch(ef(r)).then(o)}(this.networkConfig,n,t).then((function(){a._dispatch(rh(d({},n,{content:t,messageBodyRenderFormat:"EDITED"}),e))})).catch((function(e){return wf(a.id)(Aa.fromClientErrorMemo("MESSAGE_EDIT_FAILED",e))})):wf(this.id)(Aa.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))}},{key:"deleteMessage",value:function(e,n){var t=this
if(this._options.enableParameterTypeChecks){var r="deleteMessage"
if(!X(e))return wf(this.id)(Aa.fromInvalidType(r,"conversationId","URN | UUIDV4"))
if(!X(n))return wf(this.id)(Aa.fromInvalidType(r,"messageId","UUIDV4 | UUIDV4"))}var i=this._getConversationByIdentifier(e)
if(!i)return wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))
var a=i.messages.getByIdentifier(n)
if(!a)return wf(this.id)(Aa.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
if(a.entityUrn&&z(i)){var o=a.entityUrn
return function(e,n){var t="deleteConversationMessage",r=JSON.stringify({messageUrn:n}),i=function(e){return Fu("restli",e.messengerResource,"messengerMessages",{action:"recall"})}(e),a=tf(t)
return mp(i,r).catch(ef(t)).then(a)}(this.networkConfig,o).then((function(){t._dispatch(rh(d({},o,{messageBodyRenderFormat:"RECALLED"}),i.entityUrn))})).catch((function(e){return wf(t.id)(Aa.fromClientErrorMemo("MESSAGE_DELETE_FAILED",e))}))}return this._dispatch(ch(i.clientId,a.clientId)),this.options.continueOnFailure||this.sendPendingMessages(e),Promise.resolve()}},{key:"react",value:function(e,n){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState"
if(this._options.enableParameterTypeChecks){var i="react"
if(!Y(e))return wf(this.id)(Aa.fromInvalidType(i,"messageUrn","URN"))
if(!G(n))return wf(this.id)(Aa.fromInvalidType(i,"emoji","string"))}var a=this.state.conversations.findMessage(e,r)
if(!a)return wf(this.id)(Aa.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
var o=Z(this.state.conversations,e,r)
return this._reactAttemptWouldExceedCap(a,n)?wf(this.id)(Aa.fromClientErrorMemo("REACTION_LIMIT_REACHED")):(this._dispatch(ih(e,{emoji:n,viewerReacted:!0})),this._getRequestQueue("reactions",o.clientId).enqueue((function(){return bf(t.networkConfig,e,n).then((function(){return Promise.resolve(o.clientId)})).catch((function(){return t._dispatch(ih(e,{emoji:n,viewerReacted:!1})),Promise.resolve(o.clientId)}))})))}},{key:"unreact",value:function(e,n){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState"
if(this._options.enableParameterTypeChecks){var i="unreact"
if(!Y(e))return wf(this.id)(Aa.fromInvalidType(i,"messageUrn","URN"))
if(!G(n))return wf(this.id)(Aa.fromInvalidType(i,"emoji","string"))}var a=Z(this.state.conversations,e,r)
return a?(this._dispatch(ih(e,{emoji:n,viewerReacted:!1})),this._getRequestQueue("reactions",a.clientId).enqueue((function(){return Tf(t.networkConfig,e,n).then((function(){return Promise.resolve(a.clientId)})).catch((function(){return t._dispatch(ih(e,{emoji:n,viewerReacted:!0})),Promise.resolve(a.clientId)}))}))):wf(this.id)(Aa.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))}},{key:"getReactors",value:function(e,n){var t=this
if(this._options.enableParameterTypeChecks){var r="getReactors"
if(!Y(e))return wf(this.id)(Aa.fromInvalidType(r,"messageUrn","URN"))
if(!G(n))return wf(this.id)(Aa.fromInvalidType(r,"emoji","string"))}return function(e,n,t){var r="getReactorsByMessageAndEmojiAPI",i=Ol(e,{messageUrn:n,emoji:t}),a=nf(r)
return hp(i).catch(ef(r)).then(a)}(this.networkConfig,e,n).then((function(r){var i=function(e){if(!e.data||!e.data.messengerMessagingParticipantsByMessageAndEmoji||!e.data.messengerMessagingParticipantsByMessageAndEmoji.elements)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"reactorsResponseToReactorsState: messengerMessagingParticipantsByMessageAndEmoji response is missing"})
var n=e.requestId
return{reactors:e.data.messengerMessagingParticipantsByMessageAndEmoji.elements.reduce((function(e,n){return n&&n.hostIdentityUrn&&e.push(n.hostIdentityUrn),e}),[]),requestId:n}}(r),a=i.reactors,o=i.requestId
return t._dispatch(ih(e,{emoji:n,reactors:a},o)),Promise.resolve({reactors:a})})).catch((function(e){return wf(t.id)(Aa.fromClientErrorMemo("GET_REACTORS_FAILED",e))}))}},{key:"updateDraftMessage",value:function(e,n,t){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ADD"
if(this._options.enableParameterTypeChecks){var a="updateDraftMessage"
if(!X(e))throw xf(this.id)(Aa.fromInvalidType(a,"conversationIdentifier","URN | UUIDV4"))
if(!C(n)&&!se(n))throw xf(this.id)(Aa.fromInvalidType(a,"content","TextFragment | undefined"))
if(!C(t)&&!le(t))throw xf(this.id)(Aa.fromInvalidType(a,"optionalSendData","OptionalSendData | undefined"))
if(!ie(i))throw xf(this.id)(Aa.fromInvalidType(a,"optionalSendData","ContentUpdateMode"))}var o=this._getConversationByIdentifier(e)
if(o)if(!z(o)&&o.messages.length>0)xf(this.id)(Aa.fromClientErrorMemo("CANNOT_ADD_MESSAGES_IN_CONVERSATION"))
else{var s=ja(o.draftMessage.optionalSendData,null!=t?t:{renderContent:[]},i),c=Kl(this.participant.hostIdentityUrn,n,s)
if(this.options.typingIndicatorDelayInSecond>=0&&z(o)){var d=o.entityUrn
d in this._throttledTypingFns||(this._throttledTypingFns[d]=lo((function(){yf(r.networkConfig,d).catch(Of(r.id))}),1e3*this.options.typingIndicatorDelayInSecond)),this._throttledTypingFns[d]()}this._dispatch(oh(o.clientId,c))}else xf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"sendDraftMessage",value:function(e,n){var t,r=this
if(this._options.enableParameterTypeChecks){var i="updateConversation"
if(!X(e))return wf(this.id)(Aa.fromInvalidType(i,"conversationId","URN | UUIDV4"))
if(!C(n)&&!pe(n))return wf(this.id)(Aa.fromInvalidType(i,"trackingData","TrackingData | undefined"))}var a=this._getConversationByIdentifier(e)
if(!a)return wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))
if(!z(a)&&a.messages.length>0)return wf(this.id)(Aa.fromClientErrorMemo("CANNOT_ADD_MESSAGES_IN_CONVERSATION"))
var o=a.draftMessage.content,s=null===(t=a.draftMessage.optionalSendData)||void 0===t?void 0:t.renderContent,c=function(e){switch(e.kind){case"MEMBER":return"".concat(e.firstName," ").concat(e.lastName)
case"ORGANIZATION":case"CUSTOM":return"".concat(e.name.text)
default:return""}}(this.participant),d=a.draftMessage.clientId
if(""==o.text&&(!s||0===s.length))return wf(this.id)(Aa.fromClientErrorMemo("DRAFT_MESSAGE_IS_EMPTY"))
this._dispatch(function(e,n,t){return{type:"DRAFT_MESSAGE_READY_TO_SEND",payload:{clientId:e,senderName:n},requestId:void 0}}(a.clientId,c))
var u,l=this._getConversationByIdentifier(e)
return l?z(l)?("Failed"!==(null===(u=l.status)||void 0===u?void 0:u.sending)&&this._dispatch(Gf(Gh(l,"InProgress"))),this._getRequestQueue("messageSend",l.clientId).enqueue((function(){return Fh(r.networkConfig,r.id,l,d,r._dispatch.bind(r),r,n).catch((function(e){return r.options.continueOnFailure||r._dispatch(Gf(Gh(l,"Failed"))),wf(r.id)(Aa.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),d,Za(this,l.clientId)).finally((function(){0===r._getRequestQueue("messageSend",l.clientId).length&&r._dispatch(Gf(Gh(l,"Ready")))}))):("Failed"!==l.sending&&this._dispatch(sh(l.clientId,"InProgress")),this._getRequestQueue("messageSend",l.clientId).enqueue((function(){return Bh(r.networkConfig,r.participant.hostIdentityUrn,l,d,r._dispatch.bind(r),r,n).then((function(e){var n
return(null===(n=r.state.conversations.getByIdentifier(e))||void 0===n?void 0:n.clientId)||a.clientId})).catch((function(e){return r.options.continueOnFailure||r._dispatch(sh(l.clientId,"Failed")),wf(r.id)(Aa.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),d,Za(this,l.clientId)).finally((function(){0===r._getRequestQueue("messageSend",l.clientId).length&&r._dispatch(sh(l.clientId,"Ready"))}))):wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"loadOlderMessages",value:function(e,n){if(this._options.enableParameterTypeChecks){var t="loadOlderMessages"
if(!Y(e))return wf(this.id)(Aa.fromInvalidType(t,"convoUrn","URN"))
if(!H(n))return wf(this.id)(Aa.fromInvalidType(t,"count","number"))}var r=this.state.conversations.getByIdentifier(e,"FullMailboxState")
if(!r)return wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))
if(r.status.fullyLoaded||r.status.loading)return Promise.resolve(0)
var i=r.metadata.prevCursor
return i?this._getOlderMessagesByCursor(e,r,n,i):this._getOlderMessagesByTimestamp(e,r,n)}},{key:"dismissInlineWarning",value:function(e){var n=this
return this._options.enableParameterTypeChecks&&!Y(e)?wf(this.id)(Aa.fromInvalidType("dismissInlineWarning","messageUrn","URN")):function(e,n){var t="dismissInlineWarningAPI",r=JSON.stringify({messageUrn:n}),i=function(e){return Fu("restli",e.messengerResource,"messengerMessages",{action:"dismissInlineWarning"})}(e),a=tf(t)
return mp(i,r).catch(ef(t)).then(a)}(this.networkConfig,e).then((function(){return Promise.resolve()})).catch((function(e){return wf(n.id)(Aa.fromClientErrorMemo("CANNOT_DISMISS_INLINE_WARNING",e))}))}},{key:"addParticipantsToConversation",value:function(e,n,t){var r=this
if(this._options.enableParameterTypeChecks){var i="addParticipantsToConversation"
if(!Y(e))return wf(this.id)(Aa.fromInvalidType(i,"convoUrn","URN"))
if(!Array.isArray(n))return wf(this.id)(Aa.fromInvalidType(i,"participantUrns","URN[]"))
if(!K(n,Y))return wf(this.id)(Aa.fromInvalidType(i,"participantUrns[x]","URN"))
if(t&&!Array.isArray(t))return wf(this.id)(Aa.fromInvalidType(i,"messageRequestContextByRecipient","MessageRequestContextByRecipient[]"))}return this._getConversationByIdentifier(e)?function(e,n,t,r){var i="addParticipantsToConversation",a=JSON.stringify({participants:n,conversationUrn:t,messageRequestContextByRecipient:r}),o=Fu("restli",e.messengerResource,"messengerConversations",{action:"addParticipants"}),s=tf(i)
return mp(o,a).catch(ef(i)).then(s)}(this.networkConfig,n,e,t).then((function(){return Promise.resolve()})).catch((function(e){return wf(r.id)(Aa.fromClientErrorMemo("CANNOT_ADD_PARTICIPANTS_IN_CONVERSATION",e))})):wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"removeParticipantsFromConversation",value:function(e,n){var t,r,i,a,o,s,c,d=this,u="removeParticipantsFromConversation"
return Y(e)?Array.isArray(n)?K(n,Y)?this._getConversationByIdentifier(e)?(t=this.networkConfig,r=n,i=e,a="removeParticipantsFromConversation",o=JSON.stringify({participants:r,conversationUrn:i}),s=Fu("restli",t.messengerResource,"messengerConversations",{action:"removeParticipants"}),c=tf(a),mp(s,o).catch(ef(a)).then(c)).then((function(){return Promise.resolve()})).catch((function(e){return wf(d.id)(Aa.fromClientErrorMemo("CANNOT_REMOVE_PARTICIPANTS_FROM_CONVERSATION",e))})):wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST")):wf(this.id)(Aa.fromInvalidType(u,"participantUrns[x]","URN")):wf(this.id)(Aa.fromInvalidType(u,"participantUrns","URN[]")):wf(this.id)(Aa.fromInvalidType(u,"convoUrn","URN"))}},{key:"markAllConversationsAsRead",value:function(e){var n=this
if(this._options.enableParameterTypeChecks){var t="markAllConversationsAsRead"
if(!Array.isArray(e))return wf(this.id)(Aa.fromInvalidType(t,"categories","ConversationCategory[]"))
if(!K(e,de))return wf(this.id)(Aa.fromInvalidType(t,"categories[x]","ConversationCategory"))}var r=e.map((function(e){return e.toUpperCase()}))
return function(e,n,t){var r="markAllConversationsAsReadAPI",i=Ml(e,{mailboxUrn:n,categories:t}),a=nf(r)
return hp(i).catch(ef(r)).then(a)}(this.networkConfig,this.id,e).then((function(e){var t=function(e){var n,t
if(void 0===(null===(n=e.data)||void 0===n||null===(t=n.doMarkAllConversationsAsReadMessengerConversations)||void 0===t?void 0:t.result))throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"markAllConversationsAsReadResponseToState: doMarkAllConversationsAsReadMessengerConversations is missing"})
return{allSynchronouslyProcessed:e.data.doMarkAllConversationsAsReadMessengerConversations.result.allSynchronouslyProcessed,requestId:e.requestId}}(e),i=t.allSynchronouslyProcessed,a=t.requestId
return i&&n._dispatch(function(e,n,t){return{type:"UPDATE_ALL_CONVERSATIONS_IN_CATEGORIES",payload:{categories:e,conversationUpdate:{read:!0}},requestId:t}}(r,0,a)),Promise.resolve()}))}},{key:"conversationAccept",value:function(e,n,t){if(this._options.enableParameterTypeChecks){var r="conversationAccept"
if(!Y(e))return wf(this.id)(Aa.fromInvalidType(r,"convoUrn","URN"))
if(!function(e){return"boolean"==typeof e}(n))return wf(this.id)(Aa.fromInvalidType(r,"state","boolean"))
if(!C(t)&&!se(t))return wf(this.id)(Aa.fromInvalidType(r,"message","TextFragment | undefined"))}var i=this._getConversationByIdentifier(e)
return i&&z(i)?t?this.sendMessage(e,t,{renderContent:[],conversationState:n?"ACCEPTED":"DECLINED"}):this.updateConversation(e,{state:n?"ACCEPTED":"DECLINED"}):wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"_getSeenReceipts",value:function(e){var n,t,r,i,a,o=this
return(n=this.networkConfig,t=e,r="getSeenReceiptsByConversation",i=Il(n,{conversationUrn:t}),a=nf(r),hp(i).catch(ef(r)).then(a)).then((function(n){var t=function(e){if(!e.data||!e.data.messengerSeenReceiptsByConversation||!e.data.messengerSeenReceiptsByConversation.elements)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"seenReceiptsResponseToSeenReceiptsState: messengerSeenReceiptsByConversation response is missing"})
var n=e.data.messengerSeenReceiptsByConversation.elements,t=e.requestId,r={}
return n.forEach((function(e){var n={participantUrn:e.seenByParticipant.hostIdentityUrn,seenAt:e.seenAt},t=e.message.entityUrn
r[t]?r[t].push(n):r[t]=[n]})),{seenReceiptsMap:r,requestId:t}}(n),r=t.seenReceiptsMap,i=t.requestId
return o._dispatch(Gf(d({},e,{seenReceiptsMap:r}),i)),Promise.resolve(r)}))}},{key:"_getQuickReplies",value:function(e){var n,t,r,i,a,o=this
return(n=this.networkConfig,t=e,r="getQuickRepliesByConversationAPI",i=Nl(n,{conversationUrn:t}),a=nf(r),hp(i).catch(ef(r)).then(a)).then((function(n){var t=function(e){if(!e.data||!e.data.messengerQuickRepliesByConversation||!e.data.messengerQuickRepliesByConversation.elements)throw Aa.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"quickRepliesResponseToQuickRepliesState: messengerQuickRepliesByConversation response is missing"})
return{quickReplies:e.data.messengerQuickRepliesByConversation.elements,requestId:e.requestId}}(n),r=t.quickReplies,i=t.requestId,a=o._getConversationByIdentifier(e)
if(!a||!z(a))return Promise.resolve(void 0)
var s=eo(a,r)
return o._dispatch(function(e,n,t){return{type:"UPDATE_CONVERSATION_QUICK_REPLIES",payload:{conversationUrn:e,quickReplies:n},requestId:t}}(e,s,i)),Promise.resolve(r)}))}},{key:"createNewDraftMessage",value:function(){return Kl(this.participant.hostIdentityUrn)}},{key:"_getConversationByIdentifier",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FullMailboxState"
return Q(e)&&this.state.draftConversations.has(e)?this.state.draftConversations.get(e):this.state.conversations.getByIdentifier(e,n)}},{key:"networkConfig",get:function(){return this._retrieveNetworkConfig()}},{key:"_notifyErrorSubscribers",value:function(e){this._stateSubscribers.length>0?this._stateSubscribers.forEach((function(n){var t
return null===(t=n.error)||void 0===t?void 0:t.call(n,e)})):this._pendingErrors.push(e)}},{key:"_getOlderMessagesByTimestamp",value:function(e,n,t,r){var i=this
this._dispatch(Xf(n.clientId,!0))
var a=n.messages.length>0?n.messages.at(0).deliveredAt.getTime():Date.now()
return function(e,n,t,r,i,a){var o="getConversationMessagesByTimestamp",s=kl(e,{deliveredAt:t,conversationUrn:n,countBefore:r,countAfter:0}),c=nf(o)
return Xp(e,s,o,a)().catch(ef(o)).then(c)}(this.networkConfig,e,a,t,0,r).then((function(e){var t,r,a,o,s,c,d=null===(t=e.data)||void 0===t||null===(r=t.messengerMessagesByAnchorTimestamp)||void 0===r||null===(a=r.metadata)||void 0===a?void 0:a.prevCursor,u=null!==(o=null===(s=e.data)||void 0===s||null===(c=s.messengerMessagesByAnchorTimestamp)||void 0===c?void 0:c.elements)&&void 0!==o?o:[],l=ap(u),p=l.messages,f=l.participants,h=null===d
return i._dispatch(Xf(n.clientId,!1)),i._dispatch(jf(f,e.requestId)),i._dispatch(Zf(p,n.entityUrn,h,d,e.requestId)),i.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-success"),p.length})).catch((function(e){return i._dispatch(Xf(n.clientId,!1)),i.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-fail"),wf(i.id)(Aa.fromClientErrorMemo("LOAD_OLDER_MESSAGES_FAILED",e))}))}},{key:"_getOlderMessagesByCursor",value:function(e,n,t,r,i){var a=this
return this._dispatch(Xf(n.clientId,!0)),function(e,n,t,r,i){var a="getConversationMessagesByConversation",o={conversationUrn:n,count:t}
r&&(o.prevCursor=r)
var s=Al(e,o),c=nf(a)
return Xp(e,s,a,i)().catch(ef(a)).then(c)}(this.networkConfig,e,t,r,i).then((function(e){var t,i,o,s,c,d,u=null===(t=e.data)||void 0===t||null===(i=t.messengerMessagesByConversation)||void 0===i||null===(o=i.metadata)||void 0===o?void 0:o.prevCursor,l=null!==(s=null===(c=e.data)||void 0===c||null===(d=c.messengerMessagesByConversation)||void 0===d?void 0:d.elements)&&void 0!==s?s:[],p=ap(l),f=p.messages,h=p.participants,m=null===u||r===u
return a._dispatch(Xf(n.clientId,!1)),a._dispatch(jf(h,e.requestId)),a._dispatch(Zf(f,n.entityUrn,m,u,e.requestId)),a.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-success"),f.length})).catch((function(e){return a._dispatch(Xf(n.clientId,!1)),a.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-fail"),wf(a.id)(Aa.fromClientErrorMemo("LOAD_OLDER_MESSAGES_FAILED",e))}))}},{key:"_getRequestQueue",value:function(n,t){return e._queues[n][t]||(e._queues[n][t]=new im(this.options.continueOnFailure)),e._queues[n][t]}},{key:"_sendMessageInExistingConvo",value:function(e,n,t,r){var i,a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"FIRST",s=Vl({senderUrn:this.participant.hostIdentityUrn,content:n,optionalSendData:t})
this._dispatch(Yf(s,e.clientId))
var c=this.state.conversations.getByIdentifier(e.entityUrn,"FullMailboxState")
return c?("Failed"!==(null===(i=c.status)||void 0===i?void 0:i.sending)&&this._dispatch(Gf(Gh(c,"InProgress"))),this._getRequestQueue("messageSend",c.clientId).enqueue((function(){return Fh(a.networkConfig,a.id,c,s.clientId,a._dispatch.bind(a),a,r,o).catch((function(e){return a.options.continueOnFailure||a._dispatch(Gf(Gh(c,"Failed"))),wf(a.id)(Aa.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),s.clientId,Za(this,c.clientId)).finally((function(){0===a._getRequestQueue("messageSend",c.clientId).length&&a._dispatch(Gf(Gh(c,"Ready")))}))):wf(this.id)(Aa.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"_updateLocalParticipant",value:function(){var e,n=this
this._localParticipant=null!==(e=P(Ef(this._id).participants).find((function(e){return e.entityUrn===n._localParticipant.entityUrn})))&&void 0!==e?e:this._localParticipant}},{key:"_dispatchCategoryUpdate",value:function(e,n,t){var r=this,a=e.reduce((function(e,a){var o,s,c=null!==(o=null===(s=r.state.conversations.getByIdentifier(a))||void 0===s?void 0:s.categories)&&void 0!==o?o:[]
return i(i({},e),{},d({},a,"ADD"===t?{categories:[].concat(v(c.filter((function(e){return e!==n}))),[n])}:{categories:c.filter((function(e){return e!==n}))}))}),{})
this._dispatch(Gf(a))}},{key:"_reactAttemptWouldExceedCap",value:function(e,n){return 20===e.reactions.length&&!e.reactions.find((function(e){return e.emoji===n}))}},{key:"_updateConvoStateListClientId",value:function(e){var n=this,t=[]
return e.forEach((function(e){var r=e.entityUrn,a=n.state.conversations.getByIdentifier(r,"FullMailboxState")
if(a){var o=i(i({},e),{},{clientId:a.clientId})
t.push(o)}else t.push(e)})),t}}]),e}()
d(dm,"_queues",{messageSend:{},reactions:{}})
var um=function(){function e(n,t){var r=this
o(this,e),d(this,"_participantClientId",fl()),d(this,"_id",void 0),d(this,"_options",void 0),d(this,"_realtimeEventsTopics",new Map),d(this,"_realtimeAuthToken",null),d(this,"_networkConfig",null),d(this,"_renewAuthTokenTask",null),this._id=n,this._options=t,this._renewAuthTokenTask=new nn((function(){r._fetchAndUpdateAuth(r._options)}))}return c(e,[{key:"_retrieveNetworkConfig",value:function(){return C(this._networkConfig)&&(this._networkConfig=Wh(this._options)),this._networkConfig}},{key:"networkConfig",get:function(){return this._retrieveNetworkConfig()}},{key:"_dispatch",value:function(e){var n,t=this,r=this._options.decorators,i=r.mailboxDecorator,a=r.messagesDecorator,o=r.participantsDecorator,s=Af(this._id)
if(function(e,n){if(null!=e)return!0
throw new Error(n||"Assertion failed")}(s,"Could not link to the Redux store for this MailBox for id: ".concat(this._id))){var c=Ef(this._id),d=c.status.lastRequestId
switch(e.requestId&&d>e.requestId&&F("Invalid requestId: the store was updated since the request was made. Store lastRequestId: ".concat(d,", action requestId: ").concat(e.requestId)),s.dispatch(e),c=Ef(this._id),e.type){case"CONNECT":if(i)try{i(c).then((function(e){e&&s.dispatch(function(e){return{type:"DECORATE_MAILBOX",payload:e}}(e))})).catch(Mf(this._id,"MAILBOX_DECORATE_FAILED"))}catch(e){Mf(this._id,"MAILBOX_DECORATE_FAILED")(e)}break
case"ADD_MAILBOX_PARTICIPANTS":var u=e.payload.participants
u.length>0&&o&&this._invokeParticipantsDecorator(o,u,s)
break
case"ADD_CONVERSATION":var l=e.payload,p=l.conversation,f=l.participants,h=za([p])
this._invokeDecorators([p],f,h)
break
case"ADD_OLDER_CONVERSATIONS":case"ADD_CONVERSATIONS":var m=e.payload,y=m.conversations,v=m.participants,b=za(y)
this._invokeDecorators(y,v,b)
break
case"ADD_NEW_MESSAGE_BY_CONVO_URN":var T=e.payload,_=T.message,E=T.conversationUrn
a&&this._invokeMessageDecorator(a,E,[_],s)
break
case"ADD_NEW_MESSAGES":case"ADD_OLDER_MESSAGES":var S=e.payload,C=S.messages,A=S.conversationUrn
C.length&&a&&this._invokeMessageDecorator(a,A,C,s)
break
case"UPDATE_MESSAGES":if(a){var k=e.payload.conversationUrn,I=e.payload.messageUpdateMap
if(!k){var R=N(I),w=c.conversations.find((function(e){return void 0!==e.messages.getByIdentifier(R[0])}),"FullMailboxState")
if(!w)return
k=w.entityUrn}(n=I,Object.entries(n)).forEach((function(e){var n=g(e,2),r=n[0],i=n[1]
if(k)try{a([i]).then(function(e,n,t){return function(r){e.dispatch(function(e,n,t){return{type:"DECORATE_MESSAGE",payload:{messageUrn:n,conversationUrn:t,data:e}}}(r,t,n))}}(s,k,r)).catch(Mf(t._id,"MESSAGE_DECORATE_FAILED"))}catch(e){Mf(t._id,"MESSAGE_DECORATE_FAILED")(e)}}))}}}}},{key:"_invokeParticipantsDecorator",value:function(e,n,t){try{e(n).then(function(e,n){return function(t){var r
e.dispatch((r=I(n.map((function(e,n){return[e.entityUrn,t[n]]}))),{type:"DECORATE_PARTICIPANTS",payload:{data:r}}))}}(t,n)).catch(Mf(this._id,"PARTICIPANTS_DECORATE_FAILED"))}catch(e){var r=Aa.fromUnknown(e,"PARTICIPANTS_DECORATE_FAILED")
Of(this._id)(r)}}},{key:"_invokeAllMessageDecorator",value:function(e,n,t){try{e(n).then(function(e,n){return function(t){var r
t.length>0&&e.dispatch((r=I(n.map((function(e,n){return[e.clientId,t[n]]}))),{type:"DECORATE_ALL_MESSAGES",payload:{data:r}}))}}(t,n)).catch(Mf(this._id,"MESSAGE_DECORATE_FAILED"))}catch(e){var r=Aa.fromUnknown(e,"MESSAGE_DECORATE_FAILED")
Of(this._id)(r)}}},{key:"_invokeMessageDecorator",value:function(e,n,t,r){try{e(t).then(function(e,n,t){return function(r){r.length>0&&e.dispatch(function(e,n){return{type:"DECORATE_MESSAGES",payload:{data:n,conversationUrn:e}}}(n,I(t.map((function(e,n){return[e.clientId,r[n]]})))))}}(r,n,t)).catch(Mf(this._id,"MESSAGE_DECORATE_FAILED"))}catch(e){var i=Aa.fromUnknown(e,"MESSAGE_DECORATE_FAILED")
Of(this._id)(i)}}},{key:"_invokeDecorators",value:function(e,n,t){var r=this._options.decorators,i=r.messagesDecorator,a=r.conversationsDecorator,o=r.participantsDecorator,s=Af(this._id)
s&&(e.length>0&&a&&this._invokeConversationsDecorator(a,e,s),n.length>0&&o&&this._invokeParticipantsDecorator(o,n,s),t.length>0&&i&&this._invokeAllMessageDecorator(i,t,s))}},{key:"_invokeConversationsDecorator",value:function(e,n,t){try{var r=uo.fromConversationArray(n)
e(r).then(function(e,n){return function(t){var r
t.length>0&&e.dispatch((r=I(n.map((function(e,n){return[e.clientId,t[n]]}))),{type:"DECORATE_CONVERSATIONS",payload:{data:r}}))}}(t,r)).catch(Mf(this._id,"CONVERSATION_DECORATE_FAILED"))}catch(e){var i=Aa.fromUnknown(e,"CONVERSATION_DECORATE_FAILED")
Of(this._id)(i)}}},{key:"_getRealtimeTopics",value:function(){return[this._realtimeAuthToken,this._realtimeEventsTopics]}},{key:"_updateRealtimeAuth",value:function(e){var n,t
this._realtimeEventsTopics=(t=e.realtimeTopics)?new Map([["TypingIndicator",t.typingIndicatorsBroadcastTopicUrn],["NewMessage",t.messagesBroadcastTopicUrn],["ConversationUpdate",t.conversationsBroadcastTopicUrn],["ConversationDelete",t.conversationDeletesBroadcastTopicUrn],["SeenReceipt",t.messageSeenReceiptsBroadcastTopicUrn],["QuickReplies",t.replySuggestionBroadcastTopicUrn],["ReactionSummary",t.messageReactionSummariesBroadcastTopicUrn],["ProgressIndicator",t.messagingProgressIndicatorBroadcastTopicUrn]]):new Map([["TypingIndicator","urn:li-realtime:typingIndicatorsTopic:urn:li-realtime:myself"],["NewMessage","urn:li-realtime:messagesTopic:urn:li-realtime:myself"],["ConversationUpdate","urn:li-realtime:conversationsTopic:urn:li-realtime:myself"],["ConversationDelete","urn:li-realtime:conversationDeletesTopic:urn:li-realtime:myself"],["SeenReceipt","urn:li-realtime:messageSeenReceiptsTopic:urn:li-realtime:myself"],["QuickReplies","urn:li-realtime:replySuggestionTopicV2:urn:li-realtime:myself"],["ReactionSummary","urn:li-realtime:messageReactionSummariesTopic:urn:li-realtime:myself"],["ProgressIndicator","urn:li-realtime:messagingProgressIndicatorTopic:urn:li-realtime:myself"]]),this._realtimeAuthToken=null!==(n=e.authToken)&&void 0!==n?n:null}},{key:"_fetchAndUpdateAuth",value:function(e){var n=this
L("Fetching mailbox metadata for ".concat(this._id))
var t="personal"===e.mailboxType
return function(e,n,t){var r
return"enabled"!==(null===(r=e.experimental)||void 0===r?void 0:r.RealtimeForSecondaryMailbox)||t?Promise.resolve({}):(L("Retrieving mailbox broadcast topics for ",n),function(e,n){var t="getRealtimeAuthTokenAPI",r=Pl(e,{mailboxUrn:n}),i=nf(t)
return hp(r).catch(ef(t)).then(i)}(e,n).then((function(e){var t,r
dp(e,"messengerMailboxRealtimeSubscriptionAuthorizationTokensByMailboxUrnsInBatch")
var i,a=(i=(null!==(t=null===(r=e.data)||void 0===r?void 0:r.messengerMailboxRealtimeSubscriptionAuthorizationTokensByMailboxUrnsInBatch)&&void 0!==t?t:[]).filter(S).map((function(e){var n
return null!==(n=e.elements)&&void 0!==n?n:[]})),i.reduce((function(e,n){return[].concat(v(e),v(n))}),[])).filter(S),o=a.find(vo(function(e){return function(n){return e===n}}(n),(function(e){return e.mailboxUrn})))
return o?{realtimeTopics:o,authToken:o.token}:{}})).catch((function(e){var n
if(422===(null===(n=e.originalStatusCodes)||void 0===n?void 0:n[0]))return Promise.resolve({})
throw e})))}(this.networkConfig,this._id,t).then((function(t){var r
n._renewAuthTokenTask&&n._renewAuthTokenTask.cancel(),n._realtimeAuthToken&&t.authToken&&(L("updating auth token for ".concat(n.id," to realtime"),"...".concat(W(20,t.authToken))),function(e,n){if(e&&n&&e!==n){var t=ya()
t&&t.updateAuthToken(e,n)}}(t.authToken,n._realtimeAuthToken),n._realtimeAuthToken=t.authToken),t.authToken&&(L("Start countdown to renew JWT in ".concat(12," minutes")),null===(r=n._renewAuthTokenTask)||void 0===r||r.start(72e4)),n._updateRealtimeAuth(t)
try{var i,a
t.authToken&&(null===(i=e.trackingOptions)||void 0===i||null===(a=i.incrementMetricCounterHandler)||void 0===a||a.call(i,{groupName:"messengerData",metricName:"fetch-jwt-token-success"}))}catch(e){L("Error while firing client sensor for JWT",e)}return t})).catch((function(n){var t,r
throw null===(t=e.trackingOptions)||void 0===t||null===(r=t.incrementMetricCounterHandler)||void 0===r||r.call(t,{groupName:"messengerData",metricName:"fetch-jwt-token-failed"}),L("Error fetching JWT",n),n}))}},{key:"_createMailboxHandlers",value:function(e,n){var t=this
return{dispatch:this._dispatch.bind(this),handleRealtimeNewMessage:$h(e,n,this._dispatch.bind(this)),triggerChainSync:e.syncConversations.bind(e),triggerMessagesSync:function(n,t){return e.syncConversationMessages(n,"FullMailboxState",t)},getRealtimeTopics:this._getRealtimeTopics.bind(this),fetchAndUpdateTopics:function(){return t._fetchAndUpdateAuth(t._options)},mailboxType:this._options.mailboxType}}},{key:"id",get:function(){return this._id}},{key:"getMailbox",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_f,t=arguments.length>1?arguments[1]:void 0
if(this._options.enableParameterTypeChecks){if(!he(n))return wf(this.id)(Aa.fromInvalidType("getMailbox","filter","InputMailboxFilter"))
if(t&&(Array.isArray(t)||!pe(t)))return wf(this.id)(Aa.fromInvalidType("getMailbox","trackingData","TrackingData"))}var r=op(n)?i(i({},n),{},{id:fl()}):n,a=new dm(this._id,this._options,this._participantClientId,r,this._dispatch.bind(this),this._retrieveNetworkConfig.bind(this)),o=Ef(this._id)
return o&&!Va(o)?this._fetchAndUpdateAuth(this._options).then((function(){return qh(e._id,e._options,a.participant,e._createMailboxHandlers(a,e.networkConfig),t)})).then((function(n){var t,r=n.data,i=r.conversations,o=r.participants,s=r.status,c=i.filter(z)
return a._oldestConversationTime=i.length>0?Zh(v(i)):0,e._dispatch({type:"CONNECT"}),e._dispatch($f(c,P(o),s.syncToken,s.lastRequestId)),a._updateLocalParticipant(),Nh(i.map((function(e){return e.backendUrn})),!0,null===(t=a.options.trackingOptions)||void 0===t?void 0:t.trackingFireEvent),a.clientSensorTrackers.triggerRecipientMetric("conversation-list-sync-success"),s.syncToken||If(e.id,Aa.fromApiErrorMemo("ERRORS_IN_RESPONSE",{msg:"SyncToken is null on initial Mailbox bootstrap"})),ff(e.networkConfig,e._id).then((function(e){return sp(e)})).then((function(n){Af(e._id)?e._dispatch(uh(n.counters,n.requestId)):F("Mailbox was destroyed before unread counts were received")})).catch(wf(e._id)),a})):(a.state.conversations.length<20&&a.loadOlderConversations(),Promise.resolve(a))}},{key:"disconnect",value:function(){this.networkConfig.teardown()}}],[{key:"create",value:function(n,t){var r,i
t.headers&&(r=t.headers,Ll=r),t.graphQlQueryIds&&(i=t.graphQlQueryIds,Object.keys(i).forEach((function(e){Wu.set(e,i[e])}))),jh(n,{connected:!1,loading:!0})
var a=new e(n,t)
return Promise.resolve(a)}}]),e}()
function lm(e,n){if(C(e)||!Y(e))return Promise.reject(Aa.fromInvalidType("connectToMailbox","mailboxUrn","URN"))
if(!V(n))return Promise.reject(Aa.fromInvalidType("connectToMailbox","options","Partial<MailboxOptions>"))
var t=i(i({},jl),n)
return um.create(e,t)}},83173:(e,n)=>{"use strict"
function t(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function r(e,n,t){return(n=i(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){var n=function(e,n){if("object"!=typeof e||null===e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var r=t.call(e,"string")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e)
return"symbol"==typeof n?n:String(n)}Object.defineProperty(n,"__esModule",{value:!0})
var a="function"==typeof Symbol&&Symbol.observable||"@@observable",o=()=>{}
function s(e){var n=[e]
return n.tag=1,n}function c(e){return n=>t=>{var r=o
n((n=>{0===n?t(0):0===n.tag?(r=n[0],t(n)):e(n[0])?t(n):r(0)}))}}function d(e){return n=>t=>n((n=>{0===n||0===n.tag?t(n):t(s(e(n[0])))}))}var u,l=()=>Symbol.observable||"@@observable"
function p(e){return e=e[l()]?e[l()]():e,n=>{var t=e.subscribe({next(e){n(s(e))},complete(){n(0)},error(){}})
n(function(e){var n=[e=>{1===e&&t.unsubscribe()}]
return n.tag=0,n}())}}function f(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
for(var r=n[0],i=1,a=n.length;i<a;i++)r=n[i](r)
return r}u=Symbol.observable
var h=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_subscribers",new Set),r(this,"_lastState",void 0),r(this,"_complete",!1),this._lastState=null!=n?n:null}var n,i
return n=e,(i=[{key:"subscribe",value:function(e){var n=this,t="function"==typeof e?{next:e}:e
return this._subscribers.add(t),null!==this._lastState&&t.next(this._lastState),{unsubscribe:function(){return n._subscribers.delete(t)}}}},{key:"subscribersCount",get:function(){return this._subscribers.size}},{key:"state",get:function(){return this._lastState}},{key:"observable",get:function(){return this}},{key:u,value:function(){return this}},{key:a,value:function(){return this}},{key:"emit",value:function(e){this._complete||(this._lastState=e,this._subscribers.forEach((function(n){return n.next(e)})))}},{key:"error",value:function(e){this._complete||this._subscribers.forEach((function(n){var t
return null===(t=n.error)||void 0===t?void 0:t.call(n,e)}))}},{key:"complete",value:function(){this._complete||(this._complete=!0,this._subscribers.forEach((function(e){var n
return null===(n=e.complete)||void 0===n?void 0:n.call(e)})))}}])&&t(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(),m=function(e){return function(n){return f(n,function(e,n){return e=>t=>{var r=n
e((e=>{0===e?t(0):0===e.tag?t(e):t(s(r=function(e,n){return e.prev=e.current,e.current=n,e}(r,e[0])))}))}}(0,{prev:void 0,current:void 0}),c((function(n){return null==n.prev||!e(n.prev,n.current)})),d((function(e){return e.current})))}},y=function(){return m((function(e,n){return e===n}))},g=function(e){var n,t=new h
return f(e,(n=function(e){t.emit(e)},e=>{var t=o,r=!1
return e((e=>{0===e?r=!0:0===e.tag?(t=e[0])(0):r||(n(e[0]),t(0))})),{unsubscribe(){r||(r=!0,t(1))}}})),t},v=new Map,b=function(e,n){return c((function(t){var r,i=null!==(r=v.get(e))&&void 0!==r?r:new Set
if(t&&t.entityUrn){var a=!i.has(t.entityUrn)&&function(e,n){var t=Date.now()
return e.deliveredAt.getTime()>t-n}(t,n)
return i.add(t.entityUrn),v.set(e,i),a}return!1}))},T=function(e){return c((function(n){return void 0!==n&&n.senderUrn!==e}))}
n.Subject=h,n.conversationDraftMessageObservable=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState",r=d((function(e){return e.conversations.getByIdentifier(n,t)})),i=p(e)
return g(f(i,r,d((function(e){return null==e?void 0:e.draftMessage})),y()))},n.conversationMessagesObservable=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState",r=d((function(e){return e.conversations.getByIdentifier(n,t)})),i=p(e)
return g(f(i,r,d((function(e){return null==e?void 0:e.messages})),y()))},n.conversationObservable=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState",r=d((function(e){return e.conversations.getByIdentifier(n,t)})),i=p(e)
return g(f(i,r,y()))},n.distinct=y,n.distinctUntilChanged=m,n.incompleteRetriableEntitiesObservable=function(e){var n=p(e),t=d((function(e){return e.incompleteRetriableEntities})),r=c((function(e){return e.length>0}))
return g(f(n,t,y(),r))},n.newMessageFromMailboxObservable=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=d((function(e){var n
return null===(n=e.conversations.first())||void 0===n?void 0:n.messages.last()})),a=T(t),o=b(n,1e3*r),s=p(e)
return g(f(s,i,a,o))},n.resetAlertedMessages=function(){v.clear()},n.toMessengerObservable=g},7440:(e,n,t)=>{"use strict"
function r(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator]
if(!t)return e
var r,i,a=t.call(e),o=[]
try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o}var i
t.r(n),t.d(n,{InterpreterStatus:()=>i,assign:()=>s,createMachine:()=>f,interpret:()=>m}),function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(i||(i={}))
var a={type:"xstate.init"}
function o(e){return void 0===e?[]:[].concat(e)}function s(e){return{type:"xstate.assign",assignment:e}}function c(e,n){return"string"==typeof(e="string"==typeof e&&n&&n[e]?n[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function d(e){return function(n){return e===n}}function u(e){return"string"==typeof e?{type:e}:e}function l(e,n){return{value:e,context:n,actions:[],changed:!1,matches:d(e)}}function p(e,n,t){var r=n,i=!1
return[e.filter((function(e){if("xstate.assign"===e.type){i=!0
var n=Object.assign({},r)
return"function"==typeof e.assignment?n=e.assignment(r,t):Object.keys(e.assignment).forEach((function(i){n[i]="function"==typeof e.assignment[i]?e.assignment[i](r,t):e.assignment[i]})),r=n,!1}return!0})),r,i]}function f(e,n){void 0===n&&(n={})
var t=r(p(o(e.states[e.initial].entry).map((function(e){return c(e,n.actions)})),e.context,a),2),i=t[0],s=t[1],f={config:e,_options:n,initialState:{value:e.initial,actions:i,context:s,matches:d(e.initial)},transition:function(n,t){var i,a,s="string"==typeof n?{value:n,context:e.context}:n,h=s.value,m=s.context,y=u(t),g=e.states[h]
if(g.on){var v=o(g.on[y.type])
try{for(var b=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0
if(t)return t.call(e)
if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}
throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(v),T=b.next();!T.done;T=b.next()){var _=T.value
if(void 0===_)return l(h,m)
var E="string"==typeof _?{target:_}:_,S=E.target,C=E.actions,A=void 0===C?[]:C,k=E.cond,I=void 0===S
if((void 0===k?function(){return!0}:k)(m,y)){var R=e.states[null!=S?S:h],w=r(p((I?o(A):[].concat(g.exit,A,R.entry).filter((function(e){return e}))).map((function(e){return c(e,f._options.actions)})),m,y),3),x=w[0],M=w[1],O=w[2],N=null!=S?S:h
return{value:N,context:M,actions:x,changed:S!==h||x.length>0||O,matches:d(N)}}}}catch(e){i={error:e}}finally{try{T&&!T.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}}return l(h,m)}}
return f}var h=function(e,n){return e.actions.forEach((function(t){var r=t.exec
return r&&r(e.context,n)}))}
function m(e){var n=e.initialState,t=i.NotStarted,r=new Set,o={_machine:e,send:function(a){t===i.Running&&(n=e.transition(n,a),h(n,u(a)),r.forEach((function(e){return e(n)})))},subscribe:function(e){return r.add(e),e(n),{unsubscribe:function(){return r.delete(e)}}},start:function(r){if(r){var s="object"==typeof r?r:{context:e.config.context,value:r}
n={value:s.value,actions:[],context:s.context,matches:d(s.value)}}return t=i.Running,h(n,a),o},stop:function(){return t=i.Stopped,r.clear(),o},get state(){return n},get status(){return t}}
return o}},56131:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.OPEN_BROADCAST_CHANNELS=n.BroadcastChannel=void 0,n.clearNodeFolder=function(e){e=(0,a.fillOptionsWithDefaults)(e)
var n=(0,i.chooseMethod)(e)
return"node"===n.type?n.clearNodeFolder().then((function(){return!0})):r.PROMISE_RESOLVED_FALSE},n.enforceOptions=function(e){s=e}
var r=t(79774),i=t(69678),a=t(67229),o=new Set
n.OPEN_BROADCAST_CHANNELS=o
var s,c=0,d=function(e,n){var t,d
this.id=c++,o.add(this),this.name=e,s&&(n=s),this.options=(0,a.fillOptionsWithDefaults)(n),this.method=(0,i.chooseMethod)(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,d=(t=this).method.create(t.name,t.options),(0,r.isPromise)(d)?(t._prepP=d,d.then((function(e){t._state=e}))):t._state=d}
function u(e,n,t){var i={time:e.method.microSeconds(),type:n,data:t}
return(e._prepP?e._prepP:r.PROMISE_RESOLVED_VOID).then((function(){var n=e.method.postMessage(e._state,i)
return e._uMP.add(n),n.catch().then((function(){return e._uMP.delete(n)})),n}))}function l(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function p(e,n,t){e._addEL[n].push(t),function(e){if(!e._iL&&l(e)){var n=function(n){e._addEL[n.type].forEach((function(e){var t=e.time-1e5
n.time>=t&&e.fn(n.data)}))},t=e.method.microSeconds()
e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,n,t)})):(e._iL=!0,e.method.onMessage(e._state,n,t))}}(e)}function f(e,n,t){e._addEL[n]=e._addEL[n].filter((function(e){return e!==t})),function(e){if(e._iL&&!l(e)){e._iL=!1
var n=e.method.microSeconds()
e.method.onMessage(e._state,null,n)}}(e)}n.BroadcastChannel=d,d._pubkey=!0,d.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed")
return u(this,"message",e)},postInternal:function(e){return u(this,"internal",e)},set onmessage(e){var n={time:this.method.microSeconds(),fn:e}
f(this,"message",this._onML),e&&"function"==typeof e?(this._onML=n,p(this,"message",n)):this._onML=null},addEventListener:function(e,n){p(this,e,{time:this.method.microSeconds(),fn:n})},removeEventListener:function(e,n){f(this,e,this._addEL[e].find((function(e){return e.fn===n})))},close:function(){var e=this
if(!this.closed){o.delete(this),this.closed=!0
var n=this._prepP?this._prepP:r.PROMISE_RESOLVED_VOID
return this._onML=null,this._addEL.message=[],n.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}}},3446:(e,n,t)=>{"use strict"
var r=t(33335)
e.exports={BroadcastChannel:r.BroadcastChannel,createLeaderElection:r.createLeaderElection,clearNodeFolder:r.clearNodeFolder,enforceOptions:r.enforceOptions,beLeader:r.beLeader}},33335:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BroadcastChannel",{enumerable:!0,get:function(){return r.BroadcastChannel}}),Object.defineProperty(n,"OPEN_BROADCAST_CHANNELS",{enumerable:!0,get:function(){return r.OPEN_BROADCAST_CHANNELS}}),Object.defineProperty(n,"beLeader",{enumerable:!0,get:function(){return i.beLeader}}),Object.defineProperty(n,"clearNodeFolder",{enumerable:!0,get:function(){return r.clearNodeFolder}}),Object.defineProperty(n,"createLeaderElection",{enumerable:!0,get:function(){return i.createLeaderElection}}),Object.defineProperty(n,"enforceOptions",{enumerable:!0,get:function(){return r.enforceOptions}})
var r=t(56131),i=t(93145)},93145:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.beLeader=s,n.createLeaderElection=function(e,n){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector")
n=function(e,n){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=n.method.averageResponseTime(n.options)),e}(n,e)
var t=new a(e,n)
return e._befC.push((function(){return t.die()})),e._leaderElector=t,t}
var r=t(79774),i=t(5365),a=function(e,n){var t=this
this.broadcastChannel=e,this._options=n,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=(0,r.randomToken)(),this._aplQ=r.PROMISE_RESOLVED_VOID,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1
var i=function(e){"leader"===e.context&&("death"===e.action&&(t.hasLeader=!1),"tell"===e.action&&(t.hasLeader=!0))}
this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)}
function o(e,n){var t={context:"leader",action:n,token:e.token}
return e.broadcastChannel.postInternal(t)}function s(e){e.isLeader=!0,e.hasLeader=!0
var n=(0,i.add)((function(){return e.die()}))
e._unl.push(n)
var t=function(n){"leader"===n.context&&"apply"===n.action&&o(e,"tell"),"leader"!==n.context||"tell"!==n.action||e._dpLC||(e._dpLC=!0,e._dpL(),o(e,"tell"))}
return e.broadcastChannel.addEventListener("internal",t),e._lstns.push(t),o(e,"tell")}a.prototype={applyOnce:function(e){var n=this
return this.isLeader?(0,r.sleep)(0,!0):this.isDead?(0,r.sleep)(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(n.isLeader)return r.PROMISE_RESOLVED_TRUE
var t,i=!1,a=new Promise((function(e){t=function(){i=!0,e()}})),c=[],d=function(e){"leader"===e.context&&e.token!=n.token&&(c.push(e),"apply"===e.action&&e.token>n.token&&t(),"tell"===e.action&&(t(),n.hasLeader=!0))}
n.broadcastChannel.addEventListener("internal",d)
var u=e?4*n._options.responseTime:n._options.responseTime
return o(n,"apply").then((function(){return Promise.race([(0,r.sleep)(u),a.then((function(){return Promise.reject(new Error)}))])})).then((function(){return o(n,"apply")})).then((function(){return Promise.race([(0,r.sleep)(u),a.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return n.broadcastChannel.removeEventListener("internal",d),!i&&s(n).then((function(){return!0}))}))}()})).then((function(){n._aplQC=n._aplQC-1})),this._aplQ.then((function(){return n.isLeader})))},awaitLeadership:function(){return this._aLP||(this._aLP=(e=this).isLeader?r.PROMISE_RESOLVED_VOID:new Promise((function(n){var t=!1
function i(){t||(t=!0,e.broadcastChannel.removeEventListener("internal",a),n(!0))}e.applyOnce().then((function(){e.isLeader&&i()})),function n(){return(0,r.sleep)(e._options.fallbackInterval).then((function(){if(!e.isDead&&!t)return e.isLeader?void i():e.applyOnce(!0).then((function(){e.isLeader?i():n()}))}))}()
var a=function(n){"leader"===n.context&&"death"===n.action&&(e.hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&i()})))}
e.broadcastChannel.addEventListener("internal",a),e._lstns.push(a)}))),this._aLP
var e},set onduplicate(e){this._dpL=e},die:function(){var e=this
return this._lstns.forEach((function(n){return e.broadcastChannel.removeEventListener("internal",n)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,o(this,"death")}}},69678:(e,n,t)=>{"use strict"
var r=t(9154)
t(61264),Object.defineProperty(n,"__esModule",{value:!0}),n.chooseMethod=function(e){var n=[].concat(e.methods,d).filter(Boolean)
if(e.type){if("simulate"===e.type)return s.default
var t=n.find((function(n){return n.type===e.type}))
if(t)return t
throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||c.isNode||(n=n.filter((function(e){return"idb"!==e.type})))
var r=n.find((function(e){return e.canBeUsed()}))
if(r)return r
throw new Error("No useable method found in "+JSON.stringify(d.map((function(e){return e.type}))))}
var i=r(t(97594)),a=r(t(76777)),o=r(t(1095)),s=r(t(9981)),c=t(79774),d=[i.default,a.default,o.default]},76777:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.averageResponseTime=E,n.canBeUsed=_,n.cleanOldMessages=h,n.close=v,n.create=m,n.createDatabase=d,n.default=void 0,n.getAllMessages=function(e){var n=e.transaction(s).objectStore(s),t=[]
return new Promise((function(e){n.openCursor().onsuccess=function(n){var r=n.target.result
r?(t.push(r.value),r.continue()):e(t)}}))},n.getIdb=c,n.getMessagesHigherThan=l,n.getOldMessages=f,n.microSeconds=void 0,n.onMessage=T,n.postMessage=b,n.removeMessageById=p,n.type=void 0,n.writeMessage=u
var r=t(79774),i=t(63583),a=t(67229),o=r.microSeconds
n.microSeconds=o
var s="messages"
function c(){if("undefined"!=typeof indexedDB)return indexedDB
if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB
if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB
if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function d(e){var n="pubkey.broadcast-channel-0-"+e,t=c().open(n,1)
return t.onupgradeneeded=function(e){e.target.result.createObjectStore(s,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,n){t.onerror=function(e){return n(e)},t.onsuccess=function(){e(t.result)}}))}function u(e,n,t){var r={uuid:n,time:(new Date).getTime(),data:t},i=e.transaction([s],"readwrite")
return new Promise((function(e,n){i.oncomplete=function(){return e()},i.onerror=function(e){return n(e)},i.objectStore(s).add(r)}))}function l(e,n){var t=e.transaction(s).objectStore(s),r=[]
return new Promise((function(e){(function(){try{var e=IDBKeyRange.bound(n+1,1/0)
return t.openCursor(e)}catch(e){return t.openCursor()}}()).onsuccess=function(t){var i=t.target.result
i?i.value.id<n+1?i.continue(n+1):(r.push(i.value),i.continue()):e(r)}}))}function p(e,n){var t=e.transaction([s],"readwrite").objectStore(s).delete(n)
return new Promise((function(e){t.onsuccess=function(){return e()}}))}function f(e,n){var t=(new Date).getTime()-n,r=e.transaction(s).objectStore(s),i=[]
return new Promise((function(e){r.openCursor().onsuccess=function(n){var r=n.target.result
if(r){var a=r.value
if(!(a.time<t))return void e(i)
i.push(a),r.continue()}else e(i)}}))}function h(e,n){return f(e,n).then((function(n){return Promise.all(n.map((function(n){return p(e,n.id)})))}))}function m(e,n){return n=(0,a.fillOptionsWithDefaults)(n),d(e).then((function(t){var a={closed:!1,lastCursorId:0,channelName:e,options:n,uuid:(0,r.randomToken)(),eMIs:new i.ObliviousSet(2*n.idb.ttl),writeBlockPromise:r.PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:t}
return t.onclose=function(){a.closed=!0,n.idb.onclose&&n.idb.onclose()},y(a),a}))}function y(e){e.closed||g(e).then((function(){return(0,r.sleep)(e.options.idb.fallbackInterval)})).then((function(){return y(e)}))}function g(e){return e.closed?r.PROMISE_RESOLVED_VOID:e.messagesCallback?l(e.db,e.lastCursorId).then((function(n){var t=n.filter((function(e){return!!e})).map((function(n){return n.id>e.lastCursorId&&(e.lastCursorId=n.id),n})).filter((function(n){return function(e,n){return!(e.uuid===n.uuid||n.eMIs.has(e.id)||e.data.time<n.messagesCallbackTime)}(n,e)})).sort((function(e,n){return e.time-n.time}))
return t.forEach((function(n){e.messagesCallback&&(e.eMIs.add(n.id),e.messagesCallback(n.data))})),r.PROMISE_RESOLVED_VOID})):r.PROMISE_RESOLVED_VOID}function v(e){e.closed=!0,e.db.close()}function b(e,n){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return u(e.db,e.uuid,n)})).then((function(){0===(0,r.randomInt)(0,10)&&h(e.db,e.options.idb.ttl)})),e.writeBlockPromise}function T(e,n,t){e.messagesCallbackTime=t,e.messagesCallback=n,g(e)}function _(){return!r.isNode&&!!c()}function E(e){return 2*e.idb.fallbackInterval}n.type="idb"
var S={create:m,close:v,onMessage:T,postMessage:b,canBeUsed:_,type:"idb",averageResponseTime:E,microSeconds:o}
n.default=S},1095:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.addStorageEventListener=l,n.averageResponseTime=g,n.canBeUsed=y,n.close=h,n.create=f,n.default=void 0,n.getLocalStorage=c,n.microSeconds=void 0,n.onMessage=m,n.postMessage=u,n.removeStorageEventListener=p,n.storageKey=d,n.type=void 0
var r=t(63583),i=t(67229),a=t(79774),o=a.microSeconds
n.microSeconds=o
var s="localstorage"
function c(){var e
if("undefined"==typeof window)return null
try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function d(e){return"pubkey.broadcastChannel-"+e}function u(e,n){return new Promise((function(t){(0,a.sleep)().then((function(){var r=d(e.channelName),i={token:(0,a.randomToken)(),time:(new Date).getTime(),data:n,uuid:e.uuid},o=JSON.stringify(i)
c().setItem(r,o)
var s=document.createEvent("Event")
s.initEvent("storage",!0,!0),s.key=r,s.newValue=o,window.dispatchEvent(s),t()}))}))}function l(e,n){var t=d(e),r=function(e){e.key===t&&n(JSON.parse(e.newValue))}
return window.addEventListener("storage",r),r}function p(e){window.removeEventListener("storage",e)}function f(e,n){if(n=(0,i.fillOptionsWithDefaults)(n),!y())throw new Error("BroadcastChannel: localstorage cannot be used")
var t=(0,a.randomToken)(),o=new r.ObliviousSet(n.localstorage.removeTimeout),s={channelName:e,uuid:t,eMIs:o}
return s.listener=l(e,(function(e){s.messagesCallback&&e.uuid!==t&&e.token&&!o.has(e.token)&&(e.data.time&&e.data.time<s.messagesCallbackTime||(o.add(e.token),s.messagesCallback(e.data)))})),s}function h(e){p(e.listener)}function m(e,n,t){e.messagesCallbackTime=t,e.messagesCallback=n}function y(){if(a.isNode)return!1
var e=c()
if(!e)return!1
try{var n="__broadcastchannel_check"
e.setItem(n,"works"),e.removeItem(n)}catch(e){return!1}return!0}function g(){var e=navigator.userAgent.toLowerCase()
return e.includes("safari")&&!e.includes("chrome")?240:120}n.type=s
var v={create:f,close:h,onMessage:m,postMessage:u,canBeUsed:y,type:s,averageResponseTime:g,microSeconds:o}
n.default=v},97594:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.averageResponseTime=l,n.canBeUsed=u,n.close=s,n.create=o,n.microSeconds=n.default=void 0,n.onMessage=d,n.postMessage=c,n.type=void 0
var r=t(79774),i=r.microSeconds
n.microSeconds=i
var a="native"
function o(e){var n={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]}
return n.bc.onmessage=function(e){n.messagesCallback&&n.messagesCallback(e.data)},n}function s(e){e.bc.close(),e.subFns=[]}function c(e,n){try{return e.bc.postMessage(n,!1),r.PROMISE_RESOLVED_VOID}catch(e){return Promise.reject(e)}}function d(e,n){e.messagesCallback=n}function u(){if(r.isNode&&"undefined"==typeof window)return!1
if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill")
return!0}return!1}function l(){return 150}n.type=a
var p={create:o,close:s,onMessage:d,postMessage:c,canBeUsed:u,type:a,averageResponseTime:l,microSeconds:i}
n.default=p},9981:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.averageResponseTime=l,n.canBeUsed=u,n.close=s,n.create=o,n.microSeconds=n.default=void 0,n.onMessage=d,n.postMessage=c,n.type=void 0
var r=t(79774).microSeconds
n.microSeconds=r
var i="simulate"
n.type=i
var a=new Set
function o(e){var n={name:e,messagesCallback:null}
return a.add(n),n}function s(e){a.delete(e)}function c(e,n){return new Promise((function(t){return setTimeout((function(){Array.from(a).filter((function(n){return n.name===e.name})).filter((function(n){return n!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(n)})),t()}),5)}))}function d(e,n){e.messagesCallback=n}function u(){return!0}function l(){return 5}var p={create:o,close:s,onMessage:d,postMessage:c,canBeUsed:u,type:i,averageResponseTime:l,microSeconds:r}
n.default=p},67229:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.fillOptionsWithDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=JSON.parse(JSON.stringify(e))
return void 0===n.webWorkerSupport&&(n.webWorkerSupport=!0),n.idb||(n.idb={}),n.idb.ttl||(n.idb.ttl=45e3),n.idb.fallbackInterval||(n.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(n.idb.onclose=e.idb.onclose),n.localstorage||(n.localstorage={}),n.localstorage.removeTimeout||(n.localstorage.removeTimeout=6e4),e.methods&&(n.methods=e.methods),n.node||(n.node={}),n.node.ttl||(n.node.ttl=12e4),n.node.maxParallelWrites||(n.node.maxParallelWrites=2048),void 0===n.node.useFastPath&&(n.node.useFastPath=!0),n}},79774:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.isNode=n.PROMISE_RESOLVED_VOID=n.PROMISE_RESOLVED_TRUE=n.PROMISE_RESOLVED_FALSE=void 0,n.isPromise=function(e){return!(!e||"function"!=typeof e.then)},n.microSeconds=function(){var e=(new Date).getTime()
return e===a?1e3*e+ ++o:(a=e,o=0,1e3*e)},n.randomInt=function(e,n){return Math.floor(Math.random()*(n-e+1)+e)},n.randomToken=function(){return Math.random().toString(36).substring(2)},n.sleep=function(e,n){return e||(e=0),new Promise((function(t){return setTimeout((function(){return t(n)}),e)}))}
var t=Promise.resolve(!1)
n.PROMISE_RESOLVED_FALSE=t
var r=Promise.resolve(!0)
n.PROMISE_RESOLVED_TRUE=r
var i=Promise.resolve()
n.PROMISE_RESOLVED_VOID=i
var a=0,o=0,s="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)
n.isNode=s},83924:e=>{"use strict"
var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e)
return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103
function r(e,n){return!1!==n.clone&&n.isMergeableObject(e)?s((t=e,Array.isArray(t)?[]:{}),e,n):e
var t}function i(e,n,t){return e.concat(n).map((function(e){return r(e,t)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return Object.propertyIsEnumerable.call(e,n)})):[]}(e))}function o(e,n){try{return n in e}catch(e){return!1}}function s(e,t,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||n,c.cloneUnlessOtherwiseSpecified=r
var d=Array.isArray(t)
return d===Array.isArray(e)?d?c.arrayMerge(e,t,c):function(e,n,t){var i={}
return t.isMergeableObject(e)&&a(e).forEach((function(n){i[n]=r(e[n],t)})),a(n).forEach((function(a){(function(e,n){return o(e,n)&&!(Object.hasOwnProperty.call(e,n)&&Object.propertyIsEnumerable.call(e,n))})(e,a)||(o(e,a)&&t.isMergeableObject(n[a])?i[a]=function(e,n){if(!n.customMerge)return s
var t=n.customMerge(e)
return"function"==typeof t?t:s}(a,t)(e[a],n[a],t):i[a]=r(n[a],t))})),i}(e,t,c):r(t,c)}s.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array")
return e.reduce((function(e,t){return s(e,t,n)}),{})}
var c=s
e.exports=c},38612:e=>{e.exports=!1},77577:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{default:()=>u})
var r,i=function(){function e(){this.registry=new WeakMap}return e.prototype.elementExists=function(e){return this.registry.has(e)},e.prototype.getElement=function(e){return this.registry.get(e)},e.prototype.addElement=function(e,n){e&&this.registry.set(e,n||{})},e.prototype.removeElement=function(e){this.registry.delete(e)},e.prototype.destroyRegistry=function(){this.registry=new WeakMap},e}(),a=function(){}
!function(e){e.enter="enter",e.exit="exit"}(r||(r={}))
var o,s=function(){function e(){this.registry=new i}return e.prototype.addCallback=function(e,n,t){var i,a,o
e===r.enter?((i={})[r.enter]=t,o=i):((a={})[r.exit]=t,o=a),this.registry.addElement(n,Object.assign({},this.registry.getElement(n),o))},e.prototype.dispatchCallback=function(e,n,t){if(e===r.enter){var i=this.registry.getElement(n).enter;(void 0===i?a:i)(t)}else{var o=this.registry.getElement(n)
o&&o.exit&&o.exit(t)}},e}(),c=(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},o(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null")
function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])
return e},d.apply(this,arguments)}
const u=function(e){function n(){var n=e.call(this)||this
return n.elementRegistry=new i,n}return c(n,e),n.prototype.observe=function(e,n){void 0===n&&(n={}),e&&(this.elementRegistry.addElement(e,d({},n)),this.setupObserver(e,d({},n)))},n.prototype.unobserve=function(e,n){var t=this.findMatchingRootEntry(n)
t&&t.intersectionObserver.unobserve(e)},n.prototype.addEnterCallback=function(e,n){this.addCallback(r.enter,e,n)},n.prototype.addExitCallback=function(e,n){this.addCallback(r.exit,e,n)},n.prototype.dispatchEnterCallback=function(e,n){this.dispatchCallback(r.enter,e,n)},n.prototype.dispatchExitCallback=function(e,n){this.dispatchCallback(r.exit,e,n)},n.prototype.destroy=function(){this.elementRegistry.destroyRegistry()},n.prototype.setupOnIntersection=function(e){var n=this
return function(t){return n.onIntersection(e,t)}},n.prototype.setupObserver=function(e,n){var t,r,i=n.root,a=void 0===i?window:i,o=this.findRootFromRegistry(a)
if(o&&(r=this.determineMatchingElements(n,o)),r){var s=r.elements,c=r.intersectionObserver
s.push(e),c&&c.observe(e)}else{var d={elements:[e],intersectionObserver:c=this.newObserver(e,n),options:n},u=this.stringifyOptions(n)
o?o[u]=d:this.elementRegistry.addElement(a,((t={})[u]=d,t))}},n.prototype.newObserver=function(e,n){var t=n.root,r=n.rootMargin,i=n.threshold,a=new IntersectionObserver(this.setupOnIntersection(n).bind(this),{root:t,rootMargin:r,threshold:i})
return a.observe(e),a},n.prototype.onIntersection=function(e,n){var t=this
n.forEach((function(n){var r=n.isIntersecting,i=n.intersectionRatio,a=e.threshold||0
Array.isArray(a)&&(a=a[a.length-1])
var o=t.findMatchingRootEntry(e)
r||i>a?o&&o.elements.some((function(e){return!(!e||e!==n.target||(t.dispatchEnterCallback(e,n),0))})):o&&o.elements.some((function(e){return!(!e||e!==n.target||(t.dispatchExitCallback(e,n),0))}))}))},n.prototype.findRootFromRegistry=function(e){if(this.elementRegistry)return this.elementRegistry.getElement(e)},n.prototype.findMatchingRootEntry=function(e){var n=e.root,t=void 0===n?window:n,r=this.findRootFromRegistry(t)
if(r)return r[this.stringifyOptions(e)]},n.prototype.determineMatchingElements=function(e,n){var t=this,r=Object.keys(n).filter((function(r){var i=n[r].options
return t.areOptionsSame(e,i)}))[0]
return n[r]},n.prototype.areOptionsSame=function(e,n){if(e===n)return!0
var t=Object.prototype.toString.call(e),r=Object.prototype.toString.call(n)
if(t!==r)return!1
if("[object Object]"!==t&&"[object Object]"!==r)return e===n
if(e&&n&&"object"==typeof e&&"object"==typeof n)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&!1===this.areOptionsSame(e[i],n[i]))return!1
return!0},n.prototype.stringifyOptions=function(e){var n=e.root
return JSON.stringify(e,(function(e,t){if("root"===e&&n){var r=Array.prototype.slice.call(n.classList).reduce((function(e,n){return e+n}),""),i=n.id
return"".concat(i,"-").concat(r)}return t}))},n}(s)},63583:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{ObliviousSet:()=>r,now:()=>a,removeTooOldValues:()=>i})
var r=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var n=this
this.timeMap.set(e,a()),this.set.add(e),setTimeout((function(){i(n)}),0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}()
function i(e){for(var n=a()-e.ttl,t=e.set[Symbol.iterator]();;){var r=t.next().value
if(!r)return
if(!(e.timeMap.get(r)<n))return
e.timeMap.delete(r),e.set.delete(r)}}function a(){return(new Date).getTime()}},79103:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{default:()=>De})
var r=Object.create
function i(){var e=r(null)
return e.__=void 0,delete e.__,e}var a=function(e,n,t){this.path=e,this.matcher=n,this.delegate=t}
a.prototype.to=function(e,n){var t=this.delegate
if(t&&t.willAddRoute&&(e=t.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),n){if(0===n.length)throw new Error("You must have an argument in the function passed to `to`")
this.matcher.addChild(this.path,e,n,this.delegate)}}
var o=function(e){this.routes=i(),this.children=i(),this.target=e}
function s(e,n,t){return function(r,i){var o=e+r
if(!i)return new a(o,n,t)
i(s(o,n,t))}}function c(e,n,t){for(var r=0,i=0;i<e.length;i++)r+=e[i].path.length
var a={path:n=n.substr(r),handler:t}
e.push(a)}function d(e,n,t,r){for(var i=n.routes,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],u=e.slice()
c(u,s,i[s])
var l=n.children[s]
l?d(u,l,t,r):t.call(r,u)}}function u(e){return e.split("/").map(p).join("/")}o.prototype.add=function(e,n){this.routes[e]=n},o.prototype.addChild=function(e,n,t,r){var i=new o(n)
this.children[e]=i
var a=s(e,i,r)
r&&r.contextEntered&&r.contextEntered(n,a),t(a)}
var l=/%|\//g
function p(e){return e.length<3||-1===e.indexOf("%")?e:decodeURIComponent(e).replace(l,encodeURIComponent)}var f=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g
function h(e){return encodeURIComponent(e).replace(f,decodeURIComponent)}var m=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,y=Array.isArray,g=Object.prototype.hasOwnProperty
function v(e,n){if("object"!=typeof e||null===e)throw new Error("You must pass an object as the second argument to `generate`.")
if(!g.call(e,n))throw new Error("You must provide param `"+n+"` to `generate`.")
var t=e[n],r="string"==typeof t?t:""+t
if(0===r.length)throw new Error("You must provide a param `"+n+"`.")
return r}var b=[]
b[0]=function(e,n){for(var t=n,r=e.value,i=0;i<r.length;i++){var a=r.charCodeAt(i)
t=t.put(a,!1,!1)}return t},b[1]=function(e,n){return n.put(47,!0,!0)},b[2]=function(e,n){return n.put(-1,!1,!0)},b[4]=function(e,n){return n}
var T=[]
T[0]=function(e){return e.value.replace(m,"\\$1")},T[1]=function(){return"([^/]+)"},T[2]=function(){return"(.+)"},T[4]=function(){return""}
var _=[]
_[0]=function(e){return e.value},_[1]=function(e,n){var t=v(n,e.value)
return M.ENCODE_AND_DECODE_PATH_SEGMENTS?h(t):t},_[2]=function(e,n){return v(n,e.value)},_[4]=function(){return""}
var E=Object.freeze({}),S=Object.freeze([])
function C(e,n,t){n.length>0&&47===n.charCodeAt(0)&&(n=n.substr(1))
for(var r=n.split("/"),i=void 0,a=void 0,o=0;o<r.length;o++){var s,c,d=r[o]
12&(s=2<<(c=""===d?4:58===d.charCodeAt(0)?1:42===d.charCodeAt(0)?2:0))&&(d=d.slice(1),(i=i||[]).push(d),(a=a||[]).push(0!=(4&s))),14&s&&t[c]++,e.push({type:c,value:p(d)})}return{names:i||S,shouldDecodes:a||S}}function A(e,n,t){return e.char===n&&e.negate===t}var k=function(e,n,t,r,i){this.states=e,this.id=n,this.char=t,this.negate=r,this.nextStates=i?n:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0}
function I(e,n){return e.negate?e.char!==n&&-1!==e.char:e.char===n||-1===e.char}function R(e,n){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r]
t=t.concat(a.match(n))}return t}k.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex},k.prototype.get=function(e,n){var t=this.nextStates
if(null!==t)if(y(t))for(var r=0;r<t.length;r++){var i=this.states[t[r]]
if(A(i,e,n))return i}else{var a=this.states[t]
if(A(a,e,n))return a}},k.prototype.put=function(e,n,t){var r
if(r=this.get(e,n))return r
var i=this.states
return r=new k(i,i.length,e,n,t),i[i.length]=r,null==this.nextStates?this.nextStates=r.id:y(this.nextStates)?this.nextStates.push(r.id):this.nextStates=[this.nextStates,r.id],r},k.prototype.match=function(e){var n=this.nextStates
if(!n)return[]
var t=[]
if(y(n))for(var r=0;r<n.length;r++){var i=this.states[n[r]]
I(i,e)&&t.push(i)}else{var a=this.states[n]
I(a,e)&&t.push(a)}return t}
var w=function(e){this.length=0,this.queryParams=e||{}}
function x(e){var n
e=e.replace(/\+/gm,"%20")
try{n=decodeURIComponent(e)}catch(e){n=""}return n}w.prototype.splice=Array.prototype.splice,w.prototype.slice=Array.prototype.slice,w.prototype.push=Array.prototype.push
var M=function(){this.names=i()
var e=[],n=new k(e,0,-1,!0,!1)
e[0]=n,this.states=e,this.rootState=n}
M.prototype.add=function(e,n){for(var t,r=this.rootState,i="^",a=[0,0,0],o=new Array(e.length),s=[],c=!0,d=0,u=0;u<e.length;u++){for(var l=e[u],p=C(s,l.path,a),f=p.names,h=p.shouldDecodes;d<s.length;d++){var m=s[d]
4!==m.type&&(c=!1,r=r.put(47,!1,!1),i+="/",r=b[m.type](m,r),i+=T[m.type](m))}o[u]={handler:l.handler,names:f,shouldDecodes:h}}c&&(r=r.put(47,!1,!1),i+="/"),r.handlers=o,r.pattern=i+"$",r.types=a,"object"==typeof n&&null!==n&&n.as&&(t=n.as),t&&(this.names[t]={segments:s,handlers:o})},M.prototype.handlersFor=function(e){var n=this.names[e]
if(!n)throw new Error("There is no route named "+e)
for(var t=new Array(n.handlers.length),r=0;r<n.handlers.length;r++){var i=n.handlers[r]
t[r]=i}return t},M.prototype.hasRoute=function(e){return!!this.names[e]},M.prototype.generate=function(e,n){var t=this.names[e],r=""
if(!t)throw new Error("There is no route named "+e)
for(var i=t.segments,a=0;a<i.length;a++){var o=i[a]
4!==o.type&&(r+="/",r+=_[o.type](o,n))}return"/"!==r.charAt(0)&&(r="/"+r),n&&n.queryParams&&(r+=this.generateQueryString(n.queryParams)),r},M.prototype.generateQueryString=function(e){var n=[],t=Object.keys(e)
t.sort()
for(var r=0;r<t.length;r++){var i=t[r],a=e[i]
if(null!=a){var o=encodeURIComponent(i)
if(y(a))for(var s=0;s<a.length;s++){var c=i+"[]="+encodeURIComponent(a[s])
n.push(c)}else o+="="+encodeURIComponent(a),n.push(o)}}return 0===n.length?"":"?"+n.join("&")},M.prototype.parseQueryString=function(e){for(var n=e.split("&"),t={},r=0;r<n.length;r++){var i=n[r].split("="),a=x(i[0]),o=a.length,s=!1,c=void 0
1===i.length?c="true":(o>2&&"[]"===a.slice(o-2)&&(s=!0,t[a=a.slice(0,o-2)]||(t[a]=[])),c=i[1]?x(i[1]):""),s?t[a].push(c):t[a]=c}return t},M.prototype.recognize=function(e){var n,t=[this.rootState],r={},i=!1,a=e.indexOf("#");-1!==a&&(e=e.substr(0,a))
var o=e.indexOf("?")
if(-1!==o){var s=e.substr(o+1,e.length)
e=e.substr(0,o),r=this.parseQueryString(s)}"/"!==e.charAt(0)&&(e="/"+e)
var c=e
M.ENCODE_AND_DECODE_PATH_SEGMENTS?e=u(e):(e=decodeURI(e),c=decodeURI(c))
var d=e.length
d>1&&"/"===e.charAt(d-1)&&(e=e.substr(0,d-1),c=c.substr(0,c.length-1),i=!0)
for(var l=0;l<e.length&&(t=R(t,e.charCodeAt(l))).length;l++);for(var p=[],f=0;f<t.length;f++)t[f].handlers&&p.push(t[f])
t=function(e){return e.sort((function(e,n){var t=e.types||[0,0,0],r=t[0],i=t[1],a=t[2],o=n.types||[0,0,0],s=o[0],c=o[1],d=o[2]
if(a!==d)return a-d
if(a){if(r!==s)return s-r
if(i!==c)return c-i}return i!==c?i-c:r!==s?s-r:0}))}(p)
var h=p[0]
return h&&h.handlers&&(i&&h.pattern&&"(.+)$"===h.pattern.slice(-5)&&(c+="/"),n=function(e,n,t){var r=e.handlers,i=e.regex()
if(!i||!r)throw new Error("state not initialized")
var a=n.match(i),o=1,s=new w(t)
s.length=r.length
for(var c=0;c<r.length;c++){var d=r[c],u=d.names,l=d.shouldDecodes,p=E,f=!1
if(u!==S&&l!==S)for(var h=0;h<u.length;h++){f=!0
var m=u[h],y=a&&a[o++]
p===E&&(p={}),M.ENCODE_AND_DECODE_PATH_SEGMENTS&&l[h]?p[m]=y&&decodeURIComponent(y):p[m]=y}s[c]={handler:d.handler,params:p,isDynamic:f}}return s}(h,c,r)),n},M.VERSION="0.3.4",M.ENCODE_AND_DECODE_PATH_SEGMENTS=!0,M.Normalizer={normalizeSegment:p,normalizePath:u,encodePathSegment:h},M.prototype.map=function(e,n){var t=new o
e(s("",t,this.delegate)),d([],t,(function(e){n?n(this,e):this.add(e)}),this)}
const O=M
var N=function(e,n,t,r){this.type=e,this.bubbles=n,this.cancelable=t,this.target=r}
N.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}}
var P={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"},U={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0}
function D(e,n){n.addEventListener(e,(function(t){var r=n["on"+e]
r&&"function"==typeof r&&r.call(t.target,t)}))}function L(){this._eventListeners={}
for(var e=["loadstart","progress","load","abort","loadend"],n=e.length-1;n>=0;n--)D(e[n],this)}function F(){L.call(this),this.readyState=F.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new L,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.onreadystatechange=null,this.ontimeout=null}L.prototype={addEventListener:function(e,n){this._eventListeners[e]=this._eventListeners[e]||[],this._eventListeners[e].push(n)},removeEventListener:function(e,n){for(var t=this._eventListeners[e]||[],r=0,i=t.length;r<i;++r)if(t[r]==n)return t.splice(r,1)},dispatchEvent:function(e){for(var n=e.type,t=this._eventListeners[n]||[],r=0;r<t.length;r++)"function"==typeof t[r]?t[r].call(this,e):t[r].handleEvent(e)
return!!e.defaultPrevented},_progress:function(e,n,t){var r=new N("progress")
r.target=this,r.lengthComputable=e,r.loaded=n,r.total=t,this.dispatchEvent(r)}},F.prototype=new L,F.UNSENT=0,F.OPENED=1,F.HEADERS_RECEIVED=2,F.LOADING=3,F.DONE=4
var B={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(e,n,t,r,i){this.method=e,this.url=n,this.async="boolean"!=typeof t||t,this.username=r,this.password=i,this.responseText=null,this.response=this.responseText,this.responseXML=null,this.responseURL=n,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(F.OPENED)},setRequestHeader:function(e,n){if(q(this),U[e]||/^(Sec-|Proxy-)/.test(e))throw new Error('Refused to set unsafe header "'+e+'"')
this.requestHeaders[e]?this.requestHeaders[e]+=","+n:this.requestHeaders[e]=n},send:function(e){if(q(this),!/^(get|head)$/i.test(this.method)){var n=!1
Object.keys(this.requestHeaders).forEach((function(e){"content-type"===e.toLowerCase()&&(n=!0)})),n||(e||"").toString().match("FormData")||(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=e}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(F.OPENED),"function"==typeof this.onSend&&this.onSend(this),this.dispatchEvent(new N("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,this.responseText=null,this.response=this.responseText,this.errorFlag=!0,this.requestHeaders={},this.dispatchEvent(new N("abort",!1,!1,this)),this.readyState>F.UNSENT&&this.sendFlag&&(this._readyStateChange(F.UNSENT),this.sendFlag=!1),"function"==typeof this.onerror&&this.onerror()},getResponseHeader:function(e){if(this.readyState<F.HEADERS_RECEIVED)return null
if(/^Set-Cookie2?$/i.test(e))return null
for(var n in e=e.toLowerCase(),this.responseHeaders)if(n.toLowerCase()==e)return this.responseHeaders[n]
return null},getAllResponseHeaders:function(){if(this.readyState<F.HEADERS_RECEIVED)return""
var e=""
for(var n in this.responseHeaders)this.responseHeaders.hasOwnProperty(n)&&!/^Set-Cookie2?$/i.test(n)&&(e+=n+": "+this.responseHeaders[n]+"\r\n")
return e},overrideMimeType:function(e){"string"==typeof e&&(this.forceMimeType=e.toLowerCase())},_readyStateChange:function(e){this.readyState=e,"function"==typeof this.onreadystatechange&&this.onreadystatechange(new N("readystatechange")),this.dispatchEvent(new N("readystatechange")),this.readyState==F.DONE&&this.dispatchEvent(new N("load",!1,!1,this)),this.readyState!=F.UNSENT&&this.readyState!=F.DONE||this.dispatchEvent(new N("loadend",!1,!1,this))},_setResponseHeaders:function(e){for(var n in this.responseHeaders={},e)e.hasOwnProperty(n)&&(this.responseHeaders[n]=e[n])
this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(F.HEADERS_RECEIVED):this.readyState=F.HEADERS_RECEIVED},_setResponseBody:function(e){!function(e){if(e.readyState==F.DONE)throw new Error("Request done")}(this),function(e){if(e.async&&e.readyState!=F.HEADERS_RECEIVED)throw new Error("No headers received")}(this),function(e){if("string"!=typeof e){var n=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.")
throw n.name="InvalidBodyException",n}}(e)
var n=this.chunkSize||10,t=0
this.responseText="",this.response=this.responseText
do{this.async&&this._readyStateChange(F.LOADING),this.responseText+=e.substring(t,t+n),this.response=this.responseText,t+=n}while(t<e.length)
var r,i,a=this.getResponseHeader("Content-Type")
if(this.responseText&&(!a||/(text\/xml)|(application\/xml)|(\+xml)/.test(a)))try{this.responseXML=(r=this.responseText,"undefined"!=typeof DOMParser?i=(new DOMParser).parseFromString(r,"text/xml"):((i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(r)),i)}catch(e){}this.async?this._readyStateChange(F.DONE):this.readyState=F.DONE},respond:function(e,n,t){this._setResponseHeaders(n||{}),this.status="number"==typeof e?e:200,this.statusText=P[this.status],this._setResponseBody(t||"")}}
for(var j in B)F.prototype[j]=B[j]
function q(e){if(e.readyState!==F.OPENED)throw new Error("INVALID_STATE_ERR")
if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}const V=F
var H="URLSearchParams"in self,G="Symbol"in self&&"iterator"in Symbol,K="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),W="FormData"in self,z="ArrayBuffer"in self
if(z)var Q=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],$=ArrayBuffer.isView||function(e){return e&&Q.indexOf(Object.prototype.toString.call(e))>-1}
function Y(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name")
return e.toLowerCase()}function X(e){return"string"!=typeof e&&(e=String(e)),e}function J(e){var n={next:function(){var n=e.shift()
return{done:void 0===n,value:n}}}
return G&&(n[Symbol.iterator]=function(){return n}),n}function Z(e){this.map={},e instanceof Z?e.forEach((function(e,n){this.append(n,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(n){this.append(n,e[n])}),this)}function ee(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"))
e.bodyUsed=!0}function ne(e){return new Promise((function(n,t){e.onload=function(){n(e.result)},e.onerror=function(){t(e.error)}}))}function te(e){var n=new FileReader,t=ne(n)
return n.readAsArrayBuffer(e),t}function re(e){if(e.slice)return e.slice(0)
var n=new Uint8Array(e.byteLength)
return n.set(new Uint8Array(e)),n.buffer}function ie(){return this.bodyUsed=!1,this._initBody=function(e){var n
this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:K&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:W&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:H&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():z&&K&&(n=e)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=re(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):z&&(ArrayBuffer.prototype.isPrototypeOf(e)||$(e))?this._bodyArrayBuffer=re(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):H&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},K&&(this.blob=function(){var e=ee(this)
if(e)return e
if(this._bodyBlob)return Promise.resolve(this._bodyBlob)
if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]))
if(this._bodyFormData)throw new Error("could not read FormData body as blob")
return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ee(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(te)}),this.text=function(){var e,n,t,r=ee(this)
if(r)return r
if(this._bodyBlob)return e=this._bodyBlob,t=ne(n=new FileReader),n.readAsText(e),t
if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var n=new Uint8Array(e),t=new Array(n.length),r=0;r<n.length;r++)t[r]=String.fromCharCode(n[r])
return t.join("")}(this._bodyArrayBuffer))
if(this._bodyFormData)throw new Error("could not read FormData body as text")
return Promise.resolve(this._bodyText)},W&&(this.formData=function(){return this.text().then(se)}),this.json=function(){return this.text().then(JSON.parse)},this}Z.prototype.append=function(e,n){e=Y(e),n=X(n)
var t=this.map[e]
this.map[e]=t?t+", "+n:n},Z.prototype.delete=function(e){delete this.map[Y(e)]},Z.prototype.get=function(e){return e=Y(e),this.has(e)?this.map[e]:null},Z.prototype.has=function(e){return this.map.hasOwnProperty(Y(e))},Z.prototype.set=function(e,n){this.map[Y(e)]=X(n)},Z.prototype.forEach=function(e,n){for(var t in this.map)this.map.hasOwnProperty(t)&&e.call(n,this.map[t],t,this)},Z.prototype.keys=function(){var e=[]
return this.forEach((function(n,t){e.push(t)})),J(e)},Z.prototype.values=function(){var e=[]
return this.forEach((function(n){e.push(n)})),J(e)},Z.prototype.entries=function(){var e=[]
return this.forEach((function(n,t){e.push([t,n])})),J(e)},G&&(Z.prototype[Symbol.iterator]=Z.prototype.entries)
var ae=["DELETE","GET","HEAD","OPTIONS","POST","PUT"]
function oe(e,n){var t,r,i=(n=n||{}).body
if(e instanceof oe){if(e.bodyUsed)throw new TypeError("Already read")
this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new Z(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e)
if(this.credentials=n.credentials||this.credentials||"same-origin",!n.headers&&this.headers||(this.headers=new Z(n.headers)),this.method=(r=(t=n.method||this.method||"GET").toUpperCase(),ae.indexOf(r)>-1?r:t),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests")
this._initBody(i)}function se(e){var n=new FormData
return e.trim().split("&").forEach((function(e){if(e){var t=e.split("="),r=t.shift().replace(/\+/g," "),i=t.join("=").replace(/\+/g," ")
n.append(decodeURIComponent(r),decodeURIComponent(i))}})),n}function ce(e,n){n||(n={}),this.type="default",this.status=void 0===n.status?200:n.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in n?n.statusText:"OK",this.headers=new Z(n.headers),this.url=n.url||"",this._initBody(e)}oe.prototype.clone=function(){return new oe(this,{body:this._bodyInit})},ie.call(oe.prototype),ie.call(ce.prototype),ce.prototype.clone=function(){return new ce(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Z(this.headers),url:this.url})},ce.error=function(){var e=new ce(null,{status:0,statusText:""})
return e.type="error",e}
var de=[301,302,303,307,308]
ce.redirect=function(e,n){if(-1===de.indexOf(n))throw new RangeError("Invalid status code")
return new ce(null,{status:n,headers:{location:e}})}
var ue=self.DOMException
try{new ue}catch(e){(ue=function(e,n){this.message=e,this.name=n
var t=Error(e)
this.stack=t.stack}).prototype=Object.create(Error.prototype),ue.prototype.constructor=ue}function le(e,n){return new Promise((function(t,r){var i=new oe(e,n)
if(i.signal&&i.signal.aborted)return r(new ue("Aborted","AbortError"))
var a=new XMLHttpRequest
function o(){a.abort()}a.onload=function(){var e,n,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",n=new Z,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var t=e.split(":"),r=t.shift().trim()
if(r){var i=t.join(":").trim()
n.append(r,i)}})),n)}
r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL")
var i="response"in a?a.response:a.responseText
t(new ce(i,r))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new ue("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&K&&(a.responseType="blob"),i.headers.forEach((function(e,n){a.setRequestHeader(n,e)})),i.signal&&(i.signal.addEventListener("abort",o),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",o)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}le.polyfill=!0,self.fetch||(self.fetch=le,self.Headers=Z,self.Request=oe,self.Response=ce)
var pe=Object.freeze({__proto__:null,Headers:Z,Request:oe,Response:ce,get DOMException(){return ue},fetch:le}),fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},he=function(e,n){if(n=n.split(":")[0],!(e=+e))return!1
switch(n){case"http":case"ws":return 80!==e
case"https":case"wss":return 443!==e
case"ftp":return 21!==e
case"gopher":return 70!==e
case"file":return!1}return 0!==e},me=Object.prototype.hasOwnProperty
function ye(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}var ge={stringify:function(e,n){n=n||""
var t,r,i=[]
for(r in"string"!=typeof n&&(n="?"),e)if(me.call(e,r)){if((t=e[r])||null!=t&&!isNaN(t)||(t=""),r=encodeURIComponent(r),t=encodeURIComponent(t),null===r||null===t)continue
i.push(r+"="+t)}return i.length?n+i.join("&"):""},parse:function(e){for(var n,t=/([^=?&]+)=?([^&]*)/g,r={};n=t.exec(e);){var i=ye(n[1]),a=ye(n[2])
null===i||null===a||i in r||(r[i]=a)}return r}},ve=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,be=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,Te=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+")
function _e(e){return(e||"").toString().replace(Te,"")}var Ee=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Se={hash:1,query:1}
function Ce(e){var n,t=("undefined"!=typeof window?window:void 0!==fe?fe:"undefined"!=typeof self?self:{}).location||{},r={},i=typeof(e=e||t)
if("blob:"===e.protocol)r=new ke(unescape(e.pathname),{})
else if("string"===i)for(n in r=new ke(e,{}),Se)delete r[n]
else if("object"===i){for(n in e)n in Se||(r[n]=e[n])
void 0===r.slashes&&(r.slashes=ve.test(e.href))}return r}function Ae(e){e=_e(e)
var n=be.exec(e)
return{protocol:n[1]?n[1].toLowerCase():"",slashes:!!n[2],rest:n[3]}}function ke(e,n,t){if(e=_e(e),!(this instanceof ke))return new ke(e,n,t)
var r,i,a,o,s,c,d=Ee.slice(),u=typeof n,l=this,p=0
for("object"!==u&&"string"!==u&&(t=n,n=null),t&&"function"!=typeof t&&(t=ge.parse),n=Ce(n),r=!(i=Ae(e||"")).protocol&&!i.slashes,l.slashes=i.slashes||r&&n.slashes,l.protocol=i.protocol||n.protocol||"",e=i.rest,i.slashes||(d[3]=[/(.*)/,"pathname"]);p<d.length;p++)"function"!=typeof(o=d[p])?(a=o[0],c=o[1],a!=a?l[c]=e:"string"==typeof a?~(s=e.indexOf(a))&&("number"==typeof o[2]?(l[c]=e.slice(0,s),e=e.slice(s+o[2])):(l[c]=e.slice(s),e=e.slice(0,s))):(s=a.exec(e))&&(l[c]=s[1],e=e.slice(0,s.index)),l[c]=l[c]||r&&o[3]&&n[c]||"",o[4]&&(l[c]=l[c].toLowerCase())):e=o(e)
t&&(l.query=t(l.query)),r&&n.slashes&&"/"!==l.pathname.charAt(0)&&(""!==l.pathname||""!==n.pathname)&&(l.pathname=function(e,n){if(""===e)return n
for(var t=(n||"/").split("/").slice(0,-1).concat(e.split("/")),r=t.length,i=t[r-1],a=!1,o=0;r--;)"."===t[r]?t.splice(r,1):".."===t[r]?(t.splice(r,1),o++):o&&(0===r&&(a=!0),t.splice(r,1),o--)
return a&&t.unshift(""),"."!==i&&".."!==i||t.push(""),t.join("/")}(l.pathname,n.pathname)),he(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(o=l.auth.split(":"),l.username=o[0]||"",l.password=o[1]||""),l.origin=l.protocol&&l.host&&"file:"!==l.protocol?l.protocol+"//"+l.host:"null",l.href=l.toString()}ke.prototype={set:function(e,n,t){var r=this
switch(e){case"query":"string"==typeof n&&n.length&&(n=(t||ge.parse)(n)),r[e]=n
break
case"port":r[e]=n,he(n,r.protocol)?n&&(r.host=r.hostname+":"+n):(r.host=r.hostname,r[e]="")
break
case"hostname":r[e]=n,r.port&&(n+=":"+r.port),r.host=n
break
case"host":r[e]=n,/:\d+$/.test(n)?(n=n.split(":"),r.port=n.pop(),r.hostname=n.join(":")):(r.hostname=n,r.port="")
break
case"protocol":r.protocol=n.toLowerCase(),r.slashes=!t
break
case"pathname":case"hash":if(n){var i="pathname"===e?"/":"#"
r[e]=n.charAt(0)!==i?i+n:n}else r[e]=n
break
default:r[e]=n}for(var a=0;a<Ee.length;a++){var o=Ee[a]
o[4]&&(r[o[1]]=r[o[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=ge.stringify)
var n,t=this,r=t.protocol
r&&":"!==r.charAt(r.length-1)&&(r+=":")
var i=r+(t.slashes?"//":"")
return t.username&&(i+=t.username,t.password&&(i+=":"+t.password),i+="@"),i+=t.host+t.pathname,(n="object"==typeof t.query?e(t.query):t.query)&&(i+="?"!==n.charAt(0)?"?"+n:n),t.hash&&(i+=t.hash),i}},ke.extractProtocol=Ae,ke.location=Ce,ke.trimLeft=_e,ke.qs=ge
var Ie=ke
function Re(e){var n=new Ie(e)
n.host||(n.href=n.href)
var t=n.pathname
"/"!==t.charAt(0)&&(t="/"+t)
var r=n.host
return"80"!==n.port&&"443"!==n.port||(r=n.hostname),{host:r,protocol:n.protocol,search:n.query,hash:n.hash,href:n.href,pathname:t,fullpath:t+(n.query||"")+(n.hash||"")}}var we=function(){this.verbs={GET:new O,PUT:new O,POST:new O,DELETE:new O,PATCH:new O,HEAD:new O,OPTIONS:new O}},xe=function(){function e(){this.registries={}}return e.prototype.forURL=function(e){var n=Re(e).host,t=this.registries[n]
return void 0===t&&(t=this.registries[n]=new we),t.verbs},e}()
function Me(e){function n(){V.call(this)}return n.prototype=Object.create(V.prototype),n.prototype.constructor=n,n.prototype.send=function(){if(this.sendArguments=arguments,!e.pretender.running)throw new Error("You shut down a Pretender instance while there was a pending request. That request just tried to complete. Check to see if you accidentally shut down a pretender earlier than you intended to")
V.prototype.send.apply(this,arguments),e.pretender.checkPassthrough(this)?this.passthrough():e.pretender.handleRequest(this)},n.prototype.passthrough=function(){if(!this.sendArguments)throw new Error("You attempted to passthrough a FakeRequest that was never sent. Call `.send()` on the original request first")
var n=function(e,n){var t,r=["error","timeout","abort","readystatechange"],i=[],a=["readyState","responseText","response","responseXML","responseURL","status","statusText"],o=e._passthroughRequest=new n
function s(e,n,t){e.dispatchEvent(t),e["on"+n]&&e["on"+n](t)}function c(n){o["on"+n]=function(t){!function(e,n,t){for(var r=0;r<e.length;r++){var i=e[r]
i in n&&(t[i]=n[i])}}(a,o,e),s(e,n,t)}}function d(n){o.upload&&e.upload&&e.upload["on"+n]&&(o.upload["on"+n]=function(t){s(e.upload,n,t)})}o.open(e.method,e.url,e.async,e.username,e.password),"arraybuffer"===e.responseType&&(a=["readyState","response","status","statusText"],o.responseType=e.responseType),"onload"in o&&r.push("load"),e.async&&"arraybuffer"!==e.responseType&&(r.push("progress"),i.push("progress"))
for(t=0;t<r.length;t++)c(r[t])
for(t=0;t<i.length;t++)d(i[t])
for(var u in e.async&&(o.timeout=e.timeout,o.withCredentials=e.withCredentials),e.requestHeaders)o.setRequestHeader(u,e.requestHeaders[u])
return o}(this,e.pretender._nativeXMLHttpRequest)
return n.send.apply(n,this.sendArguments),n},n.prototype._passthroughCheck=function(e,n){return this._passthroughRequest?this._passthroughRequest[e].apply(this._passthroughRequest,n):V.prototype[e].apply(this,n)},n.prototype.abort=function(){return this._passthroughCheck("abort",arguments)},n.prototype.getResponseHeader=function(){return this._passthroughCheck("getResponseHeader",arguments)},n.prototype.getAllResponseHeaders=function(){return this._passthroughCheck("getAllResponseHeaders",arguments)},e.pretender._nativeXMLHttpRequest.prototype._passthroughCheck&&console.warn("You created a second Pretender instance while there was already one running. Running two Pretender servers at once will lead to unexpected results and will be removed entirely in a future major version.Please call .shutdown() on your instances when you no longer need them to respond."),n}function Oe(){this.hosts=new xe
var e=arguments[arguments.length-1],n="object"==typeof e?e:null,t=n&&!1===n.trackRequests,r={push:function(){},length:0}
this.handlers=[],this.handledRequests=t?r:[],this.passthroughRequests=t?r:[],this.unhandledRequests=t?r:[],this.requestReferences=[],this.forcePassthrough=n&&!0===n.forcePassthrough,this.disableUnhandled=n&&!0===n.disableUnhandled,this._nativeXMLHttpRequest=self.XMLHttpRequest,this.running=!1
var i={pretender:this}
this.ctx=i,self.XMLHttpRequest=Me(i),this._fetchProps=pe?["fetch","Headers","Request","Response"]:[],this._fetchProps.forEach((function(e){this["_native"+e]=self[e],self[e]=pe[e]}),this),this.running=!0
for(var a=n?arguments.length-1:arguments.length,o=0;o<a;o++)this.map(arguments[o])}function Ne(e){return function(n,t,r){return this.register(e,n,t,r)}}function Pe(e,n,t){setTimeout((function(){if(!e.aborted&&!e.status){var r,i=(new Date).getTime()-n.getTime(),a=e.requestBody
r=a&&(a.byteLength||a.size||a.length)||0
var o=t<=0?0:i/t*r
e.upload._progress(!0,o,r),e._progress(!0,o,r),Pe(e,n,t)}}),50)}var Ue={}
Oe.prototype={get:Ne("GET"),post:Ne("POST"),put:Ne("PUT"),delete:Ne("DELETE"),patch:Ne("PATCH"),head:Ne("HEAD"),options:Ne("OPTIONS"),map:function(e){e.call(this)},register:function(e,n,t,r){if(!t)throw new Error("The function you tried passing to Pretender to handle "+e+" "+n+" is undefined or missing.")
return t.numberOfCalls=0,t.async=r,this.handlers.push(t),this.hosts.forURL(n)[e].add([{path:Re(n).fullpath,handler:t}]),t},passthrough:Ue,checkPassthrough:function(e){var n=e.method.toUpperCase(),t=Re(e.url).fullpath,r=this.hosts.forURL(e.url)[n].recognize(t),i=r&&r[0]
return!!(i&&i.handler===Ue||this.forcePassthrough)&&(this.passthroughRequests.push(e),this.passthroughRequest(n,t,e),!0)},handleRequest:function(e){var n=e.method.toUpperCase(),t=e.url,r=this._handlerFor(n,t,e)
if(r){r.handler.numberOfCalls++
var i=r.handler.async
this.handledRequests.push(e)
var a=this,o=function(r){if(o=r,"[object Array]"!==Object.prototype.toString.call(o))throw new Error("Nothing returned by handler for "+t+". Remember to `return [status, headers, body];` in your route handler.")
var o,s=r[0],c=a.prepareHeaders(r[1]),d=a.prepareBody(r[2],c)
a.handleResponse(e,i,(function(){e.respond(s,c,d),a.handledRequest(n,t,e)}))}
try{var s=r.handler(e)
s&&"function"==typeof s.then?s.then((function(e){o(e)})):o(s)}catch(r){this.erroredRequest(n,t,e,r),this.resolve(e)}}else this.disableUnhandled||(this.unhandledRequests.push(e),this.unhandledRequest(n,t,e))},handleResponse:function(e,n,t){var r="function"==typeof n?n():n
if(!1===(r="boolean"==typeof r||"number"==typeof r?r:0))t()
else{var i=this
i.requestReferences.push({request:e,callback:t}),!0!==r&&(Pe(e,new Date,r),setTimeout((function(){i.resolve(e)}),r))}},resolve:function(e){for(var n=0,t=this.requestReferences.length;n<t;n++){var r=this.requestReferences[n]
if(r.request===e){r.callback(),this.requestReferences.splice(n,1)
break}}},requiresManualResolution:function(e,n){var t=this._handlerFor(e.toUpperCase(),n,{})
if(!t)return!1
var r=t.handler.async
return"function"==typeof r?!0===r():!0===r},prepareBody:function(e){return e},prepareHeaders:function(e){return e},handledRequest:function(){},passthroughRequest:function(){},unhandledRequest:function(e,n){throw new Error("Pretender intercepted "+e+" "+n+" but no handler was defined for this type of request")},erroredRequest:function(e,n,t,r){throw r.message="Pretender intercepted "+e+" "+n+" but encountered an error: "+r.message,r},_handlerFor:function(e,n,t){var r=this.hosts.forURL(n)[e].recognize(Re(n).fullpath),i=r?r[0]:null
return i&&(t.params=i.params,t.queryParams=r.queryParams),i},shutdown:function(){self.XMLHttpRequest=this._nativeXMLHttpRequest,this._fetchProps.forEach((function(e){self[e]=this["_native"+e]}),this),this.ctx.pretender=void 0,this.running=!1}},Oe.parseURL=Re,Oe.Hosts=xe,Oe.Registry=we
const De=Oe},9516:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{decode:()=>g,default:()=>_,encode:()=>v,toASCII:()=>T,toUnicode:()=>b,ucs2decode:()=>f,ucs2encode:()=>h})
const r=2147483647,i=36,a=/^xn--/,o=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,u=String.fromCharCode
function l(e){throw new RangeError(c[e])}function p(e,n){const t=e.split("@")
let r=""
t.length>1&&(r=t[0]+"@",e=t[1])
const i=function(e,n){const t=[]
let r=e.length
for(;r--;)t[r]=n(e[r])
return t}((e=e.replace(s,".")).split("."),n).join(".")
return r+i}function f(e){const n=[]
let t=0
const r=e.length
for(;t<r;){const i=e.charCodeAt(t++)
if(i>=55296&&i<=56319&&t<r){const r=e.charCodeAt(t++)
56320==(64512&r)?n.push(((1023&i)<<10)+(1023&r)+65536):(n.push(i),t--)}else n.push(i)}return n}const h=e=>String.fromCodePoint(...e),m=function(e,n){return e+22+75*(e<26)-((0!=n)<<5)},y=function(e,n,t){let r=0
for(e=t?d(e/700):e>>1,e+=d(e/n);e>455;r+=i)e=d(e/35)
return d(r+36*e/(e+38))},g=function(e){const n=[],t=e.length
let a=0,o=128,s=72,c=e.lastIndexOf("-")
c<0&&(c=0)
for(let t=0;t<c;++t)e.charCodeAt(t)>=128&&l("not-basic"),n.push(e.charCodeAt(t))
for(let p=c>0?c+1:0;p<t;){let c=a
for(let n=1,o=i;;o+=i){p>=t&&l("invalid-input")
const c=(u=e.charCodeAt(p++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:i;(c>=i||c>d((r-a)/n))&&l("overflow"),a+=c*n
const f=o<=s?1:o>=s+26?26:o-s
if(c<f)break
const h=i-f
n>d(r/h)&&l("overflow"),n*=h}const f=n.length+1
s=y(a-c,f,0==c),d(a/f)>r-o&&l("overflow"),o+=d(a/f),a%=f,n.splice(a++,0,o)}var u
return String.fromCodePoint(...n)},v=function(e){const n=[]
let t=(e=f(e)).length,a=128,o=0,s=72
for(const t of e)t<128&&n.push(u(t))
let c=n.length,p=c
for(c&&n.push("-");p<t;){let t=r
for(const n of e)n>=a&&n<t&&(t=n)
const f=p+1
t-a>d((r-o)/f)&&l("overflow"),o+=(t-a)*f,a=t
for(const t of e)if(t<a&&++o>r&&l("overflow"),t==a){let e=o
for(let t=i;;t+=i){const r=t<=s?1:t>=s+26?26:t-s
if(e<r)break
const a=e-r,o=i-r
n.push(u(m(r+a%o,0))),e=d(a/o)}n.push(u(m(e,0))),s=y(o,f,p==c),o=0,++p}++o,++a}return n.join("")},b=function(e){return p(e,(function(e){return a.test(e)?g(e.slice(4).toLowerCase()):e}))},T=function(e){return p(e,(function(e){return o.test(e)?"xn--"+v(e):e}))},_={version:"2.1.0",ucs2:{decode:f,encode:h},decode:g,encode:v,toASCII:T,toUnicode:b}},2777:e=>{self,e.exports=(()=>{"use strict"
var e={170:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default={hour:36e5,minute:6e4,second:1e3}},544:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0})
var r=t(916),i=t(234)
n.default={parse:r.default,serialize:i.default}},916:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseTimeStamp=void 0
var r=t(734),i=t(572),a=t(170),o=/\r?\n/,s=/\s$/,c=/^(\d{2}):(\d{2}):(\d{2}),(\d{3})$/
function d(e,n){if(!e)throw new i.default("Missing sequence number",n,r.default.PARSER_ERROR_MISSING_SEQUENCE_NUMBER)
var t=Number(e)
if(!Number.isInteger(t)||s.test(e))throw new i.default("Expected Integer for sequence number: ".concat(e),n,r.default.PARSER_ERROR_INVALID_SEQUENCE_NUMBER)
return t}function u(e,n){var t=c.exec(e)
if(!t)throw new i.default("Invalid time stamp: ".concat(e),n,r.default.PARSER_ERROR_INVALID_TIME_STAMP)
var o=t.slice(1).map(Number),s=o[0],d=o[1],u=o[2],l=o[3]
return s*a.default.hour+d*a.default.minute+u*a.default.second+l}function l(e,n){if(!e)throw new i.default("Missing time span",n,r.default.PARSER_ERROR_MISSING_TIME_SPAN)
var t=e.split(" --\x3e "),a=t[0],o=t[1]
if(!a||!o||s.test(e))throw new i.default("Invalid time span: ".concat(e),n,r.default.PARSER_ERROR_INVALID_TIME_SPAN)
return{start:u(a,n),end:u(o,n)}}n.parseTimeStamp=u,n.default=function(e){for(var n=e.trimEnd().split(o),t=[],a=0;a<n.length;a+=1){var s={chunkStart:a,timeSpan:a,text:a,chunkEnd:a},c=d(n[a],a)
a+=1,s.timeSpan=a
var u=l(n[a],a)
a+=1,s.text=a
for(var p=[];n[a]&&n[a].trim();)p.push(n[a]),a+=1
var f=p.join("\n")
if(!f)throw new i.default("Missing caption text",a,r.default.PARSER_ERROR_MISSING_TEXT)
s.chunkEnd=a-1,t.push({lineNumbers:s,sequenceNumber:c,time:u,text:f})}return t}},234:function(e,n,t){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])
return e},r.apply(this,arguments)}
Object.defineProperty(n,"__esModule",{value:!0})
var i=t(170),a="\n"
function o(e,n){var t=e,r=e/i.default.hour,a=(t%=i.default.hour)/i.default.minute,o=(t%=i.default.minute)/i.default.second
t%=i.default.second
var s=[2,2,2,3],c=[r,a,o,t].map((function(e,n){return"".concat(Math.floor(e)).padStart(s[n],"0")})),d=c[0],u=c[1],l=c[2],p=c[3]
return"".concat(d,":").concat(u,":").concat(l).concat(n).concat(p)}n.default=function(e,n){void 0===n&&(n="SRT")
var t={FILE_HEADER:"",MS_SEPERATOR:",",FORMAT_TEXT:function(e){return e},CHUNK_SEPARATOR:"".concat(a).concat(a)}
switch(n.toLowerCase()){case"webvtt":t=r(r({},t),{FILE_HEADER:"WEBVTT".concat(a).concat(a),MS_SEPERATOR:"."})
break
case"srt":break
default:throw new Error("Unrecognized format: ".concat(n))}return t.FILE_HEADER+e.map((function(e){return"".concat(e.sequenceNumber,"\n").concat((n=e.time,r=t.MS_SEPERATOR,"".concat(o(n.start,r)," --\x3e ").concat(o(n.end,r))),"\n").concat(t.FORMAT_TEXT(e.text))
var n,r})).join(t.CHUNK_SEPARATOR)}},734:(e,n)=>{var t
Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.PARSER_ERROR_MISSING_TEXT="parserErrorMissingText",e.PARSER_ERROR_MISSING_SEQUENCE_NUMBER="parserErrorMissingSequenceNumber",e.PARSER_ERROR_INVALID_SEQUENCE_NUMBER="parserErrorInvalidSequenceNumber",e.PARSER_ERROR_MISSING_TIME_SPAN="parserErrorMissingTimeSpan",e.PARSER_ERROR_INVALID_TIME_SPAN="parserErrorInvalidTimeSpan",e.PARSER_ERROR_INVALID_TIME_STAMP="parserErrorInvalidTimeStamp",e.VALIDATOR_ERROR_START_TIME="validatorErrorStartTime",e.VALIDATOR_ERROR_END_TIME="validatorErrorEndTime",e.VALIDATOR_ERROR_SEQUENCE_NUMBER_START="validatorErrorSequenceNumberStart",e.VALIDATOR_ERROR_SEQUENCE_NUMBER_INCREMENT="validatorErrorSequenceNumberIncrement"}(t||(t={})),n.default=t},572:function(e,n){var t,r=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null")
function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)})
Object.defineProperty(n,"__esModule",{value:!0})
var i=function(e){function n(n,t,r){var i=e.call(this,n)||this
return i.lineNumber=t,i.errorCode=r,i.lineNumber=t+1,i.errorCode=r,i}return r(n,e),n}(Error)
n.default=i},969:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0})
var t=function(){function e(e){this.parsedJSON=e,this.result=[],this.parsedJSON=e}return e.prototype.addToResult=function(e){this.result.push(e)},e}()
n.default=t},513:function(e,n,t){var r,i=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null")
function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)})
Object.defineProperty(n,"__esModule",{value:!0})
var a=t(969),o=t(734),s=function(e){function n(n){var t=e.call(this,n)||this
return t.parsedJSON=n,t.validator="CaptionTimeSpanValidator",t}return i(n,e),n.prototype.validate=function(){var e=this
if(!this.parsedJSON.length)return this.result
var n=0
return this.parsedJSON.map((function(n){var t=n.time,r=t.start,i=t.end,a=n.lineNumbers
return r>=i&&e.addToResult({errorCode:o.default.VALIDATOR_ERROR_START_TIME,message:"start time should be less than end time",lineNumber:a.timeSpan+1,validator:e.validator}),{start:r,end:i,lineNumbers:a}})).forEach((function(t,r){var i=t.start,a=t.end,s=t.lineNumbers
0!==r?(n>i&&e.addToResult({errorCode:o.default.VALIDATOR_ERROR_END_TIME,message:"start time should be less than previous end time",lineNumber:s.timeSpan+1,validator:e.validator}),n=a):n=a})),this.result},n}(a.default)
n.default=s},531:function(e,n,t){var r,i=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null")
function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)})
Object.defineProperty(n,"__esModule",{value:!0})
var a=t(969),o=t(734),s=function(e){function n(n){var t=e.call(this,n)||this
return t.parsedJSON=n,t.validator="LineNumberValidator",t}return i(n,e),n.prototype.validate=function(){if(!this.parsedJSON.length)return this.result
1!==this.parsedJSON[0].sequenceNumber&&this.addToResult({errorCode:o.default.VALIDATOR_ERROR_SEQUENCE_NUMBER_START,message:"number of sequence need to start with 1",lineNumber:this.parsedJSON[0].lineNumbers.chunkStart+1,validator:this.validator})
for(var e=1;e<this.parsedJSON.length;e+=1){var n=this.parsedJSON[e],t=n.sequenceNumber,r=n.lineNumbers
t!==e+1&&this.addToResult({errorCode:o.default.VALIDATOR_ERROR_SEQUENCE_NUMBER_INCREMENT,message:"number of sequence need to increment by 1",lineNumber:r.chunkStart+1,validator:this.validator})}return this.result},n}(a.default)
n.default=s}},n={}
function t(r){var i=n[r]
if(void 0!==i)return i.exports
var a=n[r]={exports:{}}
return e[r].call(a.exports,a,a.exports,t),a.exports}var r={}
return(()=>{var e=r
Object.defineProperty(e,"__esModule",{value:!0}),e.parser=e.validator=void 0
var n=t(544),i=t(513),a=t(531)
function o(e){var t,r,o,s=[]
try{t=n.default.parse(e)}catch(e){s.push(e)}return s.length?s:(s.push.apply(s,(r=[a.default,i.default],o=t,r.map((function(e){return new e(o).validate()})).reduce((function(e,n){return e.push.apply(e,n),e}),[]))),s.sort((function(e,n){return e.lineNumber-n.lineNumber})))}e.validator=o,e.parser=n.default,e.default=o})(),r})()},39705:e=>{function n(){}n.prototype={on:function(e,n,t){var r=this.e||(this.e={})
return(r[e]||(r[e]=[])).push({fn:n,ctx:t}),this},once:function(e,n,t){var r=this
function i(){r.off(e,i),n.apply(t,arguments)}return i._=n,this.on(e,i,t)},emit:function(e){for(var n=[].slice.call(arguments,1),t=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=t.length;r<i;r++)t[r].fn.apply(t[r].ctx,n)
return this},off:function(e,n){var t=this.e||(this.e={}),r=t[e],i=[]
if(r&&n)for(var a=0,o=r.length;a<o;a++)r[a].fn!==n&&r[a].fn._!==n&&i.push(r[a])
return i.length?t[e]=i:delete t[e],this}},e.exports=n,e.exports.TinyEmitter=n},5365:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{add:()=>l,getSize:()=>h,removeAll:()=>f,runAll:()=>p})
var r=t(38612),i=t.n(r)
const a={add:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return
window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}}}
var o=t(99707),s=t.n(o),c=i()?s():a,d=new Set,u=!1
function l(e){if(u||(u=!0,c.add(p)),"function"!=typeof e)throw new Error("Listener is no function")
return d.add(e),{remove:function(){return d.delete(e)},run:function(){return d.delete(e),e()}}}function p(){var e=[]
return d.forEach((function(n){e.push(n()),d.delete(n)})),Promise.all(e)}function f(){d.clear()}function h(){return d.size}},76196:e=>{"use strict"
function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,n){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},a(e,n)}function o(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n
if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")
return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}(e)}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=t){var r,i,a=[],o=!0,s=!1
try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||c(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){if(e){if("string"==typeof e)return d(e,n)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}function d(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}var u="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",l="undefined"==typeof document||"textContent"in document.createElement("div")?"textContent":"innerText",p=["b","del","em","i","s","strong","sub","sup"],f=p.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),h=[u,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|"),m=r((function e(){n(this,e)}))
function y(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var g,v,b,T,_,E,S=(g=/[&<>"'\u0000\\=]/g,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"ï¿½","\\":"&#92;","=":"&#61;"},function(e){return null==e?null:e.toString().replace(g,(function(e){return function(e){return e in v}(e)?v[e]:e}))}),C=(T="undefined"!=typeof document?document.createElement("div"):null,_=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi,E={nbsp:"Â ",lt:"<",gt:">",amp:"&",quot:'"'},b="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):"ï¿½"},function(e){return null==e?null:(e+"").replace(_,(function(e,n,t,r){return n?function(e){if(function(e){return y(E,e)}(e))return E[e]
if(!T)return e
T.innerHTML="&".concat(e,";")
var n=T[l]
return E[e]=n,n}(n):t||r?b(parseInt(t||r,t?16:10)||65533):"ï¿½"}))})
function A(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log",t="undefined"!=typeof window
if(t&&window&&window.jet&&"error"===n.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[n]&&console[n](e)}function k(e){return/[<&]/.test(e)}var I,R="[ \t\r\n]*"
function w(e){e=Array.isArray(e)?e:[e]
var n,t,r,i=0,a="<(?!/?"
return a+="(?:",e.forEach((function(e,o){n=e.tags||f,t=e.attrs||h,r=e.checkUrlAttrs||!1,0!==o&&(a+="|"),a+="(?:"+n.join("|")+")",a+="(?:",a+=R,a+="|[ \t\r\n]+",a+="(?:(?:",a+="(?:".concat(t,")(?:=([\"'])[^'\"<>]*\\").concat(++i,")?"),r&&(a+="|(?:".concat("href|src",")=([\"'])(?:(?:").concat("https?|ftp|mailto|invalid",")(?::|&#(?:58|x3a);)|(?:").concat("data:image/(?:gif|jpg|jpeg|png);base64,",")|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\").concat(++i)),a+=")"+R+")+",a+=")"})),a+=")",a+="/?>)",new RegExp(a,"i")}function x(e){return w({tags:e=e||f,checkUrlAttrs:!0})}function M(e,n){var t=(n=n||{}).allowTags,r=!1!==n.hasCustomElementMarkup
return t&&t.length>0?!x(t).test(e):r?!M.R_UNSAFE_CUSTOM_ELEMENT.test(e):!M.R_UNSAFE_HTML.test(e)}function O(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}M.R_UNSAFE_HTML=x(),M.R_UNSAFE_CUSTOM_ELEMENT=w([{tags:f,checkUrlAttrs:!0},{tags:[(I={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}).tag],attrs:[u,I.attrs].join("|"),checkUrlAttrs:!1}])
var N={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},P=/<([\w:]+)/
function U(e){return e in N}function D(e,n){var t,r,i,a,o,u,l=n.createDocumentFragment(),p=[]
for(i=0,o=e.length;i<o;i++)if(r=e[i])if("string"==typeof r){t=t||l.appendChild(n.createElement("div"))
var f=s(P.exec(r)||["",""],2)[1]
if(void 0!==f){var h=f.toLowerCase(),m=U(h)&&N[h]||N._default
for(j(t,m[1]+r+m[2]),a=m[0];a--;)t&&t.lastChild&&t.lastChild.nodeType===Node.ELEMENT_NODE&&(t=t.lastChild)
p.push.apply(p,function(e){if(Array.isArray(e))return d(e)}(u=Array.from(t.childNodes))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||c(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),(t=l.firstChild)&&(t.textContent="")}}else r instanceof Node&&p.push(r)
for(l.textContent="",r=p[i=0];r;)l.appendChild(r),r=p[++i]
return l}function L(e,n,t){e=e.toString()
var r=n?function(e,n){var t={}
return e.replace(/\{([^}]+)\}/g,(function(e,r){if(y(t,r))return t[r]
if(y(n,r)){var i=n[r],a="string"==typeof i
if(!(a||i instanceof m||"number"==typeof i))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.")
return i?(i=a?"".concat(S(i)):i.toString(),t[r]=i,i):e}return e}))}(e,n):e,i=e
return k(r)&&!M(r,t)&&(r=O(r),A("Content contains tags or attributes that are not allowed:\nContent: "+i,"error")),r}var F=L,B=L
function j(e,n,t){var r=L(n,t)
return r&&k(r)?e.innerHTML=r:r&&(e[l]=r),r}var q=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&a(e,n)}(d,e)
var t,s,c=(t=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=i(t)
if(s){var r=i(this).constructor
e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments)
return o(this,e)})
function d(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return n(this,d),(t=c.call(this)).options=r,t.tags=t.options.allowTags?t.options.allowTags.flat():[],t.str=e,t}return r(d,[{key:"toString",value:function(){var e=this.str,n=this.strValue,t=e
return void 0!==n?n:(M(e,{allowTags:this.tags,hasCustomElementMarkup:this.options.hasCustomElementMarkup})||(t=e,e=O(e),A("UnsafeString contains tags or attributes that are not allowed.\nString: "+t,"error")),this.strValue=e,e)}}]),d}(m),V=/ /g,H=/[\s\u0000<>"]|%00/,G=/\\/,K=/([.]|%2e){2}/i,W=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])")
function z(e){var n,t="invalid://"
if("string"!=typeof e)return A("jSecure Warning: url must be a string","error"),t
if((n=e.trim()).indexOf(" ")>-1&&(A("jSecure Warning: url should not contain spaces: "+e,"warn"),n=n.replace(V,"+")),!W.test(n))return A("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),t
if(H.test(n))return A("jSecure Error: not valid url character found in url: "+e,"error"),t
var r,i=n.split("?")[0],a=!1
if(i){try{if(r=decodeURI(i),K.test(r))return A("jSecure Error: malicious data found in url path: "+i,"error"),t}catch(e){a=!0}if(a)return A("jSecure Error: malformed url path detected: "+i),t
if(G.test(i)||K.test(i))return A("jSecure Error: malicious data found in url path: "+i,"error"),t}return e}var Q={redirect:function(e){window&&(window.location.href=e)}},$={ALLOWED_TAGS:f,FORMATTING_TAGS:p,htmlEncode:S,htmlUnencode:C,log:A,mk:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r]
var i,a="",o=t.length
return e&&e.forEach((function(e,n){a+=e,n<o&&(i=t[n],a+=i instanceof q?i:S(i))})),"".concat(B(a))},parseHTML:function(e,n){var t
if(n=n||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)t=D([e],n)
else{if(!Array.isArray(e))return e
t=D(e,n)}return Array.from(t.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:F,reEncode:function(e){return S(C(e))},_redirector:Q,redirect:function(e){var n=z(e)
n===e&&Q.redirect(n)},sanitizeHTML:B,sanitizeUrl:z,setElementContent:j,unsafe:function(e){return e},UnsafeString:function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return this instanceof e||console.warn("Calling 'UnsafeString' without the 'new' keword is deprecated"),new q(n,t)}}
e.exports=$},9154:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},61264:e=>{function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}])

//# sourceMappingURL=chunk.535.d21f29ac156c3da89986.map